/*
	Copyright (c) 2004-2012, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
require({cache:{"url:redfin/search/common/widgets/templates/MlsDisclaimer.html":'\x3cdiv class\x3d"MlsDisclaimer"\x3e\n    \x3chr data-dojo-attach-point\x3d"ruler"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"disclaimerNode"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"hidden" data-dojo-attach-point\x3d"lastUpdatedNode"\x3eLast updated: ${lastUpdated}\x3c/div\x3e\n\x3c/div\x3e',"url:redfin/homepage/widgets/templates/SavedSearchesWidget.html":'\x3cdiv class\x3d"SavedSearchesWidget whiteBox desktop"\x3e\n\t\x3ca class\x3d"title" href\x3d"${WEB_SERVER}/myredfin/saved-searches" dojoAttachPoint\x3d"savedSearchesHeaderNode"\x3e\n\t\t\x3cdiv class\x3d"iconWrap"\x3e\n\t\t\t\x3cspan class\x3d"search_icon icon"\x3e\x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\t\x3ch2 class\x3d"text"\x3eSearches\x3c/h2\x3e\n\t\x3c/a\x3e\n\n\t\x3cdiv class\x3d"loading" dojoAttachPoint\x3d"loadSpinner"\x3e\x3c/div\x3e\n\n\t\x3cdiv class\x3d"mostRecentSearch hidden" dojoAttachPoint\x3d"mostRecentSearchNode"\x3e\n\t\t\x3cp class\x3d"subheader"\x3eMost Recent Search\x3c/p\x3e\n\t\t\x3cdiv class\x3d"triangle"\x3e\x3c/div\x3e\n\t\t\x3cdiv dojoAttachPoint\x3d"mostRecentSearchContentNode" class\x3d"mostRecentSearchContentNode"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\n\t\x3cdiv class\x3d"savedSearches" dojoAttachPoint\x3d"savedSearchesNode"\x3e\n\t\t\x3cdiv class\x3d"subheader"\x3e\n\t\t\t\x3cspan\x3eSaved Searches\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"instantUpdates"\x3eInstant Updates\x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"triangle"\x3e\x3c/div\x3e\n\n\t\t\x3cdiv class\x3d"savedSearchesContent"\x3e\n\t\t\t\x3cdiv class\x3d"ghostTown hidden" dojoAttachPoint\x3d"savedSearchesGhostTownNode"\x3e\n\t\t\t\t\x3cdiv class\x3d"ghostTownContents"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"iconWrap"\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"icon savedSearchesGhostTown"\x3e\x3c/span\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cp\x3eBe the first to know about new homes for sale by turning on Instant Updates for your search.\x3c/p\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv dojoAttachPoint\x3d"errorMessageNode" class\x3d"errorMessageNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv dojoAttachPoint\x3d"savedSearchesNode" class\x3d"savedSearchesNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv dojoAttachPoint\x3d"savedSearchesControlsNode" class\x3d"savedSearchesControl"\x3e\n\t\t\t\t\x3ca href\x3d"${WEB_SERVER}/myredfin/saved-searches" dojoAttachPoint\x3d"moreSavedSearchesNode"\x3eMore Searches\x3c/a\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:redfin/common/templates/HomeStats.html":"\x3cdiv class\x3d'HomeStats' data-dojo-attach-point\x3d\"containerNode\"\x3e\x3c/div\x3e","dojo/request/default":function(){define(["exports","require","../has"],function(h,b,e){var a=e("config-requestProvider");a||(a="./xhr");h.getPlatformDefaultId=function(){return"./xhr"};h.load=function(c,d,g,f){b(["platform"==c?"./xhr":a],function(a){g(a)})}})},"redfin/common/data/util/_Resettable":function(){define("redfin/common/data/util/_Resettable",["dijit",
"dojo","dojox"],function(h,b,e){b.provide("redfin.common.data.util._Resettable");b.declare("redfin.common.data.util._Resettable",[],{_Resettable_resetData:null,constructor:function(a){this._Resettable_resetData={};var c=this._getAllFieldsMap(),b;for(b in c)this._Resettable_resetData[b]=null;for(var g in a)this._Resettable_resetData[g]=a[g]},commit:function(){var a=this._getAllFieldsMap(),c;for(c in a){var b=a[c];"list"===b?this._commitListField(c):"regular"===b?this._commitRegularField(c):console.error("TODO: eh?")}this.onCommit()},
reset:function(a){"undefined"===typeof a&&(a=!1);var c=this._getAllFieldsMap(),b;for(b in c){var g=c[b];"list"===g?this._resetListField(b,a):"regular"===g?this._resetRegularField(b,a):console.error("TODO: eh?")}this.onReset(a)},onCommit:function(){},onReset:function(a){},_getAllFieldsMap:function(){return b.getObject(this.declaredClass)._autoGenFields},_commitRegularField:function(a){var c=this._Resettable_resetData,b=this._propNameToGetterName(a);"function"===typeof this[b]&&0===this[b].length&&
(b=this[b](),c[a]=b,this._isInstanceOfResettable(b)&&b.commit())},_commitListField:function(a){a=this._propNameToGetterName(a);"undefined"!==typeof a&&this[a]().commit()},_resetRegularField:function(a,c){var b=this._Resettable_resetData[a],g=this._propNameToGetterName(a);"function"===typeof this[g]&&0===this[g].length&&(g=this[g](),b!==g?this._safeGetSetter(a,c).apply(this,[b]):null==b&&null==g||this._isInstanceOfResettable(b)&&b.reset())},_resetListField:function(a){a=this._propNameToGetterName(a);
"undefined"!==typeof a&&this[a]().reset()},_safeGetSetter:function(a,c){var b=this["set"+this._getFieldNameCapitalized(a)];return!b||"function"!==typeof b?function(){}:c?b:this._propDirectSetter(this,a)},_isInstanceOfResettable:function(a){return a&&"function"===typeof a.isInstanceOf&&(a.isInstanceOf(redfin.common.data.util._Resettable)||a.isInstanceOf(redfin.common.data.DataObjectListModel))},_propDirectSetter:function(a,c){return function(b){return a["_"+c]=b}},_propNameToGetterName:function(a){a=
this._propNameToSetterName(a);return this._getGetterNameForSetterName(a)},_propNameToSetterName:function(a){return"set"+a.substring(0,1).toUpperCase()+a.substring(1)},_getGetterNameForSetterName:function(a){return"get"+a.substring(3)},_getFieldNameCapitalized:function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}})})},"redfin/search/common/dialogs/BasicDialogActions":function(){require({cache:{"url:redfin/search/common/dialogs/templates/BasicDialogActions.html":'\x3cdiv class\x3d"actions clear-fix grey-pattern-bg"\x3e\n\t\x3ca class\x3d"hidden basic-button-black Button primary small basic-border-radius float-right action" target\x3d"_top" data-dojo-attach-point\x3d"positiveButton"\x3e${positive}\x3c/a\x3e\n\t\x3ca class\x3d"hidden basic-button-black Button tertiary small basic-border-radius float-right action" target\x3d"_top" data-dojo-attach-point\x3d"negativeButton"\x3e${negative}\x3c/a\x3e\n\x3c/div\x3e'}});
define("redfin/search/common/dialogs/BasicDialogActions","dojo/_base/declare dojo/dom-class dojo/text!redfin/search/common/dialogs/templates/BasicDialogActions.html dijit/_TemplatedMixin dijit/_Widget redfin/common/mixins/_Adopt".split(" "),function(h,b,e,a,c,d){return h("redfin.search.common.dialogs.BasicDialogActions",[c,a,d],{templateString:e,positive:"Okay",negative:"",postCreate:function(){this.inherited(arguments);0<this.positive.length&&(this.connect(this.positiveButton,"onclick",function(){this.onPositiveClick()}),
b.remove(this.positiveButton,"hidden"));0<this.negative.length&&(this.connect(this.negativeButton,"onclick",function(){this.onNegativeClick()}),b.remove(this.negativeButton,"hidden"))},onPositiveClick:function(){},onNegativeClick:function(){}})})},"redfin/common/elements/Dialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/event dojo/keys dojo/dom dojo/dom-class dojo/dom-style dojo/dom-geometry dojo/window dojo/on dojo/has dojo/query dojo/Deferred dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dijit/layout/ContentPane dijit/Dialog dijit/_DialogMixin dijit/DialogUnderlay dijit/focus dijit/a11y redfin/common/elements/DialogUnderlay dojo/text!./templates/Dialog.html redfin/bouncer/Bouncer redfin/common/elements/OldDialog redfin/env dojo/NodeList-dom".split(" "),
function(h,b,e,a,c,d,g,f,k,l,m,p,n,q,r,t,u,w,v,x,s,y,C,A,z,G,F,B,K){if(!F.isOn(g_feature.COMMON_DIALOGS))return B;h=h("redfin.common.elements.Dialog",[v,u,s],{baseClass:"CommonDialog",headerSpriteIcon:"",title:"",_setTitleAttr:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}],templateString:G,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,contentClass:"",_setContentClassAttr:{node:"containerNode",type:"class"},doLayout:!1,dialogIdentifyingClass:null,hideOnUnderlayClick:!1,
showCloseButton:!0,closable:!0,destroyOnHide:!0,showHeader:!0,open:!1,_unfixDialogBackground:!1,titleBar:null,titleNode:null,containerNode:null,dialogGutsNode:null,closeButtonNode:null,constructor:function(){this._modalconnects=[];this._bodyWrapper=g.byId("body_wrapper")},postCreate:function(){this.headerSpriteIcon&&(f.remove(this.headerIconNode,"hidden"),f.add(this.headerIconNode,this.headerSpriteIcon));this.dialogIdentifyingClass&&f.add(this.domNode,this.dialogIdentifyingClass);this.closable&&(this.showCloseButton&&
this.showHeader)&&f.remove(this.closeButtonNode,"hidden");this.showHeader||f.add(this.titleBar,"hidden");K.isAgentTools()&&q("\x3e .cell \x3e .guts",this.domNode).addClass(["section","primary"]);this.ownerDocumentBody.appendChild(this.domNode);this.own(p(this,"execute",b.hitch(this,this.hide)));this.own(p(this,"cancel",b.hitch(this,this.hide)));this.inherited(arguments)},_setFooterAttr:function(a){f.toggle(this.footerContainer,"hidden",!a);this.footerNode.innerHTML=a;this._set("footer",a)},_setup:function(){var a=
!this._unfixDialogBackground||n("touch");f.toggle(this.domNode,"fixed",!a);this.underlayAttrs={dialogId:this.id,"class":e.map(this["class"].split(/\s/),function(a){return a+"_underlay"}).join(" "),ownerDocument:this.ownerDocument,fixedBackground:a,fixed:!0};this.content.onHide&&this.connect(this.content,"onHide",this.hide);a=k.get(this.closeButtonNode,"backgroundImage");this.closable&&(this.showCloseButton&&this.showHeader)&&(!a||"none"===a)&&console.error("Missing close button sprite styles. Please include PropertyDetailsSprites.css")},
show:function(){if(!this.open){this._started||this.startup();this._alreadyInitialized||(this._setup(),this._alreadyInitialized=!0);J.show(this,this.underlayAttrs);this._bindModalEvents();f.remove(this.domNode,"hidden");this._set("open",!0);this._onShow();f.add(this.domNode,"shown");var a=new r;a.resolve(!0);J.isTop(this)&&(this.autofocus?(this._getFocusItems(this.dialogGutsNode),C.focus(this._firstFocusItem)):C.focus(this.dialogGutsNode));return a}},hide:function(){if(this.open){var a=new r;this._removeModalConnects();
this.onHide();f.remove(this.domNode,"shown");this._set("open",!1);a.then(b.hitch(this,function(){J.hide(this);f.add(this.domNode,"hidden");this.destroyOnHide&&this.destroyRecursive()}));setTimeout(function(){a.resolve(!0)},0);return a}},_bindModalEvents:function(){this._modalconnects.push(p(this.domNode,a._keypress,b.hitch(this,"_onKey")));if(this.hideOnUnderlayClick){var c=p(this.domNode,"click",b.hitch(this,function(a){g.isDescendant(a.target,this.dialogGutsNode)||setTimeout(b.hitch(this,function(){this.hide()}),
0)}));this._modalconnects.push(c)}this.closable&&(!f.contains(this.closeButtonNode,"hidden")&&!f.contains(this.titleBar,"hidden"))&&this._modalconnects.push(p(this.closeButtonNode,"click",b.hitch(this,"onCancel")))},_layout:function(){this._checkIfSingleChild();this._singleChild&&this._singleChild.resize?this._singleChild.resize():e.forEach(this.getChildren(),function(a){a.resize&&a.resize()})},_onKey:function(a){if(a.charOrCode){var b=a.target;a.charOrCode===d.TAB&&this._getFocusItems(this.domNode);
var f=this._firstFocusItem==this._lastFocusItem;if(b==this._firstFocusItem&&a.shiftKey&&a.charOrCode===d.TAB)f||C.focus(this._lastFocusItem),c.stop(a);else if(b==this._lastFocusItem&&a.charOrCode===d.TAB&&!a.shiftKey)f||C.focus(this._firstFocusItem),c.stop(a);else{for(;b;){if(b==this.domNode)if(a.charOrCode==d.ESCAPE){if(this.closable)this.onCancel()}else return;b=b.parentNode}if(a.charOrCode!==d.TAB)c.stop(a);else if(!n("opera"))try{this._firstFocusItem.focus()}catch(k){}}}},destroy:function(){!this._destroyed&&
!this._beingDestroyed&&(this.open&&J.hide(this),this._removeModalConnects(),this.inherited(arguments))},_removeModalConnects:function(){for(var a;a=this._modalconnects.pop();)a.remove()},_getFocusItems:function(a){a=A._getTabNavigable(a);this._firstFocusItem=a.lowest||a.first||this.dialogGutsNode;this._lastFocusItem=a.last||a.highest||this._firstFocusItem}});var D=x._dialogStack,M=x._DialogLevelManager,J=b.delegate(M,{_fixedBgOrigScrollPos:null,_origBackgroundPosition:null,show:function(a,c){var b=
J,d=b.getFirstAndLastFixedBgDsIndexes();c.fixedBackground&&-1===d.first&&(d=m.getBox(),b._fixedBgOrigScrollPos={x:d.l,y:d.t},document.body.scrollHeight>d.h&&(b._fixedBgOrigScrollPos.originalOverflowY=k.get(document.body,"overflowY")||"",k.set(document.body,"overflowY","scroll")),f.add(a._bodyWrapper,"fixedBackground"),k.set(a._bodyWrapper,{top:-b._fixedBgOrigScrollPos.y+"px",left:-b._fixedBgOrigScrollPos.x+"px"}),/header_back\.png/.test(k.get(document.body,"backgroundImage"))&&(b._origBackgroundPosition=
{position:k.get(document.body,"backgroundPosition")},k.set(document.body,"backgroundPosition",-b._fixedBgOrigScrollPos.x+"px "+-b._fixedBgOrigScrollPos.y+"px")),setTimeout(function(){window.scrollTo(0,0)},0));b=y._singleton;if(!b||b._destroyed||"redfin.common.elements.DialogUnderlay"!=b.declaredClass)b&&!b._destroyed&&b.destroyRecursive(),y._singleton=new z(c),1<D.length&&y._singleton.show();M.show.apply(null,[a,c])},hide:function(a){var c=function(a){return e.indexOf(e.map(D,function(a){return a.dialog}),
a)}(a),b=J,d=b.getFirstAndLastFixedBgDsIndexes(),l=d.first,g=d.last,d=!1;c===l&&!(g>l)&&(d=!0);M.hide.apply(null,[a]);c=D[D.length-1].underlayAttrs;(!c||!c.fixed)&&y._singleton.set("fixed",!1);d&&(f.remove(a._bodyWrapper,"fixedBackground"),k.set(a._bodyWrapper,{top:"",left:""}),b._fixedBgOrigScrollPos.originalOverflowY&&k.set(document.body,"overflowY",b._fixedBgOrigScrollPos.originalOverflowY),b._origBackgroundPosition&&(k.set(document.body,"backgroundPosition",b._origBackgroundPosition.position),
b._origBackgroundPosition=null),window.scrollTo(b._fixedBgOrigScrollPos.x,b._fixedBgOrigScrollPos.y),b._fixedBgOrigScrollPos=null)},getFirstAndLastFixedBgDsIndexes:function(){var a=e.map(D,function(a){return a.underlayAttrs&&a.underlayAttrs.fixedBackground});return{first:e.indexOf(a,!0),last:e.lastIndexOf(a,!0)}}});return h})},"dojo/date":function(){define(["./has","./_base/lang"],function(h,b){var e={getDaysInMonth:function(a){var c=a.getMonth();return 1==c&&e.isLeapYear(a)?29:[31,28,31,30,31,30,
31,31,30,31,30,31][c]},isLeapYear:function(a){a=a.getFullYear();return!(a%400)||!(a%4)&&!!(a%100)},getTimezoneName:function(a){var c=a.toString(),b="",g=c.indexOf("(");if(-1<g)b=c.substring(++g,c.indexOf(")"));else if(g=/([A-Z\/]+) \d{4}$/,c=c.match(g))b=c[1];else if(c=a.toLocaleString(),g=/ ([A-Z\/]+)$/,c=c.match(g))b=c[1];return"AM"==b||"PM"==b?"":b},compare:function(a,c,b){a=new Date(+a);c=new Date(+(c||new Date));"date"==b?(a.setHours(0,0,0,0),c.setHours(0,0,0,0)):"time"==b&&(a.setFullYear(0,
0,0),c.setFullYear(0,0,0));return a>c?1:a<c?-1:0},add:function(a,c,b){var g=new Date(+a),f=!1,k="Date";switch(c){case "day":break;case "weekday":var l;(c=b%5)?l=parseInt(b/5):(c=0<b?5:-5,l=0<b?(b-5)/5:(b+5)/5);var e=a.getDay(),p=0;6==e&&0<b?p=1:0==e&&0>b&&(p=-1);e+=c;if(0==e||6==e)p=0<b?2:-2;b=7*l+c+p;break;case "year":k="FullYear";f=!0;break;case "week":b*=7;break;case "quarter":b*=3;case "month":f=!0;k="Month";break;default:k="UTC"+c.charAt(0).toUpperCase()+c.substring(1)+"s"}if(k)g["set"+k](g["get"+
k]()+b);f&&g.getDate()<a.getDate()&&g.setDate(0);return g},difference:function(a,c,b){c=c||new Date;b=b||"day";var g=c.getFullYear()-a.getFullYear(),f=1;switch(b){case "quarter":a=a.getMonth();c=c.getMonth();a=Math.floor(a/3)+1;c=Math.floor(c/3)+1;f=c+4*g-a;break;case "weekday":g=Math.round(e.difference(a,c,"day"));b=parseInt(e.difference(a,c,"week"));f=g%7;if(0==f)g=5*b;else{var k=0,l=a.getDay();c=c.getDay();b=parseInt(g/7);f=g%7;a=new Date(a);a.setDate(a.getDate()+7*b);a=a.getDay();if(0<g)switch(!0){case 6==
l:k=-1;break;case 0==l:k=0;break;case 6==c:k=-1;break;case 0==c:k=-2;break;case 5<a+f:k=-2}else if(0>g)switch(!0){case 6==l:k=0;break;case 0==l:k=1;break;case 6==c:k=2;break;case 0==c:k=1;break;case 0>a+f:k=2}g=g+k-2*b}f=g;break;case "year":f=g;break;case "month":f=c.getMonth()-a.getMonth()+12*g;break;case "week":f=parseInt(e.difference(a,c,"day")/7);break;case "day":f/=24;case "hour":f/=60;case "minute":f/=60;case "second":f/=1E3;case "millisecond":f*=c.getTime()-a.getTime()}return Math.round(f)}};
b.mixin(b.getObject("dojo.date",!0),e);return e})},"url:redfin/common/widgets/contactBox/templates/ContactBoxMultiWindow.html":'\x3cdiv class\x3d"contactBoxMultiWindowViewport" dojoAttachPoint\x3d"viewport"\x3e\x3cdiv class\x3d"contactBoxMultiWindow" dojoAttachPoint\x3d"content"\x3e\x3c/div\x3e\x3c/div\x3e',"redfin/common/data/Login":function(){define(["dijit","dojo","dojox","dojo/require!redfin/common/data/MethodGenerator,redfin/common/data/DataObject"],function(h,b,e){b.provide("redfin.common.data.Login");
b.require("redfin.common.data.MethodGenerator");b.require("redfin.common.data.DataObject");b.declare("redfin.common.data.Login",[redfin.common.data.DataObject],{getCompletedTourCount:function(){if("number"===typeof this._completedTourCount)return this._completedTourCount;var a=this.getTours();if(null!==a){var c=0;b.forEach(a,function(a){a.getStatus()===g_tourStatus.COMPLETED&&c++});return c}return null},getFacebookPhotoUrl:function(a){a||(a="square");var c=this.getFacebookId();return null==c?null:
("https:"===window.location.protocol?"https://":"http://")+"graph.facebook.com/"+c+"/picture?type\x3d"+a}});b.forEach("id screenName primaryEmail memberSinceDate lastActivityDate emailSetting emailVerifiedDate registrationPlatform registrationAuthority facebookId medPhotoUrl largePhotoUrl userProfileViewCount userActivity profileUrl".split(" "),function(a){redfin.common.data.MethodGenerator.generateMethods(redfin.common.data.Login,a)});b.forEach("person deals tours brokerageActivities estimates customerReminders".split(" "),
function(a){redfin.common.data.MethodGenerator.generateGetter(redfin.common.data.Login,a)})})},"dojox/collections/ArrayList":function(){define("dojox/collections/ArrayList",["dojo/_base/kernel","dojo/_base/array","./_base"],function(h,b,e){e.ArrayList=function(a){var c=[];a&&(c=c.concat(a));this.count=c.length;this.add=function(a){c.push(a);this.count=c.length};this.addRange=function(a){if(a.getIterator)for(a=a.getIterator();!a.atEnd();)this.add(a.get());else for(var b=0;b<a.length;b++)c.push(a[b]);
this.count=c.length};this.clear=function(){c.splice(0,c.length);this.count=0};this.clone=function(){return new e.ArrayList(c)};this.contains=function(a){for(var b=0;b<c.length;b++)if(c[b]==a)return!0;return!1};this.forEach=function(a,b){h.forEach(c,a,b)};this.getIterator=function(){return new e.Iterator(c)};this.indexOf=function(a){for(var b=0;b<c.length;b++)if(c[b]==a)return b;return-1};this.insert=function(a,b){c.splice(a,0,b);this.count=c.length};this.item=function(a){return c[a]};this.remove=
function(a){a=this.indexOf(a);0<=a&&c.splice(a,1);this.count=c.length};this.removeAt=function(a){c.splice(a,1);this.count=c.length};this.reverse=function(){c.reverse()};this.sort=function(a){a?c.sort(a):c.sort()};this.setByIndex=function(a,b){c[a]=b;this.count=c.length};this.toArray=function(){return[].concat(c)};this.toString=function(a){return c.join(a||",")}};return e.ArrayList})},"redfin/homepage/widgets/HomeSearchWidgetizer":function(){define("redfin/homepage/widgets/HomeSearchWidgetizer","dojo/_base/lang dojo/_base/declare dojo/query dojo/dom-attr dojo/dom-class dojo/has dojo/keys dojo/on dojo/topic dijit/_WidgetBase redfin/common/mixins/_Adopt redfin/homepage/widgets/_HomeSearchForm redfin/search/widget/location_autocomplete_input_box".split(" "),
function(h,b,e,a,c,d,g,f,k,l,m,p,n){return b("redfin.homepage.widgets.HomeSearchWidgetizer",[l,m,p],{buildRendering:function(){this.inherited(arguments);if(!this.domNode)throw"DomNodeMissing";this.searchFormNode=this.domNode;this.locationInput=e("input[name\x3dsearchLocation]",this.searchFormNode)[0];this.minPriceNode=e("select[name\x3dmin_price]",this.searchFormNode)[0];this.maxPriceNode=e("select[name\x3dmax_price]",this.searchFormNode)[0];this.minBedsNode=e("select[name\x3dnum_beds]",this.searchFormNode)[0];
this.minBathsNode=e("select[name\x3dnum_baths]",this.searchFormNode)[0];this.submitButtonNode=e("input[name\x3dwideSubmit]",this.searchFormNode)[0];this.thinSubmitButtonNode=e("input[name\x3dthinSubmit]",this.searchFormNode)[0];this.currentLocationButtonNode=e(".btn-current-location",this.searchFormNode)[0];this.clearSearchButtonNode=e(".btn-clear-search-input",this.searchFormNode)[0];this.thinSubmitDivNode=e("div[id\x3dthinSubmitDiv]",this.searchFormNode)[0]},postCreate:function(){this.inherited(arguments);
this._createAutocompleteInput();this.setLocationPlaceholder(this._LOCATION_INPUT_PLACEHOLDER);this._setUpExperiment();this._checkLastSearchCookie();if("undefined"!==typeof g_isSearchSubmitted&&!0===g_isSearchSubmitted){for(var a=0;a<this.searchFormNode.elements.length;a++)this.searchFormNode.elements[a].disabled=!1;this.submitSearch()}else this.searchFormNode.onsubmit=null;this.own(f(this.searchFormNode,"submit",h.hitch(this,this.submitSearch)));this.thinSubmitDivNode&&this.own(f(this.thinSubmitDivNode,
"click",h.hitch(this,this.submitSearch)));d("native-geolocation")&&this.currentLocationButtonNode&&(c.remove(this.currentLocationButtonNode,"hidden"),this.own(f(this.currentLocationButtonNode,"click",h.hitch(this,this._updateCurrentLocation)),f(this.clearSearchButtonNode,"click",h.hitch(this,this._clearSearchInput)),k.subscribe("autocomplete:handleInput",h.hitch(this,this.handleInput))))},handleInput:function(a){var c=a.charCode||a.keyCode;32<=c?this.showClearSearchButton():c===g.BACKSPACE&&(1>=a.srcElement.value.length||
0===a.srcElement.selectionStart&&a.srcElement.selectionEnd===a.srcElement.value.length?this.showCurrentLocationButton():this.showClearSearchButton())},showCurrentLocationButton:function(){c.add(this.clearSearchButtonNode,"hidden");c.remove(this.currentLocationButtonNode,"hidden")},showClearSearchButton:function(){c.add(this.currentLocationButtonNode,"hidden");c.remove(this.clearSearchButtonNode,"hidden")},_createAutocompleteInput:function(){var a=this.locationInput.value,c=document.activeElement==
this.locationInput;this.locationInput=autocomplete=this.adopt(redfin.search.widget.LocationAutocompleteInputBox,{name:"searchLocation",value:a,tabindex:0,"class":"search-location"},this.locationInput);this._loadLastSearch=""===a;c&&autocomplete.textbox.focus()}})})},"dijit/Viewport":function(){define("dijit/Viewport","dojo/Evented dojo/on dojo/ready dojo/sniff dojo/_base/window dojo/window".split(" "),function(h,b,e,a,c,d){var g=new h;e(200,function(){var f=d.getBox();g._rlh=b(c.global,"resize",function(){var a=
d.getBox();f.h==a.h&&f.w==a.w||(f=a,g.emit("resize"))});if(8==a("ie")){var k=screen.deviceXDPI;setInterval(function(){screen.deviceXDPI!=k&&(k=screen.deviceXDPI,g.emit("resize"))},500)}});return g})},"redfin/search/projection_helper_overlay":function(){define(["dijit","dojo","dojox"],function(h,b,e){b.provide("redfin.search.projection_helper_overlay");redfin.search.ProjectionHelperOverlay={_declared:!1,declare:function(){redfin.search.ProjectionHelperOverlay._declared||(b.declare("redfin.search.ProjectionHelperOverlay",
[google.maps.OverlayView],{drawn:!1,constructor:function(a){this._map=a;this.setMap(a)},onAdd:function(){},draw:function(){this.drawn=!0},onRemove:function(){},fromDivPixelToLatLng:function(a){this.drawn||console.error("redfin.search.ProjectionHelperOverlay.fromDivPixelToLatLng called TOO SOON (before draw)");return this.getProjection().fromDivPixelToLatLng(a)},fromLatLngToContainerPixel:function(a){this.drawn||console.error("redfin.search.ProjectionHelperOverlay.fromLatLngToContainerPixel called TOO SOON (before draw)");
return this.getProjection().fromLatLngToContainerPixel(a)}}),redfin.search.ProjectionHelperOverlay._declared=!0,redfin.search.ProjectionHelperOverlay.declare=function(){console.error("redfin.search.ProjectionHelperOverlay.declare called multiple times!")})}}})},"redfin/env":function(){define("redfin/env",["dojo/dom-class"],function(h){return{isAgentTools:function(){return h.contains(document.body,"agent-tools")},isCustomerFacing:function(){return h.contains(document.body,"customer-facing")}}})},"redfin/search/common/loader/LoaderCache":function(){define("redfin/search/common/loader/LoaderCache",
["dojo","dojo/_base/declare","dojo/_base/lang"],function(h,b,e){b=b("redfin.search.common.loader.LoaderCache",null,{});e.mixin(redfin.search.common.loader.LoaderCache,{getData:function(a){return h.global.g_serverData?(a=h.global.g_serverData[a])?a:{resultCode:0}:null},isAvailable:function(){return h.global.g_serverData}});return b})},"dijit/Dialog":function(){require({cache:{"url:dijit/templates/Dialog.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"${id}_title"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\n\t\t\t\trole\x3d"header" level\x3d"1"\x3e\x3c/span\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"${buttonCancel}" role\x3d"button" tabIndex\x3d"-1"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\x3c/div\x3e\n\x3c/div\x3e\n'}});
define("dijit/Dialog","require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/event dojo/_base/fx dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/ready dojo/sniff dojo/window dojo/dnd/Moveable dojo/dnd/TimedMoveable ./focus ./_base/manager ./_Widget ./_TemplatedMixin ./_CssStateMixin ./form/_FormMixin ./_DialogMixin ./DialogUnderlay ./layout/ContentPane dojo/text!./templates/Dialog.html ./main dojo/i18n!./nls/common".split(" "),
function(h,b,e,a,c,d,g,f,k,l,m,p,n,q,r,t,u,w,v,x,s,y,C,A,z,G,F,B,K,D,M){y=a("dijit._DialogBase",[A,G,F,z],{templateString:D,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}],open:!1,duration:y.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,doLayout:!1,draggable:!0,_setDraggableAttr:function(a){this._set("draggable",a)},"aria-describedby":"",maxRatio:0.9,
postMixInProperties:function(){var a=p.getLocalization("dijit","common");q.mixin(this,a);this.inherited(arguments)},postCreate:function(){k.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);this.connect(this,"onExecute","hide");this.connect(this,"onCancel","hide");this._modalconnects=[]},onLoad:function(){this._position();this.autofocus&&E.isTop(this)&&(this._getFocusItems(this.domNode),s.focus(this._firstFocusItem));
this.inherited(arguments)},_endDrag:function(){var a=f.position(this.domNode),c=w.getBox(this.ownerDocument);a.y=Math.min(Math.max(a.y,0),c.h-a.h);a.x=Math.min(Math.max(a.x,0),c.w-a.w);this._relativePosition=a;this._position()},_setup:function(){var a=this.domNode;this.titleBar&&this.draggable?(this._moveable=new (6==u("ie")?x:v)(a,{handle:this.titleBar}),this.connect(this._moveable,"onMoveStop","_endDrag")):g.add(a,"dijitDialogFixed");this.underlayAttrs={dialogId:this.id,"class":b.map(this["class"].split(/\s/),
function(a){return a+"_underlay"}).join(" "),ownerDocument:this.ownerDocument}},_size:function(){this._checkIfSingleChild();this._singleChild?"undefined"!=typeof this._singleChildOriginalStyle&&(this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,delete this._singleChildOriginalStyle):k.set(this.containerNode,{width:"auto",height:"auto"});var a=f.position(this.domNode),c=w.getBox(this.ownerDocument);c.w*=this.maxRatio;c.h*=this.maxRatio;if(a.w>=c.w||a.h>=c.h){var b=f.position(this.containerNode),
d=Math.min(a.w,c.w)-(a.w-b.w),a=Math.min(a.h,c.h)-(a.h-b.h);this._singleChild&&this._singleChild.resize?("undefined"==typeof this._singleChildOriginalStyle&&(this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText),this._singleChild.resize({w:d,h:a})):k.set(this.containerNode,{width:d+"px",height:a+"px",overflow:"auto",position:"relative"})}else this._singleChild&&this._singleChild.resize&&this._singleChild.resize()},_position:function(){if(!g.contains(this.ownerDocumentBody,"dojoMove")){var a=
this.domNode,c=w.getBox(this.ownerDocument),b=this._relativePosition,d=b?null:f.position(a);k.set(a,{left:Math.floor(c.l+(b?b.x:(c.w-d.w)/2))+"px",top:Math.floor(c.t+(b?b.y:(c.h-d.h)/2))+"px"})}},_onKey:function(a){if(a.charOrCode){var c=a.target;a.charOrCode===n.TAB&&this._getFocusItems(this.domNode);var b=this._firstFocusItem==this._lastFocusItem;if(c==this._firstFocusItem&&a.shiftKey&&a.charOrCode===n.TAB)b||s.focus(this._lastFocusItem),l.stop(a);else if(c==this._lastFocusItem&&a.charOrCode===
n.TAB&&!a.shiftKey)b||s.focus(this._firstFocusItem),l.stop(a);else{for(;c;){if(c==this.domNode||g.contains(c,"dijitPopup"))if(a.charOrCode==n.ESCAPE)this.onCancel();else return;c=c.parentNode}if(a.charOrCode!==n.TAB)l.stop(a);else if(!u("opera"))try{this._firstFocusItem.focus()}catch(d){}}}},show:function(){if(!this.open){this._started||this.startup();this._alreadyInitialized||(this._setup(),this._alreadyInitialized=!0);this._fadeOutDeferred&&this._fadeOutDeferred.cancel();var a=w.get(this.ownerDocument);
this._modalconnects.push(r(a,"scroll",q.hitch(this,"resize")));this._modalconnects.push(r(this.domNode,e._keypress,q.hitch(this,"_onKey")));k.set(this.domNode,{opacity:0,display:""});this._set("open",!0);this._onShow();this._size();this._position();var b;this._fadeInDeferred=new c(q.hitch(this,function(){b.stop();delete this._fadeInDeferred}));b=m.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:q.hitch(this,function(){E.show(this,this.underlayAttrs)}),onEnd:q.hitch(this,function(){this.autofocus&&
E.isTop(this)&&(this._getFocusItems(this.domNode),s.focus(this._firstFocusItem));this._fadeInDeferred.resolve(!0);delete this._fadeInDeferred})}).play();return this._fadeInDeferred}},hide:function(){if(this._alreadyInitialized&&this.open){this._fadeInDeferred&&this._fadeInDeferred.cancel();var a;this._fadeOutDeferred=new c(q.hitch(this,function(){a.stop();delete this._fadeOutDeferred}));this._fadeOutDeferred.then(q.hitch(this,"onHide"));a=m.fadeOut({node:this.domNode,duration:this.duration,onEnd:q.hitch(this,
function(){this.domNode.style.display="none";E.hide(this);this._fadeOutDeferred.resolve(!0);delete this._fadeOutDeferred})}).play();this._scrollConnected&&(this._scrollConnected=!1);for(var b;b=this._modalconnects.pop();)b.remove();this._relativePosition&&delete this._relativePosition;this._set("open",!1);return this._fadeOutDeferred}},resize:function(){"none"!=this.domNode.style.display&&(B._singleton&&B._singleton.layout(),this._position(),this._size())},destroy:function(){this._fadeInDeferred&&
this._fadeInDeferred.cancel();this._fadeOutDeferred&&this._fadeOutDeferred.cancel();this._moveable&&this._moveable.destroy();for(var a;a=this._modalconnects.pop();)a.remove();E.hide(this);this.inherited(arguments)}});var J=a("dijit.Dialog",[K,y],{});J._DialogBase=y;var E=J._DialogLevelManager={_beginZIndex:950,show:function(a,c){H[H.length-1].focus=s.curNode;var b=B._singleton;!b||b._destroyed?b=M._underlay=B._singleton=new B(c):b.set(a.underlayAttrs);var d=H[H.length-1].dialog?H[H.length-1].zIndex+
2:J._DialogLevelManager._beginZIndex;1==H.length&&b.show();k.set(B._singleton.domNode,"zIndex",d-1);k.set(a.domNode,"zIndex",d);H.push({dialog:a,underlayAttrs:c,zIndex:d})},hide:function(a){if(H[H.length-1].dialog==a){H.pop();var c=H[H.length-1];B._singleton._destroyed||(1==H.length?B._singleton.hide():(k.set(B._singleton.domNode,"zIndex",c.zIndex-1),B._singleton.set(c.underlayAttrs)));if(a.refocus){a=c.focus;if(c.dialog&&(!a||!d.isDescendant(a,c.dialog.domNode)))c.dialog._getFocusItems(c.dialog.domNode),
a=c.dialog._firstFocusItem;if(a)try{a.focus()}catch(f){}}}else c=b.indexOf(b.map(H,function(a){return a.dialog}),a),-1!=c&&H.splice(c,1)},isTop:function(a){return H[H.length-1].dialog==a}},H=J._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];u("dijit-legacy-requires")&&t(0,function(){h(["dijit/TooltipDialog"])});return J})},"dojo/NodeList-html":function(){define(["./query","./_base/lang","./html"],function(h,b,e){h=h.NodeList;b.extend(h,{html:function(a,c){var b=new e._ContentSetter(c||
{});this.forEach(function(c){b.node=c;b.set(a);b.tearDown()});return this}});return h})},"redfin/common/has/geo":function(){define(["dojo/has"],function(h){h.add("native-geolocation",function(){return Boolean(navigator.geolocation)});return h})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),function(h,b,e,a,c,d,g,f,k){function l(c,b,d,f){return f.replace(/([a-z])\1*/ig,function(k){var l,
e,m=k.charAt(0);k=k.length;var p=["abbr","wide","narrow"];switch(m){case "G":l=b[4>k?"eraAbbr":"eraNames"][0>c.getFullYear()?0:1];break;case "y":l=c.getFullYear();switch(k){case 1:break;case 2:if(!d.fullYear){l=String(l);l=l.substr(l.length-2);break}default:e=!0}break;case "Q":case "q":l=Math.ceil((c.getMonth()+1)/3);e=!0;break;case "M":case "L":l=c.getMonth();3>k?(l+=1,e=!0):(m=["months","L"==m?"standAlone":"format",p[k-3]].join("-"),l=b[m][l]);break;case "w":l=n._getWeekOfYear(c,0);e=!0;break;case "d":l=
c.getDate();e=!0;break;case "D":l=n._getDayOfYear(c);e=!0;break;case "e":case "c":if(l=c.getDay(),2>k){l=(l-a.getFirstDayOfWeek(d.locale)+8)%7;break}case "E":l=c.getDay();3>k?(l+=1,e=!0):(m=["days","c"==m?"standAlone":"format",p[k-3]].join("-"),l=b[m][l]);break;case "a":m=12>c.getHours()?"am":"pm";l=d[m]||b["dayPeriods-format-wide-"+m];break;case "h":case "H":case "K":case "k":e=c.getHours();switch(m){case "h":l=e%12||12;break;case "H":l=e;break;case "K":l=e%12;break;case "k":l=e||24}e=!0;break;case "m":l=
c.getMinutes();e=!0;break;case "s":l=c.getSeconds();e=!0;break;case "S":l=Math.round(c.getMilliseconds()*Math.pow(10,k-3));e=!0;break;case "v":case "z":if(l=n._getZone(c,!0,d))break;k=4;case "Z":m=n._getZone(c,!1,d);m=[0>=m?"+":"-",g.pad(Math.floor(Math.abs(m)/60),2),g.pad(Math.abs(m)%60,2)];4==k&&(m.splice(0,0,"GMT"),m.splice(3,0,":"));l=m.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+f);}e&&(l=g.pad(l,k));return l})}function m(a,c,d,f){var l=function(a){return a};
c=c||l;d=d||l;f=f||l;var k=a.match(/(''|[^'])+/g),g="'"==a.charAt(0);b.forEach(k,function(a,b){a?(k[b]=(g?d:c)(a.replace(/''/g,"'")),g=!g):k[b]=""});return f(k.join(""))}function p(a,c,b,f){f=d.escapeString(f);b.strict||(f=f.replace(" a"," ?a"));return f.replace(/([a-z])\1*/ig,function(d){var f;f=d.charAt(0);var l=d.length,k="",g="";b.strict?(1<l&&(k="0{"+(l-1)+"}"),2<l&&(g="0{"+(l-2)+"}")):(k="0?",g="0{0,2}");switch(f){case "y":f="\\d{2,4}";break;case "M":case "L":f=2<l?"\\S+?":"1[0-2]|"+k+"[1-9]";
break;case "D":f="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+k+"[1-9][0-9]|"+g+"[1-9]";break;case "d":f="3[01]|[12]\\d|"+k+"[1-9]";break;case "w":f="[1-4][0-9]|5[0-3]|"+k+"[1-9]";break;case "E":case "e":case "c":f="\\S+";break;case "h":f="1[0-2]|"+k+"[1-9]";break;case "k":f="1[01]|"+k+"\\d";break;case "H":f="1\\d|2[0-3]|"+k+"\\d";break;case "K":f="1\\d|2[0-4]|"+k+"[1-9]";break;case "m":case "s":f="[0-5]\\d";break;case "S":f="\\d{"+l+"}";break;case "a":l=b.am||c["dayPeriods-format-wide-am"];k=b.pm||c["dayPeriods-format-wide-pm"];
f=l+"|"+k;b.strict||(l!=l.toLowerCase()&&(f+="|"+l.toLowerCase()),k!=k.toLowerCase()&&(f+="|"+k.toLowerCase()),-1!=f.indexOf(".")&&(f+="|"+f.replace(/\./g,"")));f=f.replace(/\./g,"\\.");break;default:f=".*"}a&&a.push(d);return"("+f+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var n={};h.setObject(k.id.replace(/\//g,"."),n);n._getZone=function(a,c,b){return c?e.getTimezoneName(a):a.getTimezoneOffset()};n.format=function(a,b){b=b||{};var d=c.normalizeLocale(b.locale),f=b.formatLength||"short",d=n._getGregorianBundle(d),
k=[],g=h.hitch(this,l,a,d,b);if("year"==b.selector)return m(d["dateFormatItem-yyyy"]||"yyyy",g);var e;"date"!=b.selector&&(e=b.timePattern||d["timeFormat-"+f])&&k.push(m(e,g));"time"!=b.selector&&(e=b.datePattern||d["dateFormat-"+f])&&k.push(m(e,g));return 1==k.length?k[0]:d["dateTimeFormat-"+f].replace(/\{(\d+)\}/g,function(a,c){return k[c]})};n.regexp=function(a){return n._parseInfo(a).regexp};n._parseInfo=function(a){a=a||{};var b=c.normalizeLocale(a.locale),b=n._getGregorianBundle(b),d=a.formatLength||
"short",f=a.datePattern||b["dateFormat-"+d],l=a.timePattern||b["timeFormat-"+d],d="date"==a.selector?f:"time"==a.selector?l:b["dateTimeFormat-"+d].replace(/\{(\d+)\}/g,function(a,c){return[l,f][c]}),k=[];return{regexp:m(d,h.hitch(this,p,k,b,a)),tokens:k,bundle:b}};n.parse=function(a,c){var d=/[\u200E\u200F\u202A\u202E]/g,f=n._parseInfo(c),l=f.tokens,k=f.bundle,d=RegExp("^"+f.regexp.replace(d,"")+"$",f.strict?"":"i").exec(a&&a.replace(d,""));if(!d)return null;var g=["abbr","wide","narrow"],m=[1970,
0,1,0,0,0,0],p="",d=b.every(d,function(a,d){if(!d)return!0;var f=l[d-1],e=f.length,f=f.charAt(0);switch(f){case "y":if(2!=e&&c.strict)m[0]=a;else if(100>a)a=Number(a),f=""+(new Date).getFullYear(),e=100*f.substring(0,2),f=Math.min(Number(f.substring(2,4))+20,99),m[0]=a<f?e+a:e-100+a;else{if(c.strict)return!1;m[0]=a}break;case "M":case "L":if(2<e){if(e=k["months-"+("L"==f?"standAlone":"format")+"-"+g[e-3]].concat(),c.strict||(a=a.replace(".","").toLowerCase(),e=b.map(e,function(a){return a.replace(".",
"").toLowerCase()})),a=b.indexOf(e,a),-1==a)return!1}else a--;m[1]=a;break;case "E":case "e":case "c":e=k["days-"+("c"==f?"standAlone":"format")+"-"+g[e-3]].concat();c.strict||(a=a.toLowerCase(),e=b.map(e,function(a){return a.toLowerCase()}));a=b.indexOf(e,a);if(-1==a)return!1;break;case "D":m[1]=0;case "d":m[2]=a;break;case "a":e=c.am||k["dayPeriods-format-wide-am"];f=c.pm||k["dayPeriods-format-wide-pm"];if(!c.strict){var n=/\./g;a=a.replace(n,"").toLowerCase();e=e.replace(n,"").toLowerCase();f=
f.replace(n,"").toLowerCase()}if(c.strict&&a!=e&&a!=f)return!1;p=a==f?"p":a==e?"a":"";break;case "K":24==a&&(a=0);case "h":case "H":case "k":if(23<a)return!1;m[3]=a;break;case "m":m[4]=a;break;case "s":m[5]=a;break;case "S":m[6]=a}return!0}),f=+m[3];"p"===p&&12>f?m[3]=f+12:"a"===p&&12==f&&(m[3]=0);f=new Date(m[0],m[1],m[2],m[3],m[4],m[5],m[6]);c.strict&&f.setFullYear(m[0]);var q=l.join(""),h=-1!=q.indexOf("d"),q=-1!=q.indexOf("M");if(!d||q&&f.getMonth()>m[1]||h&&f.getDate()>m[2])return null;if(q&&
f.getMonth()<m[1]||h&&f.getDate()<m[2])f=e.add(f,"hour",1);return f};var q=[];n.addCustomFormats=function(a,c){q.push({pkg:a,name:c})};n._getGregorianBundle=function(a){var d={};b.forEach(q,function(b){b=c.getLocalization(b.pkg,b.name,a);d=h.mixin(d,b)},this);return d};n.addCustomFormats(k.id.replace(/\/date\/locale$/,".cldr"),"gregorian");n.getNames=function(a,c,b,d){var f;d=n._getGregorianBundle(d);a=[a,b,c];"standAlone"==b&&(b=a.join("-"),f=d[b],1==f[0]&&(f=void 0));a[1]="format";return(f||d[a.join("-")]).concat()};
n.isWeekend=function(c,b){var d=a.getWeekend(b),f=(c||new Date).getDay();d.end<d.start&&(d.end+=7,f<d.start&&(f+=7));return f>=d.start&&f<=d.end};n._getDayOfYear=function(a){return e.difference(new Date(a.getFullYear(),0,1,a.getHours()),a)+1};n._getWeekOfYear=function(a,c){1==arguments.length&&(c=0);var b=(new Date(a.getFullYear(),0,1)).getDay(),d=Math.floor((n._getDayOfYear(a)+(b-c+7)%7-1)/7);b==c&&d++;return d};return n})},"redfin/common/widgets/contactBox/ContactBoxHTML":function(){define("dojo dojo/has dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-attr dojo/query dojo/topic dojo/dom-style redfin/bouncer/Bouncer dojo/text!redfin/common/widgets/contactBox/templates/ContactBoxHTML.html dijit/_Widget dijit/_TemplatedMixin redfin/common/mixins/_Adopt redfin/common/widgets/contactBox/ContactBoxComponentMixin redfin/common/widgets/contactBox/ResetPreferredAgentHelper".split(" "),
function(h,b,e,a,c,d,g,f,k,l,m,p,n,q,r){return e("redfin.common.widgets.contactBox.ContactBoxHTML",[p,n,q,r],{templateString:m,data:null,postCreate:function(){if(this.data){this.data.classes&&this.data.classes instanceof Array&&a.forEach(this.data.classes,c.hitch(this,function(a){h.addClass(this.content,a)}));this.content.innerHTML=this.data.text&&"string"===typeof this.data.text?this.data.text:"";var d=g.NodeList();d.push(this.content);d.query("a").on("click",c.hitch(this,this._linkClicked));window.g_defnshort_sale&&
d.query(".ssDefnNode").forEach(c.hitch(this,function(a){this.adopt(redfin.search.common.elements.DefinitionFlyout,{term:g_defnshort_sale.term,definition:g_defnshort_sale.brief,definitionLink:g_defnshort_sale.link,dynamicPosition:!0,orientation:"right"},a)}));window.g_defntenancy_in_common&&d.query(".ticDefnNode").forEach(c.hitch(this,function(a){this.adopt(redfin.search.common.elements.DefinitionFlyout,{term:g_defntenancy_in_common.term,definition:g_defntenancy_in_common.brief,definitionLink:g_defntenancy_in_common.link,
dynamicPosition:!0,orientation:"right"},a)}));l.isOn(g_feature.CONTACT_BOX_AB_TESTING)&&this.runAskAnAgentAsALinkExperiment()&&(d.query(".askAgentAQuestionLinkForABTesting").forEach(c.hitch(this,function(a){this.connect(a,"onclick",function(){f.publish("onSuccessfulContactBoxConversion","contact_box_ask_a_question_link")})})),d.query(".startAnOfferLink").forEach(c.hitch(this,function(a){this.connect(a,"onclick",function(){f.publish("onSuccessfulContactBoxConversion","contact_box_start_an_offer_link")})})));
l.isOn(g_feature.CONTACT_BOX_AB_TESTING)&&this.runNewPhotographyExperiment()&&(d.query(".agentPhotoLinkForABTesting").forEach(c.hitch(this,function(a){this.connect(a,"onclick",function(){f.publish("onSuccessfulContactBoxConversion","click_contact_box_profile")})})),d.query(".agentName").forEach(c.hitch(this,function(a){this.connect(a,"onclick",function(){f.publish("onSuccessfulContactBoxConversion","click_contact_box_profile")})})),d.query(".numDealsLink").forEach(c.hitch(this,function(a){this.connect(a,
"onclick",function(){f.publish("onSuccessfulContactBoxConversion","click_contact_box_profile")})})),d.query(".numReviews.starRating").forEach(c.hitch(this,function(a){this.connect(a,"onclick",function(){f.publish("onSuccessfulContactBoxConversion","click_contact_box_profile")})})),d.query(".agentInfoLink").forEach(c.hitch(this,function(a){this.connect(a,"onclick",function(){f.publish("onSuccessfulContactBoxConversion","click_contact_box_profile")})})),d.query(".newPhotographyImage").forEach(c.hitch(this,
function(a){this.connect(a,"onclick",function(){f.publish("onSuccessfulContactBoxConversion","click_contact_box_profile")});if(b("mobile-enabled")){var l=function(a){var b=250*window.innerWidth/600;172<b?(k.set(a,"width",window.innerWidth+"px"),k.set(a,"height",null),k.set(a,"top",-0.152*b+"px")):(k.set(a,"height","172px"),k.set(a,"width",null),k.set(a,"top",null));d.query(".photo").forEach(c.hitch(this,function(a){k.set(a,"width",window.innerWidth+"px")}))};this.connect(window,"resize",function(){l(a)});
l(a)}})),0<d.query(".externalPhoneNumber").length&&(this.gaEventMap["Display:Agent_Phone_Number"]=!0),d.query(".agentName").on("click",c.hitch(this,this._linkClicked)),d.query(".numReviews.starRating").on("click",c.hitch(this,this._linkClicked)),d.query(".externalPhoneNumber").on("click",c.hitch(this,this._phoneNumberClicked)));if(h.byId("contact-box-reset-preferred-agent")&&(redfin&&redfin.common.widgets.contactBox.ResetPreferredAgentHelper)&&(redfin.common.widgets.contactBox.ResetPreferredAgentHelper.resetPreferredAgentLinkLoaded||
(redfin.common.widgets.contactBox.ResetPreferredAgentHelper.setupResetPreferredAgent(),redfin.common.widgets.contactBox.ResetPreferredAgentHelper.resetPreferredAgentLinkLoaded=!0),!redfin.common.widgets.contactBox.ResetPreferredAgentHelper.executingReset)){this.gaEventMap["Display:Reset_Agent"]||(this.gaEventMap["Display:Reset_Agent"]=!0,this._trackEvent("Display:Reset_Agent"));var e=h.byId("contact-box-reset-preferred-agent-link-node"),m=h.byId("contact-box-reset-preferred-agent-spinner-img");this.connect(e,
"onclick",this._resetPreferredAgent);m.src=g_imageServerUrl+"/images/ajax-loader.gif"}}this.inherited(arguments)},_phoneNumberClicked:function(a){this.gaEventMap["Click:Agent_Phone_Number"]||(this.gaEventMap["Click:Agent_Phone_Number"]=!0)},_linkClicked:function(a){a.preventDefault();var c=a.currentTarget;d.has(c,"data-action")&&(a="Click:"+d.get(c,"data-action"),this.gaEventMap[a]||(this.gaEventMap[a]=!0,this._trackEvent(a)));c.href&&setTimeout(function(){window.top.location=c.href},10)},_resetPreferredAgent:function(){redfin&&
redfin.common.widgets.contactBox.ResetPreferredAgentHelper&&(this.gaEventMap["Click:Reset_Agent"]||(this.gaEventMap["Click:Reset_Agent"]=!0,this._trackEvent("Click:Reset_Agent")),redfin.common.widgets.contactBox.ResetPreferredAgentHelper.resetPreferredAgent())}})})},"redfin/search/widget/verify_email_dialog":function(){define(["dijit","dojo","dojox","dojo/require!redfin/search/widget/rf_base_dialog,redfin/common/pretty_date,dijit/_WidgetsInTemplateMixin"],function(h,b,e){b.provide("redfin.search.widget.verify_email_dialog");
b.require("redfin.search.widget.rf_base_dialog");b.require("redfin.common.pretty_date");b.require("dijit._WidgetsInTemplateMixin");b.declare("redfin.search.widget.VerifyEmailDialog",redfin.search.widget.RfBaseDialog,{title:"Verify Your Email Address",sendVerificationUrl:"/myredfin/json/send-verification-email"});b.declare("redfin.search.widget.VerifyEmailDialogGuts",[redfin.search.widget.RfBaseDialogGuts,h._WidgetsInTemplateMixin],{templateString:b.cache("redfin","search/widget/templates/VerifyEmailDialog.html",
'\x3cdiv\x3e\n\t\x3cp\x3eBefore we can show you every last piece of listing information, \x3cstrong\x3eMLS rules require\n\tthat we verify your email address.\x3c/strong\x3e\x3c/p\x3e\n\t\x3cdiv dojoAttachPoint\x3d"sendingNode"\x3eSending a verification email...\x3c/div\x3e\n\t\n\t\x3cdiv dojoAttachPoint\x3d"successNode" style\x3d"display:none;"\x3e\n\t\tWe\'ve sent a verification email to \x3cspan class\x3d"verificationEmail"\x3e\x3c/span\x3e.  You will be able to see all of our listing information \n\t\tonce you \x3cstrong\x3eclick the link in that email.\x3c/strong\x3e\n\t\t\x3cul\x3e\n\t\t\t\x3cli\x3e\n\t\t\t\t\x3cstrong\x3eIf you do not see the email from Redfin in your inbox\x3c/strong\x3e, make sure you check your spam folder.\n\t\t\t\x3c/li\x3e\n\t\t\t\x3cli\x3e\n\t\t\t\t\x3cstrong\x3eIf \x3cspan class\x3d"verificationEmail"\x3e\x3c/span\x3e\x26nbsp;is not your email address\x3c/strong\x3e, please change your \n\t\t\t\temail address on your \x3ca href\x3d"/myredfin/settings" target\x3d"_top"\x3eaccount settings page\x3c/a\x3e.\n\t\t\t\x3c/li\x3e\n\t\t\t\x3cli\x3e\n\t\t\t\t\x3cstrong\x3eIf all else fails\x3c/strong\x3e, please email \x3ca href\x3d"mailto:customer-service@redfin.com"\x3ecustomer-service@redfin.com\x3c/a\x3e or call 877-973-3346 for assistance.\n\t\t\t\x3c/li\x3e\n\t\t\x3c/ul\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv dojoAttachPoint\x3d"alreadySentNode" style\x3d"display:none;"\x3e\n\t\tWe sent a verification email to \x3cspan class\x3d"verificationEmail"\x3e\x3c/span\x3e\x26nbsp;\x3cspan dojoAttachPoint\x3d"timeSentNode"\x3e\x3c/span\x3e.  You will be able to see all of our \n\t\tlisting information once you \x3cstrong\x3eclick the link in that email.\x3c/strong\x3e  \n\t\t\x3cul\x3e\n\t\t\t\x3cli\x3e\n\t\t\t\t\x3cstrong\x3eIf you do not see the email from Redfin in your inbox\x3c/strong\x3e, make sure you check your spam folder.\n\t\t\t\x3c/li\x3e\n\t\t\t\x3cli\x3e\n\t\t\t\t\x3cstrong\x3eIf \x3cspan class\x3d"verificationEmail"\x3e\x3c/span\x3e\x26nbsp;is not your email address\x3c/strong\x3e,\n\t\t\t\tplease change your email address on your \x3ca href\x3d"/myredfin/settings" target\x3d"_top"\x3eaccount settings page\x3c/a\x3e.\n\t\t\t\x3c/li\x3e\n\t\t\t\x3cli\x3e\n\t\t\t\t\x3cstrong\x3eIf all else fails\x3c/strong\x3e, please contact \x3ca href\x3d"mailto:techsupport@redfin.com"\x3etechsupport@redfin.com\x3c/a\x3e or call us at 877-973-3346 for assistance.\n\t\t\t\x3c/li\x3e\n\t\t\x3c/ul\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv dojoAttachPoint\x3d"errorMessageNode" style\x3d"display:none;"\x3e\n\t\tThere was an error sending an email to \x3cspan class\x3d"verificationEmail"\x3e\x3c/span\x3e.  \n\t\t\x3cul\x3e\n\t\t\t\x3cli\x3e\n\t\t\t\t\x3cstrong\x3eIf \x3cspan class\x3d"verificationEmail"\x3e\x3c/span\x3e\x26nbsp;is not your email address\x3c/strong\x3e, please change your email address on \n\t\t\t\tyour \x3ca href\x3d"/myredfin/settings" target\x3d"_top"\x3eaccount settings page\x3c/a\x3e.\n\t\t\t\x3c/li\x3e\n\t\t\t\x3cli\x3e\n\t\t\t\t\x3cstrong\x3eIf this problem persists,\x3c/strong\x3e please contact \x3ca href\x3d"mailto:techsupport@redfin.com"\x3etechsupport@redfin.com\x3c/a\x3e \n\t\t\t\tor call us at 877-973-3346 for assistance.\n\t\t\t\x3c/li\x3e\n\t\t\x3c/ul\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv dojoAttachPoint\x3d"notLoggedInNode" style\x3d"display:none;"\x3eYou need to first log in order for us to verify your email address.\x3c/div\x3e\n\t\n\t\x3cdiv dojoAttachPoint\x3d"alreadyVerifiedNode" style\x3d"display:none;"\x3eYour email address has already been verified.  You may need to \n\t\x3cstrong\x3erefresh this page\x3c/strong\x3e to see all listing information.\x3c/div\x3e\n\t\n\t\x3cdiv dojoAttachPoint\x3d"unknownErrorNode" style\x3d"display:none;"\x3eThere was an unknown error sending to your email address.  Please contact \n\t\x3ca href\x3d"mailto:techsupport@redfin.com"\x3etechsupport@redfin.com\x3c/a\x3e or call us at 877-973-3346 if this problem persists.\x3c/div\x3e\n\t\n\t\x3cdiv dojoAttachPoint\x3d"buttonsNode" style\x3d"padding-bottom: 20px; margin: 10px 10px 10px 0; display:none;" \x3e\n\t\t\x3cdiv dojoType\x3d"redfin.widget.Button" class\x3d"primary" style\x3d"width:56px; float: right;" label\x3d"OK" dojoAttachPoint\x3d"okButton"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\x3c/div\x3e'),
widgetsInTemplate:!0,title:"Verify Your Email Address",sendVerificationUrl:"/myredfin/json/send-verification-email",postCreate:function(){this.inherited(arguments);this.connect(this.okButton,"onClick","onOK");b.xhrGet({url:this.sendVerificationUrl,load:b.hitch(this,this.onSendVerificationEmailDone),error:b.hitch(this,this.onSendVerificationEmailError),handleAs:"json",sync:!1})},onSendVerificationEmailDone:function(a){b.style(this.sendingNode,"display","none");a&&(a.payload&&a.payload.email)&&b.query(".verificationEmail",
this.domNode).forEach(function(c){c.innerHTML=a.payload.email});a.resultCode===g_apiResultCode.NO_ERROR?b.style(this.successNode,"display","block"):a.resultCode===g_apiResultCode.NOT_LOGGED_IN?b.style(this.notLoggedInNode,"display","block"):a.resultCode===g_apiResultCode.EMAIL_ALREADY_SENT?(this.timeSentNode.innerHTML=redfin.common.PrettyDate.fromMsAgo(a.payload.sentDateMsAgo).toLowerCase(),b.style(this.alreadySentNode,"display","block")):a.resultCode===g_apiResultCode.USER_ALREADY_VERIFIED?b.style(this.alreadyVerifiedNode,
"display","block"):a.resultCode===g_apiResultCode.ERROR_SENDING_EMAIL?b.style(this.errorMessageNode,"display","block"):b.style(this.unknownErrorNode,"display","block");b.style(this.buttonsNode,"display","block")},onSendVerificationEmailError:function(a){b.style(this.sendingNode,"display","none");b.style(this.unknownErrorNode,"display","block")},onOK:function(){this.getParent().hide()}});b.mixin(redfin.search.widget.VerifyEmailDialog,{showNewDialog:function(a){a=a||{};a.imageServerUrl||(a.imageServerUrl=
g_imageServerUrl);return redfin.search.widget.RfBaseDialog.showNewDialogSubclass(redfin.search.widget.VerifyEmailDialog,new redfin.search.widget.VerifyEmailDialogGuts,a)}})})},"dijit/form/RadioButton":function(){define("dijit/form/RadioButton",["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(h,b,e){return h("dijit.form.RadioButton",[b,e],{baseClass:"dijitRadio"})})},"dijit/form/ToggleButton":function(){define("dijit/form/ToggleButton",["dojo/_base/declare","dojo/_base/kernel","./Button",
"./_ToggleButtonMixin"],function(h,b,e,a){return h("dijit.form.ToggleButton",[e,a],{baseClass:"dijitToggleButton",setChecked:function(a){b.deprecated("setChecked("+a+") is deprecated. Use set('checked',"+a+") instead.","","2.0");this.set("checked",a)}})})},"url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\n\t\tdata-dojo-attach-event\x3d"ondijitclick:_onClick" role\x3d"presentation"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\x3e\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\n\t\ttabIndex\x3d"-1" role\x3d"presentation" data-dojo-attach-point\x3d"valueNode"\n/\x3e\x3c/span\x3e\n',
"redfin/search/common/SpinnerProgressAction":function(){define(["dijit","dojo","dojox","dojo/require!redfin/search/common/_ProgressStateAction,redfin/search/common/_SpinnerProgressAction"],function(h,b,e){b.provide("redfin.search.common.SpinnerProgressAction");b.require("redfin.search.common._ProgressStateAction");b.require("redfin.search.common._SpinnerProgressAction");b.declare("redfin.search.common.SpinnerProgressAction",[redfin.search.common._SpinnerProgressAction],{constructor:function(a){b.safeMixin(this,
a);b.isFunction(this.connect)||(this._connectors=[],this.connect=b.hitch(this,function(a,d,g){this._connectors.push(b.connect(a,d,g))}))},destroy:function(){b.forEach(this._connectors,function(a){b.disconnect(a)})}})})},"redfin/search/details/MlsDisclaimer":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/html dojo/text!redfin/search/details/templates/MlsDisclaimer.html redfin/search/common/_PhasedWidget".split(" "),function(h,b,e,a,c,d){return h("redfin.search.details.MlsDisclaimer",
d,{templateString:c,lastUpdated:"",dataSource:null,showRuler:!0,postMixInProperties:function(){this.dataSource&&this.dataSource.get("lastSuccessfulImport")&&(this.lastUpdated=this.dataSource.get("lastSuccessfulImport"))},buildRendering:function(){if(this.dataSource){this.inherited(arguments);var c=(new Date).getFullYear();a.set(this.disclaimerNode,b.replace(this.dataSource.get("mlsDisclaimer"),{IMAGE_SERVER:g_imageServerUrl,CURRENT_YEAR:c,CURRENT_YEAR_TOKEN:c},/\$\{([^\}]+)\}/g));this.dataSource.get("lastSuccessfulImport")&&
e.remove(this.lastUpdatedNode,"hidden");this.showRuler||e.add(this.ruler,"hidden")}}})})},"redfin/facebook/FacebookLoginHelper":function(){define("redfin/facebook/FacebookLoginHelper",["dijit","dojo","dojox","dojo/require!redfin/facebook/login,dijit/_Widget"],function(h,b,e){b.provide("redfin.facebook.FacebookLoginHelper");b.require("redfin.facebook.login");b.require("dijit._Widget");b.declare("redfin.facebook.FacebookLoginHelper",[h._Widget],{facebookAppId:null,regReason:null,buildRendering:function(){if(null===
this.facebookAppId)if("undefined"!=typeof redfin.facebook.FacebookLoginHelper.facebookAppId&&null!=redfin.facebook.FacebookLoginHelper.facebookAppId)this.facebookAppId=redfin.facebook.FacebookLoginHelper.facebookAppId;else{var a={url:"/stingray/do/get-facebook-app-id",content:{},handleAs:"json",load:b.hitch(this,this.getAppIdSuccessful),error:b.hitch(this,this.postError)};b.xhrPost(a)}else redfin.facebook.FacebookLoginHelper.facebookAppId=this.facebookAppId},getPublishActionsPermIfNeeded:function(){g_facebookLoader().load(this.facebookAppId);
b.when(g_facebookLoader().loaded,b.hitch(this,function(){var a=new redfin.facebook.login({action:g_secureWebServerUrl+"/stingray/do/login_facebook",permsRequested:"publish_actions",facebookAppId:g_facebookLoader().appId,useFacebookButton:!0,facebookButtonText:"Sign in with Facebook",redirectPath:window.location.href,fromUserMenu:!0,bypassAcctCreatedPage:!0,registrationReason:this.regReason,registrationMode:"login"});this.connect(a,"loginResponse",function(a){FB.api("/me/permissions",b.hitch(this,
function(a){a.error?this.postFacebookUserUpdate("/stingray/do/api-do-not-bother-facebook-user"):null==a.data[0].publish_actions?this.postFacebookUserUpdate("/stingray/do/api-do-not-bother-facebook-user"):this.postFacebookUserUpdate("/stingray/do/api-set_publish_perms_true-facebook-user");this.doneLoggingIn()}))});a.facebookLoaded();a.onFacebookRequestWritePerms()}))},refreshAccessToken:function(){g_facebookLoader().load(this.facebookAppId);b.when(g_facebookLoader().loaded,b.hitch(this,function(){FB.getLoginStatus(b.hitch(this,
function(a){this._getFacebookLoginStatusCallback(a)}))}))},_getFacebookLoginStatusCallback:function(a){if("connected"===a.status){var c=a.authResponse.accessToken,d=a.authResponse.expiresIn;a=a.authResponse.userID;b.io.script.get({url:g_secureWebServerUrl+"/stingray/do/api-update-facebook-access-token",callbackParamName:"callback",content:{__rf_secure:b.cookie("RF_AUTH"),accessToken:c,expiresIn:d,facebook_uid:a},handleAs:"json"});FB.api("/me/permissions",b.hitch(this,function(a){null==a.data[0].publish_actions?
this.getPublishActionsPermIfNeeded():(this.postFacebookUserUpdate("/stingray/do/api-set_publish_perms_true-facebook-user"),this.doneLoggingIn())}))}else"not_authorized"===a.status?(this.postFacebookUserUpdate("/stingray/do/api-unauth-facebook-access-token"),this.doneLoggingIn()):(c=new redfin.facebook.login({action:g_secureWebServerUrl+"/stingray/do/login_facebook",permsRequested:"email,offline_access,user_checkins,friends_checkins,publish_actions",facebookAppId:g_facebookLoader().appId,useFacebookButton:!0,
facebookButtonText:"Sign in with Facebook",redirectPath:window.location.href,fromUserMenu:!0,bypassAcctCreatedPage:!0,registrationReason:this.regReason,registrationMode:"login"}),c.facebookLoaded(),c.onFacebookLogin(),this.connect(c,"loginResponse",function(a){"undefined"!=typeof g_jsonLogin&&null!=g_jsonLogin&&(g_jsonLogin.isTimeToRefreshFacebookAccessToken=!1);"connected"!==a.status&&("not_authorized"===a.status?this.postFacebookUserUpdate("/stingray/do/api-unauth-facebook-access-token"):this.postFacebookUserUpdate("/stingray/do/api-do-not-bother-facebook-user"));
this.doneLoggingIn()}))},doneLoggingIn:function(){},postFacebookUserUpdate:function(a){a={url:a,content:{},handleAs:"json",load:b.hitch(this,this.postSuccessful),error:b.hitch(this,this.postError)};b.xhrPost(a)},postSuccessful:function(a){},postError:function(a){},getAppIdSuccessful:function(a){this.facebookAppId=a.payload.data.app_id;redfin.facebook.FacebookLoginHelper.facebookAppId=this.facebookAppId}})})},"redfin/common/data/CorgiHome":function(){define(["dijit","dojo","dojox","dojo/require!redfin/common/data/DataObject,redfin/search/common/RestrictedValueAccessor,redfin/search/data/PriceCalculator,redfin/search/data/mixins/_SearchResultDisplayType,redfin/common/data/CorgiListing,redfin/common/data/CorgiProperty,redfin/common/data/CorgiExtra"],
function(h,b,e){b.provide("redfin.common.data.CorgiHome");b.require("redfin.common.data.DataObject");b.require("redfin.search.common.RestrictedValueAccessor");b.require("redfin.search.data.PriceCalculator");b.require("redfin.search.data.mixins._SearchResultDisplayType");b.require("redfin.common.data.CorgiListing");b.require("redfin.common.data.CorgiProperty");b.require("redfin.common.data.CorgiExtra");b.declare("redfin.common.data.CorgiHome",[redfin.common.data.DataObject],{listing:null,property:null,
_getValueIfHasAccess:function(a){return redfin.search.common.RestrictedValueAccessor.getRestrictedValue(this,a).valueIfHasAccess()},_getValueIfNotOptional:function(a){return redfin.search.common.RestrictedValueAccessor.getRestrictedValue(this,a).valueIfNotOptional()},getCorgiSearchResultDisplayType:function(){var a=this.get("listing"),c=this.get("property"),b=this.get("extra.lastSaleInfo.propTransLastSaleDate");return this.getSearchResultDisplayTypeHelper({property:c,listing:a,hasSale:b})},useListingData:function(){this._displayType||
(this._displayType=this.getCorgiSearchResultDisplayType());switch(this._displayType){case g_searchResultDisplayType.LISTING:case g_searchResultDisplayType.MLS_SALE_WITH_COUNTY:case g_searchResultDisplayType.MLS_SALE:return!0;default:return!1}},usePublicData:function(){this._displayType||(this._displayType=this.getCorgiSearchResultDisplayType());switch(this._displayType){case g_searchResultDisplayType.COUNTY_SALE:case g_searchResultDisplayType.CENSORED_MLS_SALE_WITH_COUNTY:case g_searchResultDisplayType.CENSORED_MLS_SALE:case g_searchResultDisplayType.NONE:return!0;
default:return!1}},hasAccessToListing:function(){return redfin.search.common.RestrictedValueAccessor.getRestrictedValue(this.get("listing")).hasAccess()},getListing:function(){return this.get("listing")},getCdom:function(){return this._getValueIfHasAccess("listing.cdom")},getDaysOnRedfin:function(){return this._getValueIfHasAccess("listing.dom")},getDaysOnMarket:function(){var a=this.getCdom();a||(a=this.getDaysOnRedfin());return a},getCity:function(){var a=null;this.useListingData()?a=this.get("listing.city"):
this.usePublicData()&&(a=this.get("property.city"));return a},getStreetString:function(){if(this.useListingData()){var a="",c=this._getValueIfHasAccess("listing.streetNumber");c&&(a=b.trim(a+c)+" ",a=b.trim(a+(this.get("listing.directionalPrefix")||""))+" ");(c=this._getValueIfHasAccess("listing.streetName"))?(a=b.trim(a+c)+" ",a=b.trim(a+(this._getValueIfHasAccess("listing.streetType")||""))+" ",a=b.trim(a+(this.get("listing.directionalSuffix")||""))):a=null;return a}return this.usePublicData()?
this.get("property.streetString"):null},getUnit:function(){return this.useListingData()?this._getValueIfHasAccess("listing.unitDisplayString"):this.usePublicData()?this.get("property.unitDisplayString"):null},getCitStateZip:function(){return this.useListingData()?this._getValueIfHasAccess("listing.cityStateZipString"):this.usePublicData()?this.get("property.cityStateZipString"):null},getPrice:function(){if(!this.calculator){var a={home:this,listing:this.get("listing"),property:this.get("property"),
getSalePrice:function(){return redfin.search.common.RestrictedValueAccessor.getRestrictedValue(this.home.get("listing.salePrice"))},isListingPrimary:function(){return this.home.get("listingIsPrimary")},getPropertyPrice:function(){return redfin.search.common.RestrictedValueAccessor.newRestrictedValue(this.home.get("extra.lastSaleInfo.propTransLastSalePrice"))}};this.calculator=new redfin.search.data.PriceCalculator(a);this.calculator.calculate()}return this.calculator.getRestrictedValuePrice().valueIfHasAccess()},
getBeds:function(){return this.useListingData()?this._getValueIfHasAccess("listing.numBedrooms"):this.usePublicData()?this.get("property.numBedrooms"):null},getBaths:function(){return this.useListingData()?this._getValueIfHasAccess("listing.numBathrooms"):this.usePublicData()?this.get("property.numBathrooms"):null},getSqFt:function(){return this.useListingData()?this._getValueIfHasAccess("listing.approxSqFt"):this.usePublicData()?this.get("property.sqFtFinished"):null},getPhotoUrl:function(){},getFavoritedDate:function(){return this.get("personal.favoritedDate")},
getIsFavorite:function(){return this.get("personal.favoritePropertyType")==g_favoritePropertyType.FAVORITE},getIsXOut:function(){return this.get("personal.favoritePropertyType")==g_favoritePropertyType.ANTI_FAVORITE},getUserNote:function(){return this.get("personal.note")},getSearchStatus:function(){return this.get("listing.searchStatus")},getListingType:function(){return this.get("listing.listingType")},getPropertyType:function(){return this.get("property.propertyType")},getUrl:function(){return this.get("extra.url")},
getPhotosManager:function(){return this.get("listing.photosManager")},getLogoImageFilename:function(){return this._getValueIfNotOptional("listing.logoImageFilename")},getDataSource:function(){return this.get("listing.dataSource")},getMlsId:function(){return this._getValueIfNotOptional("listing.mlsId")},getBrokerName:function(){return this._getValueIfNotOptional("listing.listingBrokerName")},isTourableWithRedfin:function(){return null!=this._servicePolicy&&g_servicePolicies.idToObj[this._servicePolicy].tourWithAgentType==
g_agentType.REDFIN},isTourableWithConnect:function(){return null!=this._servicePolicy&&g_servicePolicies.idToObj[this._servicePolicy].tourWithAgentType==g_agentType.CONNECT},requiresSqftViewLink:function(){return this.hasAccessToListing()&&!this._getValueIfHasAccess("listing.approxSqFt")},getLogoImageFilenameIfRequired:function(){return this._getValueIfNotOptional("listing.logoImageFilename")}});b.mixin(redfin.common.data.CorgiHome.prototype,redfin.search.data.mixins._SearchResultDisplayType)})},
"url:redfin/search/map/overlays/markers/templates/FastMarker.html":'\x3cdiv style\x3d"position:absolute; left: {left}px; top:{top}px; z-index: {zIndex}; {style}" class\x3d"{class}" id\x3d"{id}"\x3e\n\t{html}\n\x3c/div\x3e\n',"url:redfin/common/templates/SideScrollListWidget.html":'\x3cdiv class\x3d"sideScrollList" data-dojo-attach-point\x3d"viewportNode"\x3e\n\t\x3cul data-dojo-attach-point\x3d"listNode"\x3e\x3c/ul\x3e\n\x3c/div\x3e',"dijit/_DialogMixin":function(){define("dijit/_DialogMixin",["dojo/_base/declare",
"./a11y"],function(h,b){return h("dijit._DialogMixin",null,{execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"))},_getFocusItems:function(){var e=b._getTabNavigable(this.containerNode);this._firstFocusItem=e.lowest||e.first||this.closeButtonNode||this.domNode;this._lastFocusItem=e.last||e.highest||this._firstFocusItem}})})},"dijit/_Widget":function(){define("dijit/_Widget","dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/has dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),
function(h,b,e,a,c,d,g,f,k,l,m,p,n){function q(){}function r(a){return function(c,b,d,f){return c&&"string"==typeof b&&c[b]==q?c.on(b.substring(2).toLowerCase(),g.hitch(d,f)):a.apply(e,arguments)}}h.around(e,"connect",r);d.connect&&h.around(d,"connect",r);h=a("dijit._Widget",[m,p,n],{onClick:q,onDblClick:q,onKeyDown:q,onKeyPress:q,onKeyUp:q,onMouseDown:q,onMouseMove:q,onMouseOut:q,onMouseOver:q,onMouseLeave:q,onMouseEnter:q,onMouseUp:q,constructor:function(a){this._toConnect={};for(var c in a)this[c]===
q&&(this._toConnect[c.replace(/^on/,"").toLowerCase()]=a[c],delete a[c])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,c){return this[this._onMap(a)]===q?e.connect(this.domNode,a.toLowerCase(),this,c):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,c){d.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.",
"","2.0");this.set(a,c)},attr:function(a,c){if(b.isDebug){var f=arguments.callee._ach||(arguments.callee._ach={}),l=(arguments.callee.caller||"unknown caller").toString();f[l]||(d.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+l,"","2.0"),f[l]=!0)}return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){d.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.",
"","2.0");return this.containerNode?f("[widgetId]",this.containerNode).map(l.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});c("dijit-legacy-requires")&&k(0,function(){require(["dijit/_base"])});return h})},"dijit/form/_SearchMixin":function(){define("dijit/form/_SearchMixin","dojo/data/util/filter dojo/_base/declare dojo/_base/event dojo/keys dojo/_base/lang dojo/query dojo/sniff dojo/string dojo/when ../registry".split(" "),function(h,
b,e,a,c,d,g,f,k,l){return b("dijit.form._SearchMixin",null,{pageSize:Infinity,store:null,fetchProperties:{},query:{},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:!0,_abortQuery:function(){this.searchTimer&&(this.searchTimer=this.searchTimer.remove());this._queryDeferHandle&&(this._queryDeferHandle=this._queryDeferHandle.remove());this._fetchHandle&&(this._fetchHandle.abort&&(this._cancelingQuery=!0,this._fetchHandle.abort(),this._cancelingQuery=!1),this._fetchHandle.cancel&&(this._cancelingQuery=
!0,this._fetchHandle.cancel(),this._cancelingQuery=!1),this._fetchHandle=null)},_processInput:function(c){if(!this.disabled&&!this.readOnly){var b=c.charOrCode;if(!c.altKey&&!((c.ctrlKey||c.metaKey)&&"x"!=b&&"v"!=b||b==a.SHIFT)){this._prev_key_backspace=c=!1;switch(b){case a.DELETE:case a.BACKSPACE:c=this._maskValidSubsetError=this._prev_key_backspace=!0;break;default:c="string"==typeof b||229==b}if(c)if(this.store)this.searchTimer=this.defer("_startSearchFromInput",1);else this.onSearch()}}},onSearch:function(){},
_startSearchFromInput:function(){this._startSearch(this.focusNode.value.replace(/([\\\*\?])/g,"\\$1"))},_startSearch:function(a){this._abortQuery();var b=this,d=c.clone(this.query),l={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:!0}},g=f.substitute(this.queryExpr,[a]),e,u=function(){var a=b._fetchHandle=b.store.query(d,l);!b.disabled&&!(b.readOnly||e!==b._lastQuery)&&k(a,function(c){b._fetchHandle=null;!b.disabled&&(!b.readOnly&&e===b._lastQuery)&&k(a.total,function(a){c.total=
a;var f=b.pageSize;if(isNaN(f)||f>c.total)f=c.total;c.nextPage=function(a){l.direction=a=!1!==a;l.count=f;a?(l.start+=c.length,l.start>=c.total&&(l.count=0)):(l.start-=f,0>l.start&&(l.count=Math.max(f+l.start,0),l.start=0));0>=l.count?(c.length=0,b.onSearch(c,d,l)):u()};b.onSearch(c,d,l)})},function(a){b._fetchHandle=null;b._cancelingQuery||console.error(b.declaredClass+" "+a.toString())})};c.mixin(l,this.fetchProperties);this.store._oldAPI?e=g:(e=h.patternToRegExp(g,this.ignoreCase),e.toString=function(){return g});
this._lastQuery=d[this.searchAttr]=e;this._queryDeferHandle=this.defer(u,this.searchDelay)},constructor:function(){this.query={};this.fetchProperties={}},postMixInProperties:function(){if(!this.store){var a=this.list;a&&(this.store=l.byId(a))}this.inherited(arguments)}})})},"url:redfin/search/common/widgets/footer/templates/Footer.html":'\x3cdiv class\x3d"Footer"\x3e\n\t\x3cp\x3e\x26copy; ${copyrightYear}, Redfin. All rights reserved. Patent pending.\x3c/p\x3e\n\n\t\x3cp class\x3d"switch-site" data-dojo-attach-point\x3d"switchSiteContainer"\x3e\x3cspan class\x3d"link" data-dojo-attach-point\x3d"switchSiteNode"\x3e${switchSiteText}\x3c/span\x3e\x3c/p\x3e\n\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"redfin/homepage/widgets/RecentHomesWidget":function(){require({cache:{"url:redfin/homepage/widgets/templates/RecentHomesWidget.html":'\x3cdiv class\x3d"RecentHomesWidget whiteBox" dojoAttachPoint\x3d"recentHomesWidget"\x3e\n\t\x3cdiv class\x3d"title"\x3e\n\t\t\x3cdiv class\x3d"iconWrap"\x3e\n\t\t\t\x3cspan class\x3d"recent_icon icon"\x3e\x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\t\x3ch2 class\x3d"text"\x3eRecently Viewed\x3c/h2\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"loading" dojoAttachPoint\x3d"loadSpinner"\x3e\x3c/div\x3e\n\t\n\t\x3cdiv dojoAttachPoint\x3d"recentHomesNode" class\x3d"inline-block homepage row-type recentHomes hidden hic-grid"\x3e\x3c/div\x3e\n\x3c/div\x3e'}});
define("redfin/homepage/widgets/RecentHomesWidget","dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/RecentHomesWidget.html dojo/dom-class dojo/dom-construct dojo/_base/lang dojo/when dojo/promise/all dojo/_base/event redfin/homepage/widgets/HomeInfoCardGrid redfin/common/data/ObjectGraph redfin/search/common/_Spinner".split(" "),function(h,b,e,a,c,d,g,f,k,l,m,p,n,q){return h("redfin.homepage.widgets.RecentHomesWidget",[b,e,a,q],{templateString:c,
recentHomesData:null,_spinner:null,postCreate:function(){this.inherited(arguments);this._spinner=this.singleSpinner({width:6,radius:20,color:"#000"});this._spinner.spin(this.loadSpinner);k(this.recentHomesData,f.hitch(this,this.checkRecentHomes),f.hitch(this,this.destroyWidget))},checkRecentHomes:function(a){a=a&&(new n(a.payload)).getRoot().recentViewedHomes||[];0===a.length&&this.destroyWidget();a=new p({homeData:a,attachNode:this.recentHomesNode,GAEvent:!0,eventAction:"Recent_Item_Clicked"});this._spinner.stop(this.loadSpinner);
d.remove(this.recentHomesNode,"hidden");a.loadHomeInfoCards()},destroyWidget:function(){this._spinner.stop(this.loadSpinner);g.destroy(this.recentHomesWidget)},recentHomesWidget:null,recentHomesNode:null,loadSpinner:null})})},"url:dijit/form/templates/CheckBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cinput\n\t \t${!nameAttrSetting} type\x3d"${type}" ${checkedAttrSetting}\n\t\tclass\x3d"dijitReset dijitCheckBoxInput"\n\t\tdata-dojo-attach-point\x3d"focusNode"\n\t \tdata-dojo-attach-event\x3d"onclick:_onClick"\n/\x3e\x3c/div\x3e\n',
"redfin/common/data/CorgiPhotosManager":function(){define(["dijit","dojo","dojox","dojo/require!redfin/common/data/DataObject,redfin/search/common/RestrictedValueAccessor,redfin/common/data/CorgiPhoto"],function(h,b,e){b.provide("redfin.common.data.CorgiPhotosManager");b.require("redfin.common.data.DataObject");b.require("redfin.search.common.RestrictedValueAccessor");b.require("redfin.common.data.CorgiPhoto");b.declare("redfin.common.data.CorgiPhotosManager",null,{dataSourceId:null,mlsId:null,photos:null,
availablePhotos:null,listingAccessLevel:null,primaryPhotoVisibility:null,allPhotosVisibility:null,_cachedPhotoFileNames:null,_cachedPhotoBaseUrls:null,_cachedPhotoUrls:null,_cachedCorgiPhotos:null,constructor:function(a){b.mixin(this,a)},_initPhotos:function(){if(!this._cachedCorgiPhotos&&(this._cachedPhotoFileNames=[],this._cachedPhotoBaseUrls={},this._cachedCorgiPhotos=[],this.hasPhotos())){this._cachedPhotoBaseUrls[g_listingPhotoType.THUMBNAIL.id]=redfin.common.data.util.ListingPhotosUtil.getPhotoBaseUrl(g_listingPhotoType.THUMBNAIL,
this.dataSourceId,this.mlsId);this._cachedPhotoBaseUrls[g_listingPhotoType.MID_SIZE.id]=redfin.common.data.util.ListingPhotosUtil.getPhotoBaseUrl(g_listingPhotoType.MID_SIZE,this.dataSourceId,this.mlsId);this._cachedPhotoBaseUrls[g_listingPhotoType.FULL_SIZE.id]=redfin.common.data.util.ListingPhotosUtil.getPhotoBaseUrl(g_listingPhotoType.FULL_SIZE,this.dataSourceId,this.mlsId);for(var a=redfin.common.data.util.ListingPhotosUtil.parseAvailablePhotosString(this.availablePhotos),c=0;c<a.length;c++){var b=
"";0!=a[c].pos&&(b+=a[c].pos.toString()+"_");b+=a[c].ver+".jpg";this._cachedPhotoFileNames.push(b);var g=1,g=0==c?this.primaryPhotoVisibility:this.allPhotosVisibility,g=Math.max(g,this.listingAccessLevel),b=new redfin.common.data.CorgiPhoto({photoAccessLevel:g,fileName:b,baseUrls:this._cachedPhotoBaseUrls});this._cachedCorgiPhotos.push(b)}}},hasPhotos:function(){return this.availablePhotos&&this.mlsId&&3<=this.mlsId.length&&g_photoBaseUrl&&this.dataSourceId?!0:!1},getAllPhotos:function(){this._cachedCorgiPhotos||
this._initPhotos();return this._cachedCorgiPhotos},getAchievablePhotos:function(){this._cachedCorgiPhotos||this._initPhotos();this._cachedAchievableCorgiPhotos||(this._cachedAchievableCorgiPhotos=[],b.forEach(this._cachedCorgiPhotos,function(a){a=redfin.search.common.RestrictedValueAccessor.getRestrictedValue(a);(a.hasAccess()||a.isAchievable())&&this._cachedAchievableCorgiPhotos.push(a)},this));return this._cachedAchievableCorgiPhotos},getVisiblePhotos:function(){this._cachedCorgiPhotos||this._initPhotos();
this._cachedVisibleCorgiPhotos||(this._cachedVisibleCorgiPhotos=[],this._cachedAchievableCorgiPhotos=[],b.forEach(this._cachedCorgiPhotos,function(a){var c=redfin.search.common.RestrictedValueAccessor.getRestrictedValue(a);c.hasAccess()?(this._cachedVisibleCorgiPhotos.push(a),this._cachedAchievableCorgiPhotos.push(a)):c.isAchievable()&&this._cachedAchievableCorgiPhotos.push(a)},this));return this._cachedVisibleCorgiPhotos}})})},"redfin/search/search_bootstrap":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-construct dojo/dom-geometry dojo/has dojo/parser dojo/Deferred redfin/bouncer/Bouncer redfin/common/access_level_util redfin/common/mobile redfin/common/util redfin/search/SearchStorage redfin/search/browser_detect redfin/search/map/util redfin/search/projection_helper_overlay redfin/search/service_endpoints redfin/search/user_preferences redfin/search/util/NameValueUtil redfin/search/map/GoogleMaps redfin/search/map/MobileSearchController redfin/search/map/MapAjaxLoader redfin/search/map/GisUrlGenerator redfin/search/map/PerformanceTiming redfin/search/map/GisHashState redfin/clicktracker dojo/cookie".split(" "),
function(h,b,e,a,c,d,g,f,k,l,m,p,n,q,r,t,u,w,v,x,s,y,C,A,z,G,F,B){l.isOn(g_feature.MOBILE_SEARCH_RESULTS)&&p.enableMobilePage({tabletEnabled:!1});h=h("redfin.search.SearchBootstrap",null,{searchLoaded:!1,mapLoaded:!1,projectionLoaded:!1,gmap:null,projectionHelperOverlay:null,marketInfo:null,searchStorage:null,constructor:function(a,c,b,d,f){this.marketInfo=a;this.allMarkets=c;this.loggedInUser=b;this.searchTimeoutSecs=d;this.delayedSetup=f;this.searchStorage=new q;this.hashState=G({allMarkets:c,searchStorage:this.searchStorage});
this.urlGenerator=new A;this.ajaxLoader=new C({searchTimeoutSecs:d});this.initRegionMap()},initRegionMap:function(){var a=this.hashState.updateAndGetState();a&&a.rmFirstVisit&&!B("RF_REGION_MAP_EXP_P2")&&(a=(new Date).getTime(),B("RF_REGION_MAP_EXP_P2","GroupB,"+a,{expires:90,domain:cookieDomain,path:"/"}),F.track({action:F.START,category:"RegionMapExp",target:"MapPage",params:{group:"GroupB"}}))},init:function(){g("mobile-enabled")?this.initMobile():this.initDesktop()},initMobile:function(){(new y).init();
this.initDesktop()},initDesktop:function(){var a=this.hashState.updateAndGetState();this.hashState.get("activeMarket")&&(this.marketInfo=this.hashState.get("activeMarket"));this.hashState.get("isProximitySearch")?(this.startGisSearch(),this.requireSearchAndSetupController()):this.hashState.get("isCenterZoomSearch")?(this.setupMap(a),this.startRegionIdSearch()):(this.hashState.get("isLocationSearch")?(this.urlGenerator.startLocationQuery(a.search_location).appendMarket(this.marketInfo).appendSuppressPersonalization().appendCurrentAccessLevel().appendSearchState(a),
this.ajaxLoader.searchByLocation(this.urlGenerator.getUrl(),a.search_location)):this.hashState.get("isRegionSearch")&&this.startGisSearch(),this.startRegionIdSearch(),this.requireSearchAndSetupController());g_jsonLogin&&this.ajaxLoader.searchPersonalization()},startRegionIdSearch:function(){var a=this.hashState.getRegion();a&&(this.urlGenerator.startRegionIdQuery(a),this.ajaxLoader.searchByRegion(this.urlGenerator.getUrl(),a))},setupMap:function(c){if(!g("mobile-enabled")){t.lockUI();this.displayMode=
c.disp_mode;var f=a.get("rf_mapcontent","marginRight")+a.get("rf_mapcontent","marginLeft"),f=d.getContentBox("search_results").w-d.getPadBorderExtents(e.byId("rf_mapcontent")).w-f,l=d.getContentBox("search_results").h-d.getPadBorderExtents(e.byId("rf_mapcontent")).h-d.getMarginExtents(e.byId("rf_mapcontent")).h;if(t.DISPLAY_MODE_MAP_ONLY!==this.displayMode&&(!this.marketInfo||redfin.common.AccessLevelUtil.currentLoginHasAccess(this.marketInfo.listBelowMapVisibility))){var l=l-165,k=e.byId("search_results").style;
this.prevBGColor=k.backgroundColor;k.backgroundColor="#E3E7EA";k=e.byId("active_map_list_div").style;this.prevListBorderColor=k.borderColor;k.borderColor="#E3E7EA"}k=e.byId("rf_mapcontent").style;k.width=f+"px";k.height=l+"px"}redfin.search.SearchBootstrap.createMap(c.lat,c["long"],parseInt(c.zoomLevel,10),"rf_mapcontent").then(b.hitch(this,function(a){g("mobile-enabled")?(this.gmap="no map",this.onProjectionChanged(),this.onMapBoundsChanged()):(this.gmap=a,google.maps.event.addListenerOnce(this.gmap,
"bounds_changed",b.hitch(this,this.onMapBoundsChanged)),redfin.search.ProjectionHelperOverlay.declare(),this.projectionHelperOverlay=new redfin.search.ProjectionHelperOverlay(this.gmap),google.maps.event.addListenerOnce(this.gmap,"projection_changed",b.hitch(this,this.onProjectionChanged)));setTimeout(b.hitch(this,this.requireSearchAndOnLoad),50)}))},requireSearchAndSetupController:function(){require(["redfin/profile/search_part1","redfin/profile/search_part2"],b.hitch(this,function(){f.parse();this.setupController()}))},
requireSearchAndOnLoad:function(){require(["redfin/profile/search_part1","redfin/profile/search_part2"],b.hitch(this,this.onSearchLoaded))},getLastSearchState:function(){var a=top.window.location.hash.substring(1);a||(a=this.searchStorage.lastSearch());a&&(0<a.length&&"!"==a.charAt(0))&&(a=a.substring(1));return!a||0>=a.length?null:redfin.util.NameValue.deconstructQueryString(a)},onSearchLoaded:function(){this.searchLoaded=!0;if(redfin.search.SearchBootstrap.PROTOCOL_VERSION!==redfin.search.widget.SearchForm.PROTOCOL_VERSION)throw"Error in redfin.search.SearchBootstrap:  redfin.search.SearchBootstrap.PROTOCOL_VERSION is not equal to redfin.search.widget.SearchForm.PROTOCOL_VERSION, but is required to be!  You must update redfin.search.SearchBootstrap.PROTOCOL_VERSION (in search_bootstrap.js) to "+
redfin.search.widget.SearchForm.PROTOCOL_VERSION+"!";f.parse();this.ifAllSetupEventsFired()},onMapBoundsChanged:function(){this.mapLoaded=!0;redfin.util.showElement(e.byId("search_bar"));this.ifAllSetupEventsFired()},onProjectionChanged:function(){this.projectionLoaded=!0;this.ifAllSetupEventsFired()},ifAllSetupEventsFired:function(){this.mapLoaded&&(this.projectionLoaded&&!this.searchLoaded)&&this.startGisSearch();this.searchLoaded&&(this.mapLoaded&&this.projectionLoaded)&&(g("mobile-enabled")||
("undefined"!=typeof this.prevBGColor&&(e.byId("search_results").style.backgroundColor=this.prevBGColor),"undefined"!=typeof this.prevListBorderColor&&(e.byId("active_map_list_div").borderColor=this.prevListBorderColor),t.unlockUI()),this.setupController())},startGisSearch:function(){var a=this.getLastSearchState(),c=null,b=null;g("mobile-enabled")||(this.projectionHelperOverlay&&(c=this.projectionHelperOverlay.getProjection()),b=t.getBoundingBox(this.gmap));this.hashState.get("isProximitySearch")?
this.urlGenerator.startProximitySearch(this.hashState.getLatLong()):(this.hashState.get("isRegionSearch")?this.urlGenerator.startRegionQuery(this.hashState.getRegion()):this.urlGenerator.startGisSearch(),this.urlGenerator.appendMarket(this.marketInfo).appendSuppressPersonalization());this.urlGenerator.appendSearchState(a).appendCurrentAccessLevel();this.urlGenerator.remove("disp_mode");g("mobile-enabled")||this.urlGenerator.appendBoundingBox(b).appendBoundingBox(this.getClusterBounds(c,this.marketInfo,
b,this.displayMode),"cluster_bounds");this.ajaxLoader.searchByUrl(this.urlGenerator.getUrl())},getClusterBounds:function(a,c,b,d){if(this.gmap&&a&&!(g("ie")&&7>g("ie"))&&c&&c.clusteringEnabled&&"iPad"!==BrowserDetect.device)return a=t.calculateClusterBbox(d,b,a),redfin.search.map.util.roundBoundingBox(a)},setupController:function(){dojo.global.g_searchController=new redfin.ui.controls.SearchController(this.marketInfo,this.allMarkets,this.loggedInUser,this.searchTimeoutSecs,this.ajaxLoader,this.hashState);
this.delayedSetup&&(g_searchController.delayedInit=g_searchController.init,g_searchController.init=function(){});g_searchController.replaceHashForOnLoadGis=!0;g_searchController.init(this.gmap,this.projectionHelperOverlay)}});b.mixin(redfin.search.SearchBootstrap,{PROTOCOL_VERSION:8,ROUND_LAT_LONG_DECIMALS:5,createMap:function(a,c,d,f){if(g("mobile-enabled")){var l=new k;l.resolve();return l}return s({channel:"search"}).then(b.hitch(this,function(b){return b.create({center:new google.maps.LatLng(a,
c),zoom:d,minZoom:Math.min(7,d),mapTypeId:redfin.ui.UserPreferences.getMapStyle()},e.byId(f))}))}});return h})},"dijit/form/SimpleTextarea":function(){define("dijit/form/SimpleTextarea",["dojo/_base/declare","dojo/dom-class","dojo/sniff","./TextBox"],function(h,b,e,a){return h("dijit.form.SimpleTextarea",a,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"\x3ctextarea ${!nameAttrSetting} data-dojo-attach-point\x3d'focusNode,containerNode,textbox' autocomplete\x3d'off'\x3e\x3c/textarea\x3e",
postMixInProperties:function(){!this.value&&this.srcNodeRef&&(this.value=this.srcNodeRef.value);this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);e("ie")&&this.cols&&b.add(this.textbox,"dijitTextAreaCols")},filter:function(a){a&&(a=a.replace(/\r/g,""));return this.inherited(arguments)},_onInput:function(a){if(this.maxLength){var b=parseInt(this.maxLength),g=this.textbox.value.replace(/\r/g,""),b=g.length-b;if(0<b){var f=this.textbox;if(f.selectionStart){var k=f.selectionStart,
l=0;e("opera")&&(l=(this.textbox.value.substring(0,k).match(/\r/g)||[]).length);this.textbox.value=g.substring(0,k-b-l)+g.substring(k-l);f.setSelectionRange(k-b,k-b)}else this.ownerDocument.selection&&(f.focus(),g=this.ownerDocument.selection.createRange(),g.moveStart("character",-b),g.text="",g.select())}}this.inherited(arguments)}})})},"dijit/Destroyable":function(){define("dijit/Destroyable",["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(h,b,e){return e("dijit.Destroyable",null,
{destroy:function(a){this._destroyed=!0},own:function(){h.forEach(arguments,function(a){var c="destroyRecursive"in a?"destroyRecursive":"destroy"in a?"destroy":"remove",d=b.before(this,"destroy",function(b){a[c](b)});b.after(a,c,function(){d.remove()},!0)},this);return arguments}})})},"dojo/request":function(){define(["./request/default!"],function(h){return h})},"redfin/common/elements/form/Text":function(){define(["dijit","dojo","dojox","dojo/require!redfin/common/elements/form/_FormElement,redfin/common/elements/form/_PasteHandler,dijit/form/ValidationTextBox"],
function(h,b,e){b.provide("redfin.common.elements.form.Text");b.require("redfin.common.elements.form._FormElement");b.require("redfin.common.elements.form._PasteHandler");b.require("dijit.form.ValidationTextBox");b.declare("redfin.common.elements.form.Text",[redfin.common.elements.form._FormElement,redfin.common.elements.form._PasteHandler],{maxlength:null,watermark:"",tabIndex:"-1",templateString:b.cache("redfin.common.elements.form","templates/Text.html",'\x3cspan class\x3d"field text ${name}"\x3e\n\t\x3cspan class\x3d"label" dojoAttachPoint\x3d"labelNode"\x3e\x3c/span\x3e\n\t\x3cspan class\x3d"input"\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d\'_dijitNode\'\x3e\x3c/div\x3e\n\t\x3c/span\x3e\n\t\x3cspan class\x3d"error hidden" dojoAttachPoint\x3d"_errorNode"\x3e\x3c/span\x3e\n\x3c/span\x3e'),
buildRendering:function(){this.inherited(arguments);this.inputNode=new h.form.ValidationTextBox({value:this.value,maxlength:this.maxlength,name:this.name,"class":"value text "+this.name},this._dijitNode);this.attr("watermark",this.watermark);this._bindEvents()},focus:function(){this.inputNode.focus()},isValid:function(){return this.inputNode.isValid()},onChange:function(a){},_setValueAttr:function(a){this.inputNode.attr("value",a)},_setDisabledAttr:function(a){this.inherited(arguments);this.inputNode.set("disabled",
a)},_setWatermarkAttr:function(a){this.inputNode.attr("placeHolder",a)},_setRegExpAttr:function(a){this.inputNode&&this.inputNode.set("regExp",a)},_setInvalidMessageAttr:function(a){},_getWatermarkAttr:function(){this.inputNode.attr("placeHolder")},_getRegExpAttr:function(){return this.inputNode?this.inputNode.get("regExp"):null},_onInputKeyUp:function(a){this.onKeyUp(a)},_onInputKeyDown:function(a){this.onKeyDown(a)},_onInputChange:function(a){this.onChange(a)},_bindEvents:function(){this.connect(this.inputNode,
"onChange",this._onInputChange);this.connect(this.inputNode,"onKeyUp",this._onInputKeyUp);this.connect(this.inputNode,"onKeyDown",this._onInputKeyDown)}})})},"redfin/common/data/CorgiLastSaleInfo":function(){define("redfin/common/data/CorgiLastSaleInfo",["dijit","dojo","dojox","dojo/require!redfin/common/data/DataObject,redfin/search/common/RestrictedValueAccessor,redfin/search/data/AccessLevelMethodGenerator"],function(h,b,e){b.provide("redfin.common.data.CorgiLastSaleInfo");b.require("redfin.common.data.DataObject");
b.require("redfin.search.common.RestrictedValueAccessor");b.require("redfin.search.data.AccessLevelMethodGenerator");b.declare("redfin.common.data.CorgiLastSaleInfo",[redfin.common.data.DataObject],{});h=redfin.search.data.AccessLevelMethodGenerator.addAccessLevelForField;h(redfin.common.data.CorgiLastSaleInfo,"salePrice",["saleListingAccessLevel"])})},"url:redfin/homepage/widgets/templates/MyClaimedHomesWidget.html":'\x3cdiv class\x3d"MyClaimedHomesWidget whiteBox"\x3e\n\t\x3cdiv class\x3d"title clearfix"\x3e\n\t\t\x3cdiv class\x3d"iconWrap"\x3e\n\t\t\t\x3cspan class\x3d"home_icon icon"\x3e\x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\t\x3ch2 class\x3d"text" dojoAttachPoint\x3d"titleNode"\x3eMy Home\x3c/h2\x3e\n\t\t\x3cspan class\x3d"actions" dojoAttachPoint\x3d"actionsNode"\x3e\n\t\t\t\x3cbutton dojoAttachPoint\x3d"addButton"\x3eAdd\x3c/button\x3e\n\t\t\x3c/span\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"loading" dojoAttachPoint\x3d"spinnerNode"\x3e\x3c/div\x3e\n\n\t\x3cdiv class\x3d"hidden ghostTown" dojoAttachPoint\x3d"ghostTownNode"\x3e\n\t\t\x3cdiv class\x3d"ghostTownContents"\x3e\n\t\t\t\x3cdiv class\x3d"iconWrap"\x3e\n\t\t\t\t\x3cspan class\x3d"sad claimedHomesGhostTown icon"\x3e\x3c/span\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cp class\x3d"text"\x3e\n\t\t\t\t\x3cb\x3eYou have no homes added!\x3c/b\x3e\n\t\t\t\t\x3cbr\x3e\n\t\t\t\tKeep track of what your home is worth. It\'s as simple as entering your address.\n\t\t\t\x3c/p\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\n\t\x3cdiv class\x3d"hidden myHomes list homepage row-type" dojoAttachPoint\x3d"containerNode"\x3e\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"hidden claimHomeForm" dojoAttachPoint\x3d"claimFormNode"\x3e\n\t\t\x3clabel for\x3d"claimAddress"\x3eYour home address\x3c/label\x3e\n\t\t\x3cinput name\x3d"claimAddress" dojoAttachPoint\x3d"claimAddressNode" placeholder\x3d"Enter your home address"\x3e\n\t\t\x3cbutton dojoAttachPoint\x3d"claimButtonNode"\x3e\x3c/button\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:redfin/common/elements/templates/Button.html":'\x3cdiv class\x3d"Button" data-dojo-attach-point\x3d"focusNode"\x3e\n\t\x3cspan data-dojo-attach-point\x3d"containerNode"\x3e\x3c/span\x3e\n\t\x3cdiv class\x3d"inline-block icon hidden" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"redfin/search/common/widgets/MlsDisclaimer":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/html dojo/text!./templates/MlsDisclaimer.html dijit/_WidgetBase dijit/_TemplatedMixin".split(" "),
function(h,b,e,a,c,d,g){return h([d,g],{templateString:c,lastUpdated:null,disclaimer:null,showRuler:!0,_setDisclaimerAttr:function(c){var d=b.isString(c)&&0<c.length,l=(new Date).getFullYear();d&&a.set(this.disclaimerNode,b.replace(c,{IMAGE_SERVER:g_imageServerUrl,CURRENT_YEAR:l,CURRENT_YEAR_TOKEN:l},/\$\{([^\}]+)\}/g));e.toggle(this.domNode,"hidden",!d);this._set("disclaimer",c)},_setShowRulerAttr:function(a){e.toggle(this.ruler,"hidden",!a);this._set("showRuler",a)},_setLastUpdatedAttr:function(a){var c=
b.isString(a)&&0<a.length;a&&(this.lastUpdatedNode.innerHTML=a);e.toggle(this.lastUpdatedNode,"hidden",!c);this._set("lastUpdated",a)}})})},"url:redfin/search/common/dialogs/templates/BasicDialogActions.html":'\x3cdiv class\x3d"actions clear-fix grey-pattern-bg"\x3e\n\t\x3ca class\x3d"hidden basic-button-black Button primary small basic-border-radius float-right action" target\x3d"_top" data-dojo-attach-point\x3d"positiveButton"\x3e${positive}\x3c/a\x3e\n\t\x3ca class\x3d"hidden basic-button-black Button tertiary small basic-border-radius float-right action" target\x3d"_top" data-dojo-attach-point\x3d"negativeButton"\x3e${negative}\x3c/a\x3e\n\x3c/div\x3e',
"url:redfin/common/widgets/contactBox/templates/ContactBoxHTML.html":'\x3cdiv class\x3d"contactBoxHTML" dojoAttachPoint\x3d"content"\x3e\x3c/div\x3e',"redfin/common/elements/form/Select":function(){define(["dijit","dojo","dojox","dojo/require!redfin/common/elements/Flyout,redfin/common/elements/form/_FormElement,redfin/common/mixins/_Clickable,redfin/common/mixins/_Hoverable,redfin/common/util/TouchUtil,dijit/_KeyNavContainer,dijit/_Container"],function(h,b,e){b.provide("redfin.common.elements.form.Select");
b.require("redfin.common.elements.Flyout");b.require("redfin.common.elements.form._FormElement");b.require("redfin.common.mixins._Clickable");b.require("redfin.common.mixins._Hoverable");b.require("redfin.common.util.TouchUtil");b.require("dijit._KeyNavContainer");b.require("dijit._Container");b.declare("redfin.common.elements.form.Select",[redfin.common.elements.form._FormElement,h._KeyNavContainer,redfin.common.mixins._Clickable],{options:null,value:"",defaultOption:!1,defaultOptionLabel:"\x26nbsp;",
showDefaultOptionLabel:!1,allowCustomValue:!1,maxFlyoutHeight:null,templateString:b.cache("redfin.common.elements.form","templates/Select.html","\x3cspan class\x3d\"field select Select ${name}\"dojoAttachPoint\x3d'focusNode'\x3e\n\t\x3cspan class\x3d\"label\" dojoAttachPoint\x3d\"labelNode\"\x3e\x3c/span\x3e\n\t\x3cspan class\x3d\"input\"\x3e\n\t\t\x3cspan class\x3d'container'\x3e\n\t\t\t\x3cspan class\x3d'arrow'\x3e\x26#9660;\x3c/span\x3e\n\t\t\t\x3cspan class\x3d'value' dojoAttachPoint\x3d'valueNode'\x3e\x26nbsp;\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\t\x3cspan dojoAttachPoint\x3d'flyoutNode'\x3e\n\t\t\t\x3cdiv dojoAttachPoint\x3d'containerNode'\x3e\x3c/div\x3e\n\t\t\x3c/span\x3e\n\t\t\x3cselect class\x3d'select' dojoAttachPoint\x3d'selectNode' tabindex\x3d'-1'\x3e\x3c/select\x3e\n\t\x3c/span\x3e\n\t\x3cspan class\x3d\"error hidden\" dojoAttachPoint\x3d\"_errorNode\"\x3e\x3c/span\x3e\n\x3c/span\x3e"),
selectNode:null,valueNode:null,flyoutNode:null,inputNode:null,_flyout:null,_optionsArray:null,_valueToOptionMap:null,_defaultOptionValue:null,_keyInput:null,fadeDuration:150,_keyInputTypeDelay:500,constructor:function(){this._valueToOptionMap={}},buildRendering:function(){this.inherited(arguments);this._flyout=new redfin.common.elements.Flyout({position:"below",type:null,alignment:"left",scrollOnOverflow:!0,keepWithin:null,maxHeight:this.maxFlyoutHeight},this.flyoutNode);var a=this._isTouchDevice();
b.toggleClass(this.domNode,"touch",a);a&&b.removeAttr(this.selectNode,"tabindex");this._bindEvents()},postCreate:function(){this.inherited(arguments);var a=b.keys;this.connectKeyNavHandlers([a.UP_ARROW],[a.DOWN_ARROW]);this.value&&(this._updateValue(this.value),!1)},_setValueAttr:function(a,c){this._updateValue(a,c);this._flyout.hide()},_setOptionsAttr:function(a){this._optionsArray=redfin.common.elements.form.Select.OptionHelper._createOptionsArray(a);this._valueToOptionMap={};b.forEach(this._optionsArray,
function(a){this._valueToOptionMap[a.value]=a},this);this._isEmpty(this._optionsArray)||(this._addFlyoutOptions(this._optionsArray),this._addSelectOptions(this._optionsArray));!this.value&&!this.defaultOption&&this._optionsArray[0]&&(this.value=this._optionsArray[0].value);this._updateValue(this.value,!1)},_getValueAttr:function(){var a=this._valueToOptionMap[this.value];return a?"undefined"!==typeof a.value?value=a.value:value=a:null},_setDisabledAttr:function(a){this.inherited(arguments);this.set("tabIndex",
a?"-1":"0");b.removeAttr(this.focusNode,"disabled");this.selectNode.disabled=a},_getDisplayedValueAttr:function(){return this._getLabelByValue(this.selectNode.value)},getDisplayedValueLabel:function(){return this._getDisplayedValueAttr()},_bindEvents:function(){this.inherited(arguments);this.connect(this.selectNode,"onchange","_onSelectChange");this._isTouchDevice()||this.connect(this._flyout,"onShow","_onFlyoutShow")},_onClick:function(){this.inherited(arguments);!this._flyout.attr("shown")&&!this.get("disabled")&&
!this._isTouchDevice()?this._flyout.show():this._flyout.hide()},_onFocus:function(){this.inherited(arguments);!this._flyout.attr("shown")&&!this.get("disabled")&&this._isTouchDevice()},_onBlur:function(){this.inherited(arguments);this.focusChild(null);this._flyout.attr("shown")&&this._flyout.hide()},_onContainerKeypress:function(a){this.inherited(arguments);switch(a.charOrCode){case b.keys.ENTER:this.focusedChild&&this.attr("value",this.focusedChild.attr("value"));break;case b.keys.UP_ARROW:case b.keys.DOWN_ARROW:!this._flyout.attr("shown")&&
(!this.get("disabled")&&!this._isTouchDevice())&&this._flyout.show();break;case b.keys.ESCAPE:this._flyout.hide();break;default:this._handleKeyInput(a)}},_handleKeyInput:function(a){if(a=a.keyChar){null==this._keyInput&&(this._keyInput="");this._keyInput+=a;clearTimeout(this._keyTimeout);var c=this;this._keyTimeout=setTimeout(function(){c._keyInput=null},this._keyInputTypeDelay);var d=this._keyInput;a=b.filter(this._optionsArray,function(a){return 0===b.indexOf(a.label.toLowerCase(),d.toLowerCase())?
!0:!1});0<a.length&&this._focusChildByValue(a[0].value)}},_addFlyoutOptions:function(a){this.destroyDescendants();this.defaultOption&&(this.defaultFlyoutOption=this._addFlyoutOption(this.defaultOptionLabel,this._defaultOptionValue,"default"));b.forEach(a,function(a,b){this._addFlyoutOption(a.label,a.value,a.cssClass)},this)},_addFlyoutOption:function(a,c,b){a=new redfin.common.elements.form.SelectFormElement.Option({label:a,value:c,cssClass:b});this.connect(a,"onClick","_onFlyoutOptionClick");this.connect(a,
"onMouseEnter","_onFlyoutOptionMouseEnter");this.connect(a,"onMouseLeave","_onFlyoutOptionMouseLeave");this.addChild(a);return a},_onFlyoutOptionClick:function(a){var c=h.byNode(a.target).get("value");this.attr("value",c);b.stopEvent(a)},_onFlyoutOptionMouseEnter:function(a){a=h.byNode(a.target);this.focusChild(a)},_onFlyoutOptionMouseLeave:function(a){},_onChildBlur:function(a){a.blur()},focusChild:function(a){if(a){this.inherited(arguments);var c=this._flyout.get("containerPosition"),d=b.position(a.domNode);
d.relativeY=0;var g=this.getChildren(),f;for(f in g)if(g.hasOwnProperty(f)){var k=g[f];if(k===a)break;d.relativeY+=b.position(k.domNode).h}switch(this._childInViewport(d,c)){case "above":this._flyout.scrollTo(d.relativeY);break;case "below":this._flyout.scrollTo(d.relativeY+d.h-c.h)}}else{g=this.getChildren();for(f in g)g.hasOwnProperty(f)&&g[f].blur();this.focusedChild=null}},_focusChildByValue:function(a){a=this._getChildByValue(a);this.focusChild(a)},_childInViewport:function(a,c){var b=c.y,g=
c.y+c.h;child={top:a.y,bottom:a.y+a.h};if(child.top<b||child.bottom>g){if(child.top<b)return"above";if(child.bottom>g)return"below"}else return!0;return!1},_onFlyoutShow:function(){this.focusChild(this._getSelectedChild())},_getChildByValue:function(a){var c=this.getChildren(),b;for(b in c)if(c.hasOwnProperty(b)){var g=c[b];if(g.get("value")===a)return g}return null},_getSelectedChild:function(){var a=this.getChildren(),c;for(c in a)if(a.hasOwnProperty(c)){var b=a[c];if(b.get("selected"))return b}return null},
_setSelectedChild:function(a){var c=this.getChildren(),b;for(b in c)if(c.hasOwnProperty(b)){var g=c[b];g.get("value")==a?g.set("selected",!0):g.set("selected",!1)}},_addSelectOptions:function(a){b.empty(this.selectNode);this.defaultOption&&(this.defaultSelctOption=this._addSelectOption({label:this.defaultOptionLabel,value:this._defaultOptionValue}));b.forEach(a,function(a){this._addSelectOption(a)},this)},_addSelectOption:function(a){a=b.create("option",{innerHTML:a.label,value:a.value+""});b.place(a,
this.selectNode);return a},_onSelectChange:function(a){this._updateValue(this._valueToOptionMap[this.selectNode.value].value,!0)},onChange:function(a){},_isEmpty:function(a){for(var c in a)if(a.hasOwnProperty(c))return!1;return!0},_updateValue:function(a,c){var d=this._valueIsValid(a);if(d||!d&&this.allowCustomValue){if(d?(this.customSelectOption&&(b.destroy(this.customSelectOption),this.customSelectOption=null),this.customFlyoutOption&&(this.customFlyoutOption.destroyRecursive(),this.customFlyoutOption=
null)):(d=a?a.toString():"\x26nbsp;",this.customSelectOption=this._addSelectOption({label:d,value:a}),this.customFlyoutOption=this._addFlyoutOption(d,a,"custom")),this.value=a,this.selectNode.value=null===a?"null":a,d=this._getLabelByValue(this.value),this.valueNode.innerHTML=this.defaultOption&&this.showDefaultOptionLabel?d&&""!==d?d:null===d&&null===a?this.defaultOptionLabel:"\x26nbsp;":d&&""!==d?d:"\x26nbsp;",this._setSelectedChild(a),"undefined"===typeof c||!0===c)this.onChange(this.attr("value"))}else console.warn("Select: Error - Value is not in supplied options list ",
a),this.value=a},_valueIsValid:function(a){var c=!1;b.forEach(this._optionsArray,function(b){if(b===a||null!==b&&b.value===a)c=!0});this.defaultOption&&null==a&&(c=!0);return c},_getLabelByValue:function(a){return(a=this._valueToOptionMap[a])?a.label:null},_isTouchDevice:function(){return redfin.common.util.TouchUtil.isTouchDevice()}});b.declare("redfin.common.elements.form.SelectFormElement.Option",[h._Widget,h._TemplatedMixin,redfin.common.mixins._Hoverable],{label:"",cssClass:void 0,value:null,
templateString:"\x3cdiv class\x3d'option' onselectstart\x3d'return false;'\x3e${label}\x3c/div\x3e",buildRendering:function(){this.inherited(arguments);this.cssClass&&b.addClass(this.domNode,this.cssClass)},focus:function(){b.addClass(this.domNode,"focus")},blur:function(){b.removeClass(this.domNode,"focus")},_setSelectedAttr:function(a){b.toggleClass(this.domNode,"selected",a)},_getSelectedAttr:function(){return b.hasClass(this.domNode,"selected")},_getValueAttr:function(){return this.value}});b.mixin(b.getObject("redfin.common.elements.form.Select.OptionHelper",
!0),{_createOptionsArray:function(a){var c=[];b.isArray(a)?c=redfin.common.elements.form.Select.OptionHelper._createOptionsArrayFromArray(a):"object"===typeof a?(c=redfin.common.elements.form.Select.OptionHelper._createOptionsArrayFromObject(a),c.sort(function(a,c){return(a.displayOrder||0)-(c.displayOrder||0)})):console.error("Options are not an array or an object",a);return c},_createOptionsArrayFromObject:function(a){var c=[];a.idToObj&&(a=a.idToObj);for(var d in a)if(a.hasOwnProperty(d)){var g=
a[d],f="",k="",l=g&&g.cssClass||null,e=g&&g.displayOrder||null;b.isObject(g)&&g.displayName?(f="undefined"!=typeof g.id?g.id:d,k=g.displayName||"\x26nbsp;"):(f=d,k=g||"\x26nbsp;");c.push({label:k,value:f,cssClass:l,displayOrder:e})}return c},_createOptionsArrayFromArray:function(a){var c=[],b;for(b in a)if(a.hasOwnProperty(b)){var g=a[b];if("undefined"!=typeof g.value)var f=g.value,k=g.label||"\x26nbsp;",g=g.cssClass||null;else k=g.toString(),f=g,g=null;c.push({label:k,value:f,cssClass:g})}return c}})})},
"redfin/search/map/overlays/FastMarkerOverlay":function(){define("dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/Evented ./markers/FastMarker redfin/search/browser_detect".split(" "),function(h,b,e,a,c){var d={onAdd:function(){var a=this.getPanes();this.div=b.create("div");"iPad"==BrowserDetect.device?a.overlayMouseTarget.appendChild(this.div):a.floatPane.appendChild(this.div)},onRemove:function(){b.destroy(this.div);this.div=null},draw:function(){if(this.div){for(var a=this.getProjection(),
c=[],b=null,d=null,g=this.markers.length;g--;)b=this.markers[g],d=a.fromLatLngToDivPixel(b.position),c.push(b.getTemplate({left:d.x+b.leftOffset,top:d.y+b.topOffset}));this.div.innerHTML=c.join("");this.drawn=!0;this.emit("draw",this)}},addMarkers:function(a){this.markers=this.markers.concat(h.isArray(a)?a:[a])},hide:function(){return!this.div?!1:e.toggle(this.div,"hidden")}},g=null;c=function(c){if(!h.exists("google.maps.OverlayView"))throw Error("Google maps not loaded yet. Only create FastMarkerOverlay's once Google Maps is loaded");
g||(g=function(a){this.markers=a||[];this.drawn=!1},g.prototype=new google.maps.OverlayView,h.mixin(g.prototype,d),h.mixin(g.prototype,new a));return new g(c)};h.setObject("redfin.search.map.overlays.FastMarkerOverlay",c);return c})},"redfin/multiget":function(){define("dojo/_base/array dojo/_base/lang dojo/_base/kernel dojo/request dojo/request/handlers dojo/json dojo/io-query dojo/Deferred redfin/search/common/loader/LoaderCache".split(" "),function(h,b,e,a,c,d,g,f,k){function l(a){var c,b,d,f;
for(b=0;2083>b;b++){if(a[0].length<=b)return b;d=a[0].charAt(b);for(c=1;c<a.length;c++)if(f=a[c],f.length<=b||f.charAt(b)!==d)return b}return 0}function m(c,d,f){var g=c.getAllRequests(),e=[];for(i=0;i<g.length;++i)e.push(g[i].requestParams.url);var m=l(e),p={p:e[0].substring(0,m),u:[]};dojo.forEach(e,function(a,c){p.u.push(a.substring(m))},this);g={url:"/stingray/do/multiget",query:p,handleAs:"json-squiggly"};null!==d&&(g.timeout=d);f?(requestData.cacheSecs=f,g.url="/stingray/do/multiget_cache",
a.get(g.url,g).then(b.hitch(this,n,c),b.hitch(this,q,c))):k.isAvailable()?n(c,{version:r}):a.get(g.url,g).then(b.hitch(this,n,c),b.hitch(this,q,c))}function p(c,d,f){var l=c.getAllRequests(),k={};for(i=0;i<l.length;++i)k["url"+i]=l[i].requestParams.url;l="http://"+u+"/stingray/do/multiget_jsonp";f&&(k.cacheSecs=f,l="http://"+u+"/stingray/do/multiget_jsonp_cache");f={url:l,callbackParamName:"callback",content:k,failOk:!0};null!==d&&(f.timeout=d);a.get(f.url,f).then(b.hitch(this,n,c),b.hitch(this,q,
c))}function n(a,c,d){r!==c.version&&console.error("WARNING: on-wire MultiGet protocol version ("+c.version+") does not match expected version ("+redfin.MultiGet.PROTOCOL_VERSION+")");a=a.getAllRequests();var f,l,g;for(f=0;f<a.length;++f)l=a[f],l=l.requestParams,g=k.isAvailable()?{resultCode:0,payload:k.getData(l.url)}:c.payload[l.url],g.resultCode&&0!==g.resultCode?a[f].deferredResponse.reject(b.mixin({ioArgs:d,requestParams:l},g)):a[f].deferredResponse.resolve(b.mixin({ioArgs:d,requestParams:l},
g));for(f=0;f<a.length;++f)if(l=a[f],l=l.requestParams,g=k.isAvailable()?{resultCode:0,payload:k.getData(l.url)}:c.payload[l.url],g.resultCode&&0!==g.resultCode)l.error&&l.error(g,d,l);else if(l.load)try{l.load(g,d,l)}catch(e){if(l.error)try{l.error(e,d,l)}catch(m){console.error("Error occurred while calling error handler for : "+l.url)}}for(f=0;f<a.length;++f)l=a[f],l.deferredProcessed.isResolved()||l.deferredProcessed.resolve()}function q(a,c,b){a=a.getAllRequests();for(var d=0,f=null,d=0;d<a.length;++d)a[d].deferredResponse.reject(c);
for(d=0;d<a.length;++d)f=a[d].requestParams,f.error&&f.error(c,b);for(d=0;d<a.length;++d)f=a[d],f.deferredProcessed.isResolved||f.deferredProcessed.resolve()}var r=1,t={},u=null,w=function(a){var c=[],b=new f,d=new f;this.getName=function(){return a};this.addRequest=function(a){a.content&&(a.url+="?"+g.objectToQuery(a.content));var l={deferredRequest:b,deferredResponse:new f,deferredProcessed:d};c.push({requestParams:a,deferredRequest:l.deferredRequest,deferredResponse:l.deferredResponse,deferredProcessed:l.deferredProcessed});
return l};this.getAllRequests=function(){return c}};h=new function(){this.BATCH_PERSONALIZATION="BATCH_PERSONALIZATION";this.BATCH_BULK="BATCH_BULK";this.BATCH_BULK_2="BATCH_BULK_2";this.setCrossDomainServer=function(c){c&&require(["dojo/request/script"],function(c){a=c});u=c};this.add=function(a){if(!a||!a.batch||!a.url)throw"Error in redfin.MultiGet.add: required arguments were not supplied";return(t[a.batch]?t[a.batch]:t[a.batch]=new w(a.batch)).addRequest(a)};this.go=function(a,c){var b=t[a];
if(b){delete t[a];var d=null,f=b.getAllRequests(),l;for(l=0;l<f.length;++l){var k=f[l].requestParams;void 0!==k.timeout&&(d=void 0===d?k.timeout:Math.max(d,k.timeout))}u?p(b,d,c):m(b,d,c);for(l=0;l<f.length;++l)f[l].deferredRequest.isResolved()||f[l].deferredRequest.resolve()}};this.reportPending=function(){for(var a in t)for(var c=t[a].getAllRequests(),b=0;b<c.length;++b)console.error("WARNING: There is an outstanding redfin.MultiGet request for "+c[b].requestParams.url)}};b.setObject("redfin.MultiGet",
h);return h})},"redfin/common/mixins/_Clickable":function(){define(["dijit","dojo","dojox"],function(h,b,e){b.provide("redfin.common.mixins._Clickable");b.declare("redfin.common.mixins._Clickable",[],{_onClickHandle:null,eventsAttached:!1,clickable:!0,_setClickableAttr:function(a){(this.clickable=!0===a)?(this._attachClickableEvents(),b.addClass(this.domNode,"clickable")):(this._detachClickableEvents(),b.removeClass(this.domNode,"clickable"))},_attachClickableEvents:function(){this.inherited(arguments);
this.eventsAttached||(this._onClickHandle=this.connect(this.domNode,"onclick",this._onClick));this.eventsAttached=!0},_detachClickableEvents:function(){this.inherited(arguments);this.disconnect(this._onClickHandle)},_onClick:function(a){this.inherited(arguments);this.onClick(a,this)},onClick:function(){}})})},"dojo/data/util/filter":function(){define(["../../_base/lang"],function(h){var b={};h.setObject("dojo.data.util.filter",b);b.patternToRegExp=function(b,a){for(var c="^",d=null,g=0;g<b.length;g++)switch(d=
b.charAt(g),d){case "\\":c+=d;g++;c+=b.charAt(g);break;case "*":c+=".*";break;case "?":c+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":c+="\\";default:c+=d}c+="$";return a?RegExp(c,"mi"):RegExp(c,"m")};return b})},"dojo/dnd/common":function(){define(["../_base/connect","../_base/kernel","../_base/lang","../dom"],function(h,b,e,a){var c={};c.getCopyKeyState=h.isCopyKey;c._uniqueId=0;c.getUniqueId=function(){var d;do d=b._scopeName+
"Unique"+ ++c._uniqueId;while(a.byId(d));return d};c._empty={};c.isFormElement=function(a){a=a.target;3==a.nodeType&&(a=a.parentNode);return 0<=" button textarea input select option ".indexOf(" "+a.tagName.toLowerCase()+" ")};e.mixin(e.getObject("dojo.dnd",!0),c);return c})},"redfin/common/data/util/ListingPhotosUtil":function(){define(["dijit","dojo","dojox"],function(h,b,e){b.provide("redfin.common.data.util.ListingPhotosUtil");b.declare("redfin.common.data.util._ListingPhotosUtilImpl",[],{parseAvailablePhotosString:function(a,
c){for(var b=/(\d+(-\d+)?\:\w{1,3},?)/gi,g=[];null!=(e=b.exec(a));){var f=e[0];","==f.charAt(f.length-1)&&(f=f.substring(0,f.length-1));var k=f.split(":"),f=k[1],l=k[0].split("-"),k=e=parseInt(l[0]);2==l.length&&(k=parseInt(l[1]));for(l=e;l<=k;l++){var e={};e.ver=f;e.pos=l;g.push(e);if(c)return b.lastIndex=0,g}}b.lastIndex=0;return g},getPhotoBaseUrl:function(a,c,b){if(a!=g_listingPhotoType.THUMBNAIL&&a!=g_listingPhotoType.MID_SIZE&&a!=g_listingPhotoType.FULL_SIZE)return null;c=g_photoBaseUrl+"/"+
c;a.photoDir&&(c+="/"+a.photoDir+"/");c=c+b.substring(b.length-3,b.length)+"/";c+=a.fileNamePrefix;return c+(b+"_")}});b.setObject("redfin.common.data.util.ListingPhotosUtil",new redfin.common.data.util._ListingPhotosUtilImpl)})},"redfin/search/common/mixins/_TouchListener":function(){define(["dijit","dojo","dojox"],function(h,b,e){b.provide("redfin.search.common.mixins._TouchListener");redfin.search.common.mixins._TouchListener={_fingerCount:0,_touchStartX:0,_touchStartY:0,_touchCurX:0,_touchCurY:0,
connectSwipe:function(a,c,d){"ontouchstart"in window&&(a.addEventListener("touchstart",b.hitch(this,this._touchStart,d),!1),a.addEventListener("touchmove",b.hitch(this,this._touchMove,c,d),!1),a.addEventListener("touchend",b.hitch(this,this._touchEnd,d),!1),a.addEventListener("touchcancel",b.hitch(this,this._touchCancel,d),!1))},_touchStart:function(a,c){this._fingerCount=c.touches.length;1==this._fingerCount?(this._touchStartX=c.touches[0].pageX,this._touchStartY=c.touches[0].pageY,"undefined"!==
typeof redfinMobileInterface&&"function"===typeof redfinMobileInterface.setTouchState&&redfinMobileInterface.setTouchState(!0)):this._touchCancel(a,c)},_touchMove:function(a,c,b){1==b.touches.length?(this._swiping=!0,this._touchCurX=b.touches[0].pageX,this._touchCurY=b.touches[0].pageY,a&&a(this._touchCurX-this._touchStartX,this._touchCurY-this._touchStartY,this._getSwipeDirection())):this._touchCancel(c,b)},_touchEnd:function(a,c){1==this._fingerCount&&this._swiping?(a&&a(this._touchCurX-this._touchStartX,
this._touchCurY-this._touchStartY,this._getSwipeDirection()),this._resetTouchState()):this._touchCancel(a,c)},_touchCancel:function(a,c){this._swiping&&a&&a(c);this._resetTouchState()},_resetTouchState:function(){this._touchCurY=this._touchCurX=this._touchStartY=this._touchStartX=this._fingerCount=0;this._swiping=!1;"undefined"!==typeof redfinMobileInterface&&"function"===typeof redfinMobileInterface.setTouchState&&redfinMobileInterface.setTouchState(!1)},_getSwipeDirection:function(){var a=this._touchStartX-
this._touchCurX,c=this._touchCurY-this._touchStartY;Math.round(Math.sqrt(Math.pow(a,2)+Math.pow(c,2)));a=Math.atan2(c,a);a=Math.round(180*a/Math.PI);0>a&&(a=360-Math.abs(a));return 45>=a&&0<=a?"left":360>=a&&315<=a?"left":135<=a&&225>=a?"right":45<a&&135>a?"down":"up"}}})},"redfin/common/data/Model":function(){define("redfin/common/data/Model","dojo/_base/declare dojo/_base/lang dojo/json redfin/common/data/DataModelUtil redfin/common/data/Events redfin/common/data/ObjectGraph redfin/common/util redfin/search/common/RestrictedValueAccessor redfin/search/data/Accessor redfin/search/util/LoginUtil".split(" "),
function(h,b,e,a,c,d,g,f,k,l){return h("redfin.common.data.Model",c,{uniqueId:0,immediateEvents:["sync"],_util:a,constructor:function(a,c){var d;a||(a={});c&&c.collection&&(this.collection=c.collection);c&&c.parse&&(a=this.parse(a));if(d=this._util.getValue(this,"defaults"))a=b.mixin(b.mixin({},d),a);this._attributes={};this._escapedAttributes={};this.cid=redfin.common.data.Model.prototype.uniqueId++;this.changed={};this._silent={};this._pending={};this.set(a,{silent:!0});this.changed={};this._silent=
{};this._pending={};this._previousAttributes=this._util.shallowClone(this._attributes);if(this.immediateEvents)for(d=0;d<this.immediateEvents.length;++d)this.on(this.immediateEvents[d],b.hitch(this,this.emitted,this.immediateEvents[d]))},changed:null,_silent:null,_pending:null,idAttribute:"id",toJSON:function(a){return e.stringify(this._attributes)},sync:function(){return this._util.sync.apply(this,arguments)},get:function(a,c){return k.get(this,a,c)},escape:function(a){var c;if(c=this._escapedAttributes[a])return c;
c=this.get(a);return this._escapedAttributes[a]=redfin.util.htmlEscape(null==c?"":""+c)},has:function(a){a=this.get(a);return null!=a&&"undefined"!==typeof a},set:function(a,c,d){var f,l;b.isObject(a)||null==a?(f=a,d=c):(f={},f[a]=c);d||(d={});if(!f)return this;f instanceof redfin.common.data.Model&&(f=f._attributes);if(d.unset)for(l in f)f[l]=void 0;if(!this._validate(f,d))return!1;this.idAttribute in f&&(this.id=f[this.idAttribute]);c=d.changes={};var k=this._attributes,g=this._escapedAttributes,
e=this._previousAttributes||{};for(l in f){a=f[l];if(!this._util.deepIsEqual(k[l],a)||d.unset&&this._util.has(k,l))delete g[l],(d.silent?this._silent:c)[l]=!0;d.unset?delete k[l]:k[l]=a;!this._util.deepIsEqual(e[l],a)||this._util.has(k,l)!==this._util.has(e,l)?(this.changed[l]=a,d.silent||(this._pending[l]=!0)):(delete this.changed[l],delete this._pending[l])}d.silent||this.change(d);return this},unset:function(a,c){c=b.mixin(b.mixin({},c),{unset:!0});return this.set(a,null,c)},clear:function(a){a=
b.mixin(b.mixin({},a),{unset:!0});return this.set(this._util.shallowClone(this._attributes),a)},fetch:function(a){a=a?this._util.shallowClone(a):{};var c=this,b=a.success;a.load=function(d,f){if(!c.set(c.parse(d.payload,f),a))return!1;b&&b(c,d,a);c.emit("sync",c,d,a)};a.error=this._util.wrapError(a.error,c,a);return this.sync("read",this,a)},save:function(a,c,d){var f,l,k;b.isObject(a)||null==a?(f=a,d=c):(f={},f[a]=c);d=d?this._util.shallowClone(d):{};if(d.wait||d.resetOnError){if(!this._validate(f,
d))return!1;l=this._util.shallowClone(this._attributes)}a=b.mixin(b.mixin({},d),{silent:!0});if(f&&!this.set(f,d.wait?a:d)||!f&&!this.isValid())return!1;var g=this,e=d.success;d.load=function(a,c){if(a.resultCode)d.error&&d.error(a,c);else{k=!0;var l=g.parse(a.payload,c);d.wait&&(l=b.mixin(f||{},l));if(!g.set(l,d))return!1;e&&e(g,a,d);g.emit("sync",g,a,d)}};d.error=this._util.wrapError(d.error,g,l,d);d.content=f;c=this.sync(this.isNew()?"create":"update",this,d);!k&&d.wait&&(this.clear(a),this.set(l,
a));return c},destroy:function(a){},setUrl:function(a){this.urlRoot=a;return this},url:function(){var a=this._util.getValue(this,"urlRoot")||this._util.getValue(this.collection,"url");if(!a)throw Error('A "url" property or function must be specified');return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a,c){if(a){var b=(new d(a)).getRoot();if(b)return b._attributes||(b._data?b._data:b)}},clone:function(){return this._util.shallowClone(this)},isNew:function(){return null==
this.id},change:function(a){a||(a={});var c=this._changing;this._changing=!0;for(var d in this._silent)this._pending[d]=!0;var f=b.mixin(b.mixin({},a.changes),this._silent);this._silent={};for(d in f)this.emit("change:"+d,this,this.get(d),a);if(c)return this;for(;!this._util.isEmpty(this._pending);){this._pending={};this.emit("change",this,a);for(d in this.changed)!this._pending[d]&&!this._silent[d]&&delete this.changed[d];this._previousAttributes=this._util.shallowClone(this._attributes)}this._changing=
!1;return this},hasChanged:function(a){return null==a?!this._util.isEmpty(this.changed):this._util.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?this._util.shallowClone(this.changed):!1;var c,b=!1,d=this._previousAttributes,f;for(f in a)if(!this._util.deepIsEqual(d[f],c=a[f]))(b||(b={}))[f]=c;return b},previous:function(a){return null==a||!this._previousAttributes?null:this._previousAttributes[a]},previousAttributes:function(){return this._util.shallowClone(this._previousAttributes)},
isValid:function(){return!this.validate||!this.validate(this._attributes)},_validate:function(a,c){if(c.silent||!this.validate)return!0;a=b.mixin(b.mixin({},this._attributes),a);var d=this.validate(a,c);if(!d)return!0;c&&c.error?c.error(this,d,c):this.emit("error",this,d,c);return!1},getRestrictedValue:function(a){userAccessLevel=redfin.util.login.accessLevel()||1;return f.getRestrictedValue(this,a,userAccessLevel)}})})},"redfin/common/data/SavedSearch":function(){define(["dijit","dojo","dojox","dojo/require!redfin/common/data/DataObject"],
function(h,b,e){b.provide("redfin.common.data.SavedSearch");b.require("redfin.common.data.DataObject");b.declare("redfin.common.data.SavedSearch",redfin.common.data.DataObject,{approximatelyEquals:function(a){for(var c="status minBeds maxBeds minBaths maxBaths minPrice maxPrice minApproxSqFt maxApproxSqFt minLotSqFt maxLotSqFt minPricePerSize maxPricePerSize minYearBuilt maxYearBuilt minDaysOnMarket maxDaysOnMarket showSimilarRecentSales soldWithinDays includeResidential includeCondo onlyWithView onlyNewConstruction onlyOnWaterfront onlyFixer onlyWithOpenHouse onlyWithStatusBitmask regionTypeId regionId includeBankListings includeFsboListings includeMlsNonForeclosureListings includeMlsForeclosureListings includeTownhouse includeMultiFamily includeLand includeOther minParkingSpots maxParkingSpots onlyWithGarage excludeShortSale minDaysSinceLastPriceReduction maxDaysSinceLastPriceReduction fullTextConstraint searchSaleTypes maxHoaDues".split(" "),
b=0;b<c.length;b++){var g=redfin.common.data.MethodGenerator._getFieldNameCapitalized(c[b]),f=this["get"+g](),g=a["get"+g]();if(f!==g)return!1}if(this.getMarket()&&this.getMarket().getId()!==a.getMarket().getId())return!1;c=17-this.getViewZoomLevel();0>c&&(c=0);c=5E-4+7E-5*c*c*c;b=2*c;return!(Math.abs(this.getViewLatitude()-a.getViewLatitude())<=c&&Math.abs(this.getViewLongitude()-a.getViewLongitude())<=b&&this.getViewZoomLevel()==a.getViewZoomLevel())&&(Math.abs(this.getViewport().maxLat-a.getViewport().maxLat)>
c||Math.abs(this.getViewport().maxLong-a.getViewport().maxLong)>b||Math.abs(this.getViewport().minLat-a.getViewport().minLat)>c||Math.abs(this.getViewport().minLong-a.getViewport().minLong)>b)?!1:!0}});b.forEach("id owner searchName status created lastUpdated market minBeds maxBeds minBaths maxBaths minPrice maxPrice minApproxSqFt maxApproxSqFt minLotSqFt maxLotSqFt minPricePerSize maxPricePerSize minYearBuilt maxYearBuilt minDaysOnMarket maxDaysOnMarket soldWithinDays includeResidential includeCondo onlyWithView onlyNewConstruction onlyOnWaterfront onlyFixer showSimilarRecentSales onlyWithOpenHouse onlyWithStatusBitmask viewLatitude viewLongitude viewZoomLevel viewport regionTypeId regionId includeBankListings includeFsboListings includeMlsNonForeclosureListings includeMlsForeclosureListings includeTownhouse includeMultiFamily includeLand includeOther includeSchools minParkingSpots maxParkingSpots onlyWithGarage excludeShortSale minDaysSinceLastPriceReduction maxDaysSinceLastPriceReduction fullTextConstraint createdBy createdVia searchSaleTypes maxHoaDues searchUrl frequency actualFrequency emailFrequency longitude latitude marketName".split(" "),
function(a){redfin.common.data.MethodGenerator.generateMethods(redfin.common.data.SavedSearch,a)})})},"redfin/search/util/NumberUtil":function(){define(["dojo/number","dojo/_base/lang","dojo/i18n!dojo/cldr/nls/number"],function(h,b){var e={_safeFormat:function(a,c){try{if(a)return a.toFixed(c?c:0)}catch(b){console.error("redfin.util.num._safeFormat() error"),console.error(b)}return a},format:function(a,c){try{return a?h.format(a,{places:c?c:0}):a}catch(b){console.error("redfin.util.num.format() error"),
console.error(b)}return this._safeFormat(a,c)},dollars:function(a,c){return!this.isNumeric(a)?a:"$"+this.format(a,c?c:0)},dollarsSmall:function(a,c){return 1E6<=Math.abs(a)?this.dollars(a/1E6,2)+"M":Math.abs(a)>=(void 0!==c?c:1E5)?this.dollars(Math.round(a/1E3),0)+"K":this.dollars(a,0)},percent:function(a,c){return!this.isNumeric(a)?null:this.format(100*a,c?c:1)+"%"},abbreviate:function(a){if(!this.isNumeric(a))return null;var c=a;1E12<=c?(c=this.format(c/1E12,1),c+="T"):1E9<=c?(c/=1E9,c=this.format(c,
1),c+="B"):1E8<=c?(c/=1E6,c=this.format(c,0),c+="M"):1E6<=c?(c/=1E6,c=this.format(c,1),c+="M"):1E5<=a?(c/=1E3,c=this.format(c,1),c+="K"):c=this.format(c,0);return c},isNumeric:function(a){return!isNaN(a+""-0)},avg:function(a){if(0>=a.length)return null;for(var c=0,b=0;b<a.length;++b)c+=a[b];return c/a.length},median:function(a){if(0>=a.length)return 0;a.sort(function(a,c){return a-c});if(0===a.length%2){var c=a.length/2;return(a[c-1]+a[c])/2}return a[Math.floor(a.length/2)]},feetToMiles:function(a){return a/
5280},formatLotSize:function(a,c){var b,g;if(!a||0===a)return"\x26mdash;";10890>a?(b=this.format(a,0),g=c?" SF":" Sq. Ft."):(g=a/43560,b=this.format(g,2),0===b%Math.floor(b)&&(b=Math.floor(b)),g=c?" A":1==g?" Acre":" Acres");return b+g}};b.mixin(b.getObject("redfin.util.num",!0),e);return e})},"redfin/homepage/widgets/HomeInfoCardGrid":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-construct dojo/dom-class dojo/_base/lang dojo/has dojo/on dojo/mouse dojo/dom-geometry dojo/topic redfin/common/elements/HomeInfoCard redfin/common/data/CorgiHome redfin/common/data/CorgiPersonal redfin/common/data/Market redfin/common/data/MlsStatus redfin/common/data/DataSource redfin/common/data/Address redfin/common/data/VisibilityProfile redfin/search/common/RestrictedValueAccessor redfin/search/details/MlsDisclaimer redfin/search/data/mixins/_PropertyCssMixin".split(" "),
function(h,b,e,a,c,d,g,f,k,l,m,p,n,q,r,t,u,w,v,x,s,y){return b("redfin.homepage.widgets.HomeInfoCardGrid",[],{PLACEHOLDER_WIDTH:138,attachNode:null,homeData:null,size:null,placeholder:!0,GAEvent:!1,eventAction:null,enableXOut:!1,_homeCount:0,_ACTIVE:1,_SOLD:4,_PENDING:128,_loadSize:0,_FMLSDisclaimerRequired:!1,_disclaimerDataSource:null,constructor:function(a){d.mixin(this,a)},_getHomeInfoCard:function(a){this._homeCount++;var b=null!=a.getStreetString()?a.getStreetString():"Undisclosed",l=this._processSearchStatus(a.getSearchStatus()),
b=(new p({clickable:!0,showBasicInfo:!0,showOutline:!0,showAddressTooltip:!0,propertyId:a.get("property.id"),GAEvent:this.GAEvent,eventCategory:"Homepage",eventAction:this.eventAction,eventLabel:l,eventValue:this._homeCount,hideOuterSash:!1,homepageExperiment:!0})).setAddress(b,a.getUnit()).setCityState(a.getCitStateZip()).setUrl(a.getUrl()).setAgc(null!=a.get("extra.sharedNotesVisibility")&&a.get("extra.sharedNotesVisibility")<=g_accessLevels.EMAIL_VERIFIED).setPrice(a.getPrice()).setPropertyType(null!=
a.get("listing.propertyType")?a.get("listing.propertyType"):a.get("property.propertyType")).setListingType(a.get("listing.listingType")).setSearchStatus(a.get("listing.searchStatus")).setMlsStatus(a.get("listing.mlsStatus")).setClassFromHome(a).setBeds(a.getBeds()).setBaths(a.getBaths()).setSquareFeet(a.getSqFt()),l=a.get("photosManager.visiblePhotos");0<l.length?b.loadPhotos([l[0]]):b.loadPhotos([]);this.enableXOut&&(l=dojo.create("span",{style:{"margin-bottom":"-15px","float":"right"}},b.highlight,
"first"),c.add(l,"x-out-btn"),c.add(l,"clickable"),f(l,k.enter,d.hitch(this,this._onMouseEnter,l)),f(l,k.leave,d.hitch(this,this._onMouseLeave,l)),f(l,"click",d.hitch(this,this._onClickXOut,b)),c.add(b._address.domNode,"short"));var l=a.getListing(),g=a.get("listing.dataSource"),e=a.getLogoImageFilenameIfRequired();g&&e&&b.setLogo(e,g.getName(),g.getDescription());g&&g.isFMLS()?(this._FMLSDisclaimerRequired=!0,this._disclaimerDataSource=g,b.setSquareFeetAsLink()):(l=x.getRestrictedValue(l,"approxSqFt"),
a.requiresSqftViewLink()?b.setSquareFeetAsLink():b.setSquareFeet(l.valueIfHasAccess()));return b},_addPlaceHolder:function(b){var d=a.create("div");c.add(d,"inline-block");c.add(d,"home_placeholder");c.add(d,"basic-border-radius");a.place(d,b)},_addPlaceHolders:function(a,c){for(var b=l.position(c),b=Math.floor(b.w/this.PLACEHOLDER_WIDTH),b=0==a%b?0:b-a%b,d=0;d<b;d++)this._addPlaceHolder(c)},loadHomeInfoCards:function(){if(this.homeData&&this.attachNode){var a=[];this._loadSize=null!=this.size&&this.size<=
this.homeData.length?this.size:this.homeData.length;for(var b=0;b<this._loadSize;b++){var d=this._getHomeInfoCard(this.homeData[b]);d.placeAt(this.attachNode);a.push(d)}h.forEach(a,function(a){a.startup()});c.remove(this.attachNode,"hidden");this.placeholder&&this._addPlaceHolders(this._loadSize,this.attachNode);this._FMLSDisclaimerRequired&&this._addFMLSDisclaimer()}},_processSearchStatus:function(a){return a==this._ACTIVE?"Active":a==this._SOLD?"Sold":a==this._PENDING?"Pending":"Other"},_onMouseEnter:function(a){c.remove(a,
"x-out-btn");c.add(a,"x-out-btn-hover")},_onMouseLeave:function(a){c.remove(a,"x-out-btn-hover");c.add(a,"x-out-btn")},_onClickXOut:function(c){dojo.global._gaq&&dojo.global._gaq.push(["_trackEvent","Homepage","Recommended_Item_X_Out",null,null]);a.destroy(c.domNode);this._homeCount--;this._loadSize<this.homeData.length&&(c=this._getHomeInfoCard(this.homeData[this._loadSize++]),c.placeAt(this.attachNode),c.startup());0===this._homeCount&&m.publish("emptyGrid")},_addFMLSDisclaimer:function(){var b=
new s({dataSource:this._disclaimerDataSource,showRuler:!1});c.add(b.domNode,"disclaimer");a.place(b.domNode,this.attachNode)}})})},"redfin/common/util/prefetch":function(){define("redfin/common/util/prefetch","dojo/_base/lang dojo/_base/window dojo/_base/array dojo/dom-attr dojo/sniff dojo/query redfin/bouncer/Bouncer".split(" "),function(h,b,e,a,c,d,g){function f(){var c=b.doc.getElementsByTagName("head")[0],f=[];d("link[rel\x3dprefetch]",c).forEach(function(c){var b=a.get(c,"href"),d=a.get(c,"data-type");
c=a.get(c,"data-shim");var l=p.test(b);b&&(l?d="img":m.test(b)&&(d=b.match(m)[1]),c=c?"true"==c.toLowerCase():!0,f.push({href:b,type:d||"js",shim:c}))});return f}function k(a){var b;a=a||l;g.isOn(g_feature.PREFETCH_SHIM)&&(9>=c("ie")?b=n:!c("mobile-enabled")&&5.01>c("safari")&&(b=n),b&&require(["dojo/domReady!"],function(){setTimeout(function(){var a=f();b(a)},a)}))}var l=7E3,m=/\.(\w+)$/,p=/\.(png|gif|jpg|jpeg)$/,n=function(a){var c='\x3c!DOCTYPE\x3e\x3chtml\x3e\x3chead\x3e\x3cscript type\x3d"text/javascript"\x3ewindow.onerror\x3dfunction(){return true;}\x3c/script\x3e';
e.forEach(a,function(a){a.shim&&"css"==a.type&&(c+='\x3clink rel\x3d"stylesheet" href\x3d"'+a.href+'"\x3c/link\x3e')});c+="\x3c/head\x3e\x3cbody\x3e";e.forEach(a,function(a){a.shim&&("img"==a.type?c+='\x3cimg src\x3d"'+a.href+'"\x3e\x3c/img\x3e':"js"==a.type&&(c+='\x3cscript type\x3d"text/javascript" src\x3d"'+a.href+'"\x3e\x3c/script\x3e'))});c+="\x3c/body\x3e\x3c/html\x3e";a=document.createElement("iframe");a.style.width=0;a.style.height=0;a.style.border="none";a.setAttribute("src","data:text/html,"+
encodeURIComponent(c));document.body.appendChild(a)};h.getObject("redfin.util",!0).prefetchURLs=k;return{shim:k,prefetches:f,iframeShim:n,imageShim:function(a){e.forEach(a,function(a){a.href&&a.shim&&((new Image).src=a.href)})}}})},"dojo/request/script":function(){define("module ./watch ./util ../_base/array ../_base/lang ../on ../dom ../dom-construct ../has ../_base/window".split(" "),function(h,b,e,a,c,d,g,f,k,l){function m(a,c){a.canDelete&&t._remove(a.id,c.options.frameDoc,!0)}function p(c){y&&
y.length&&(a.forEach(y,function(a){t._remove(a.id,a.frameDoc);a.frameDoc=null}),y=[]);return c.options.jsonp?!c.data:!0}function n(a){return!!this.scriptLoaded}function q(a){return(a=a.options.checkString)&&eval("typeof("+a+') !\x3d\x3d "undefined"')}function r(a,c){if(this.canDelete){var b=this.response.options;y.push({id:this.id,frameDoc:b.ioArgs?b.ioArgs.frameDoc:b.frameDoc});b.ioArgs&&(b.ioArgs.frameDoc=null);b.frameDoc=null}c?this.reject(c):this.resolve(a)}function t(a,f,l){var k=e.parseArgs(a,
e.deepCopy({},f));a=k.url;f=k.options;var g=e.deferred(k,m,p,f.jsonp?null:f.checkString?q:n,r);c.mixin(g,{id:u+w++,canDelete:!1});if(f.jsonp){if(-1===a.indexOf(f.jsonp)){var h=(~a.indexOf("?")?"\x26":"?")+f.jsonp+"\x3d";-1===a.indexOf(h)&&(a+=h+(f.frameDoc?"parent.":"")+u+"_callbacks."+g.id)}g.canDelete=!0;s[g.id]=function(a){k.data=a;g.handleResponse(k)}}e.notify&&e.notify.emit("send",k,g.promise.cancel);if(!f.canAttach||f.canAttach(g)){var y=t._attach(g.id,a,f.frameDoc);if(!f.jsonp&&!f.checkString)var D=
d(y,v,function(a){if("load"===a.type||x.test(y.readyState))D.remove(),g.scriptLoaded=a})}b(g);return l?g:g.promise}k.add("script-readystatechange",function(a,c){return"undefined"!==typeof c.createElement("script").onreadystatechange&&("undefined"===typeof a.opera||"[object Opera]"!==a.opera.toString())});var u=h.id.replace(/[\/\.\-]/g,"_"),w=0,v=k("script-readystatechange")?"readystatechange":"load",x=/complete|loaded/,s=this[u+"_callbacks"]={},y=[];t.get=t;t._attach=function(a,c,b){b=b||l.doc;var d=
b.createElement("script");d.type="text/javascript";d.src=c;d.id=a;d.async=!0;d.charset="utf-8";return b.getElementsByTagName("head")[0].appendChild(d)};t._remove=function(a,c,b){f.destroy(g.byId(a,c));s[a]&&(b?s[a]=function(){delete s[a]}:delete s[a])};t._callbacksProperty=u+"_callbacks";return t})},"redfin/common/CurrentUserInfo":function(){define(["dijit","dojo","dojox"],function(h,b,e){b.provide("redfin.common.CurrentUserInfo");if(b)if(h=function(a,b){try{a&&0==a.resultCode?currentUserInfoAvailable.callback(a.payload):
currentUserInfoAvailable.callback({})}catch(g){}},e=function(a,b){try{currentUserInfoAvailable.callback({})}catch(g){}},currentUserInfoAvailable=new b.Deferred,redfin.MultiGet)redfin.MultiGet.add({batch:redfin.MultiGet.BATCH_PERSONALIZATION,url:"/stingray/do/api-get-current-user-info",load:h,error:e});else{var a="/stingray/do/api-get-current-user-info";"undefined"!==typeof g_webServerUrl&&(a=g_webServerUrl+a);b.xhrGet({url:a,load:h,error:e,handleAs:"json"})}})},"url:dijit/templates/Tooltip.html":'\x3cdiv class\x3d"dijitTooltip dijitTooltipLeft" id\x3d"dojoTooltip"\n\t\x3e\x3cdiv class\x3d"dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point\x3d"containerNode" role\x3d\'alert\'\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitTooltipConnector" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"redfin/header/NumberBubble":function(){define("redfin/header/NumberBubble",["dijit","dojo","dojox","dojo/require!dijit/_Widget,dijit/_TemplatedMixin"],function(h,b,e){b.provide("redfin.header.NumberBubble");b.require("dijit._Widget");b.require("dijit._TemplatedMixin");b.declare("redfin.header.NumberBubble",[h._Widget,h._TemplatedMixin],{number:null,style:null,widgetsInTemplate:!1,templateString:b.cache("redfin.header","templates/NumberBubble.html",'\x3cspan class\x3d"NumberBubble" style\x3d"${style}"\n\t\x3e\x3cspan class\x3d"sprt NumberBubble cap left"\t\x3e\x26nbsp;\x3c/span\n\t\x3e\x3cspan class\x3d"count"\t\t\t\t\t\t\x3e${number}\x3c/span\n\t\x3e\x3cspan class\x3d"sprt NumberBubble cap right"\t\x3e\x26nbsp;\x3c/span\n\x3e\x3c/span\x3e\n'),
fadeOut:function(){b.fadeOut({node:this.domNode}).play()}})})},"redfin/search/map/topics":function(){define(["dojo/_base/lang"],function(h){var b={DISAMBIGUATION:"map:disambiguation"};h.mixin(b,{TOPIC_FAVORITE_STATE_CHANGE:"favorite_state",TOPIC_CLAIM_STATE_CHANGE:"claim_state",TOPIC_POSTCARD_SUBSCRIPTION_STATE_CHANGE:"postcard_subscribe_state",TOPIC_HOME_STATE:"home_state",TOPIC_REGION_STATE:"region_state",TOPIC_REGION_DISPLAY:"region_display",TOPIC_HOME_VIEWED_STATE:"home_viewed_state",TOPIC_SEARCH_STARTED:"search_started",
TOPIC_PARCELS_AVAILABLE:"parcels_available",TOPIC_SCHOOLS_AVAILABLE:"schools_available",TOPIC_RIGHT_LEFT_KEY:"right_left_key",TOPIC_PROGRESS_BAR:"progress_bar",TOPIC_MAP_LIST_DONE:"map_list_done",TOPIC_FAVORITE_STATUS_CHANGED:"favorite_status_changed",TOPIC_DEBUG_TIMER:"debug_timer",TOPIC_SIDEPANE_HEIGHT_CHANGED:"sidepane_height_changed",TOPIC_SIDEPANE_HIDDEN:"sidepane_hidden",TOPIC_SIDEPANE_HOME_CHANGED:"sidepane_home_changed",TOPIC_ON_HIDE_SAVE_SEARCH_TOOLTIP:"on_hide_save_search_tooltip"});return b})},
"dijit/form/MappedTextBox":function(){define("dijit/form/MappedTextBox",["dojo/_base/declare","dojo/dom-construct","./ValidationTextBox"],function(h,b,e){return h("dijit.form.MappedTextBox",e,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting=""},_setNameAttr:null,serialize:function(a){return a.toString?a.toString():""},toString:function(){var a=this.filter(this.get("value"));return null!=a?"string"==typeof a?a:this.serialize(a,this.constraints):""},validate:function(){this.valueNode.value=
this.toString();return this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.valueNode=b.place("\x3cinput type\x3d'hidden'"+(this.name?' name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"")+"/\x3e",this.textbox,"after")},reset:function(){this.valueNode.value="";this.inherited(arguments)}})})},"redfin/common/mixins/_Hoverable":function(){define(["dijit","dojo","dojox"],function(h,b,e){b.provide("redfin.common.mixins._Hoverable");b.declare("redfin.common.mixins._Hoverable",
[],{_onMouseEnterHandle:null,_onMouseLeaveHandle:null,buildRendering:function(){this.inherited(arguments);this._attachHoverableEvents()},_attachHoverableEvents:function(){this.inherited(arguments);this._onMouseEnterHandle=this.connect(this.domNode,"onmouseenter",this._onMouseEnter);this._onMouseLeaveHandle=this.connect(this.domNode,"onmouseleave",this._onMouseLeave)},_detachHoverableEvents:function(){this.inherited(arguments);this.disconnect(this._onMouseEnterHandle);this.disconnect(this._onMouseLeaveHandle)},
_onMouseEnter:function(a){this.inherited(arguments);b.addClass(this.domNode,"hover");this.onMouseEnter(a)},_onMouseLeave:function(a){this.inherited(arguments);b.removeClass(this.domNode,"hover");this.onMouseLeave(a)},onMouseEnter:function(){},onMouseLeave:function(){}})})},"redfin/search/common/_Spinner":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/dom","dojo/dom-geometry","redfin/common/external/Spinner"],function(h,b,e,a,c){return b("redfin.search.common._Spinner",null,{spinner:null,
singleSpinner:function(a,c){this.spinner||(this.spinner=this.createSpinner(a,c));return this.spinner},_calculateBoxParams:function(c){if(c=e.byId(c)){c=a.getContentBox(c);var b=Math.ceil(0.15*Math.min(c.h,c.w));c=(Math.min(c.h,c.w)-b)/2;var b=2*Math.PI*(c/2),f=Math.ceil(0.04*b);return{length:Math.floor(0.4*c),radius:Math.floor(0.6*c),width:f,lines:Math.floor(b/(1.8*f))}}return{}},createSpinner:function(a,b){if(h.isFunction(redfin.utils.isPhantom)&&redfin.utils.isPhantom())return{spin:function(){},
start:function(){},stop:function(){}};var f=this._calculateBoxParams(b);return new c(h.mixin(f,a))}})})},"redfin/bouncer/Bouncer":function(){define(["dojo/_base/lang","dojo/_base/window"],function(h,b){var e=b.global.g_bouncerData||{},a={isOn:function(a){return"undefined"!==typeof this.getVariant(a)},getVariant:function(a){try{return e[a&&a.id?a.id:a]}catch(b){console.error("Bouncer failed for feature ["+a+"]",b)}return{}.x},setBouncerData:function(a){e=a}};h.setObject("redfin.bouncer.Bouncer",a);
b.global.g_bouncer=function(){return a};return a})},"dojo/dnd/Moveable":function(){define("../_base/array ../_base/declare ../_base/event ../_base/lang ../dom ../dom-class ../Evented ../on ../topic ../touch ./common ./Mover ../_base/window".split(" "),function(h,b,e,a,c,d,g,f,k,l,m,p,n){return b("dojo.dnd.Moveable",[g],{handle:"",delay:0,skip:!1,constructor:function(b,d){this.node=c.byId(b);d||(d={});this.handle=d.handle?c.byId(d.handle):null;this.handle||(this.handle=this.node);this.delay=0<d.delay?
d.delay:0;this.skip=d.skip;this.mover=d.mover?d.mover:p;this.events=[f(this.handle,l.press,a.hitch(this,"onMouseDown")),f(this.handle,"dragstart",a.hitch(this,"onSelectStart")),f(this.handle,"selectstart",a.hitch(this,"onSelectStart"))]},markupFactory:function(a,c,b){return new b(c,a)},destroy:function(){h.forEach(this.events,function(a){a.remove()});this.events=this.node=this.handle=null},onMouseDown:function(c){if(!this.skip||!m.isFormElement(c)){if(this.delay)this.events.push(f(this.handle,l.move,
a.hitch(this,"onMouseMove")),f(this.handle,l.release,a.hitch(this,"onMouseUp"))),this._lastX=c.pageX,this._lastY=c.pageY;else this.onDragDetected(c);e.stop(c)}},onMouseMove:function(a){if(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>this.delay)this.onMouseUp(a),this.onDragDetected(a);e.stop(a)},onMouseUp:function(a){for(var c=0;2>c;++c)this.events.pop().remove();e.stop(a)},onSelectStart:function(a){(!this.skip||!m.isFormElement(a))&&e.stop(a)},onDragDetected:function(a){new this.mover(this.node,
a,this)},onMoveStart:function(a){k.publish("/dnd/move/start",a);d.add(n.body(),"dojoMove");d.add(this.node,"dojoMoveItem")},onMoveStop:function(a){k.publish("/dnd/move/stop",a);d.remove(n.body(),"dojoMove");d.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},onMove:function(a,c){this.onMoving(a,c);var b=a.node.style;b.left=c.l+"px";b.top=c.t+"px";this.onMoved(a,c)},onMoving:function(){},onMoved:function(){}})})},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang",
"../../_base/Deferred"],function(h,b,e){var a=function(c){function d(b){c[b]||(c[b]=function(){var d=arguments;return e.when(c,function(c){Array.prototype.unshift.call(d,c);return a(h[b].apply(h,d))})})}if(!c)return c;c.then&&(c=b.delegate(c));d("forEach");d("filter");d("map");c.total||(c.total=e.when(c,function(a){return a.length}));return c};b.setObject("dojo.store.util.QueryResults",a);return a})},"redfin/search/common/dialogs/FixedDialog":function(){define("redfin/search/common/dialogs/FixedDialog",
"dojo/_base/declare dojo/_base/lang dojo/_base/array redfin/common/elements/Dialog ./OldFixedDialog redfin/bouncer/Bouncer".split(" "),function(h,b,e,a,c,d){return!d.isOn(g_feature.COMMON_DIALOGS)?h("redfin.search.common.dialogs.FixedDialog",[c],{}):h("redfin.search.common.dialogs.FixedDialog",[a],{destroyOnHide:!1,autofocus:!1,closable:!1,hideTitleBar:!1,_setDialogContentAttr:function(a){this.set("content",a)},constructor:function(a,c){"undefined"!==typeof a&&"undefined"!==typeof a.hideTitleBar&&
(a.showHeader=!a.hideTitleBar,delete a.hideTitleBar);"undefined"!==typeof a&&"undefined"!==typeof a.closable?a.showCloseButton=a.closable:this.showCloseButton=!1}})})},"dijit/form/CheckBox":function(){require({cache:{"url:dijit/form/templates/CheckBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cinput\n\t \t${!nameAttrSetting} type\x3d"${type}" ${checkedAttrSetting}\n\t\tclass\x3d"dijitReset dijitCheckBoxInput"\n\t\tdata-dojo-attach-point\x3d"focusNode"\n\t \tdata-dojo-attach-event\x3d"onclick:_onClick"\n/\x3e\x3c/div\x3e\n'}});
define("dijit/form/CheckBox","require dojo/_base/declare dojo/dom-attr dojo/has dojo/query dojo/ready ./ToggleButton ./_CheckBoxMixin dojo/text!./templates/CheckBox.html dojo/NodeList-dom".split(" "),function(h,b,e,a,c,d,g,f,k){a("dijit-legacy-requires")&&d(0,function(){h(["dijit/form/RadioButton"])});return b("dijit.form.CheckBox",[g,f],{templateString:k,baseClass:"dijitCheckBox",_setValueAttr:function(a,c){"string"==typeof a&&(this.inherited(arguments),a=!0);this._created&&this.set("checked",a,
c)},_getValueAttr:function(){return this.checked?this.value:!1},_setIconClassAttr:null,postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting=this.checked?"checked":""},_fillContent:function(){},_onFocus:function(){this.id&&c("label[for\x3d'"+this.id+"']").addClass("dijitFocusedLabel");this.inherited(arguments)},_onBlur:function(){this.id&&c("label[for\x3d'"+this.id+"']").removeClass("dijitFocusedLabel");this.inherited(arguments)}})})},"dijit/nls/common":function(){define("dijit/nls/common",
{root:{buttonOk:"OK",buttonCancel:"Cancel",buttonSave:"Save",itemClose:"Close"},zh:!0,"zh-tw":!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,hu:!0,hr:!0,he:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,cs:!0,ca:!0,az:!0,ar:!0})},"url:redfin/search/details/templates/ImageCard.html":'\x3cdiv class\x3d"image-card-window"\x3e\t\t\t\t\n\t\x3cdiv style\x3d"position:relative;overflow: hidden;" class\x3d"image-card" data-dojo-attach-point\x3d"viewPort"\x3e\n\t\t\x3ca target\x3d"_top" data-dojo-attach-point\x3d"linkNode"\x3e\x3cimg class\x3d"not-loaded" style\x3d"position:absolute;" alt\x3d"${imageAlt}" title\x3d"${imageTitle}" data-dojo-attach-point\x3d"imgNode"\x3e\x3c/a\x3e\n\t\x3c/div\x3e\t\n\x3c/div\x3e',
"dijit/form/Textarea":function(){define("dijit/form/Textarea",["dojo/_base/declare","dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],function(h,b,e,a){return h("dijit.form.Textarea",[a,e],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);b.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"})}})})},"redfin/common/widgets/contactBox/ResetPreferredAgentHelper":function(){define(["dijit",
"dojo","dojox","dojo/require!redfin/search/user_preferences,redfin/tours/tour_util"],function(h,b,e){b.provide("redfin.common.widgets.contactBox.ResetPreferredAgentHelper");b.require("redfin.search.user_preferences");b.require("redfin.tours.tour_util");redfin.common.widgets.contactBox.ResetPreferredAgentHelper.executingReset=!1;redfin.common.widgets.contactBox.ResetPreferredAgentHelper.updateResetPreferredAgentCookie=function(){redfin.ui.UserPreferences.getAgentReset()&&redfin.ui.UserPreferences.deleteAgentReset()};
redfin.common.widgets.contactBox.ResetPreferredAgentHelper.setupResetPreferredAgent=function(){redfin.ui.UserPreferences.getAgentReset()&&(redfin.common.widgets.contactBox.ResetPreferredAgentHelper.executingReset=!0,redfin.common.widgets.contactBox.ResetPreferredAgentHelper.showPendingResetMessage())};redfin.common.widgets.contactBox.ResetPreferredAgentHelper.resetLinkShownEventFired=!1;redfin.common.widgets.contactBox.ResetPreferredAgentHelper.animatingResetPreferredAgent=!1;redfin.common.widgets.contactBox.ResetPreferredAgentHelper.resetPreferredAgentLinkLoaded=
!1;redfin.common.widgets.contactBox.ResetPreferredAgentHelper.showResetPreferredAgent=function(){var a=b.byId("contact-box-reset-preferred-agent-outer"),c=b.byId("contact-box-reset-preferred-agent-inner");a&&(c&&0==b.style(a,"height")&&!redfin.common.widgets.contactBox.ResetPreferredAgentHelper.animatingResetPreferredAgent)&&b.animateProperty({node:a,duration:500,properties:{height:{start:"0",end:b.marginBox(c).h,units:"px"}},onBegin:function(){redfin.common.widgets.contactBox.ResetPreferredAgentHelper.animatingResetPreferredAgent=
!0},onEnd:function(){redfin.common.widgets.contactBox.ResetPreferredAgentHelper.animatingResetPreferredAgent=!1}}).play()};redfin.common.widgets.contactBox.ResetPreferredAgentHelper.hideResetPreferredAgent=function(a,c){if(!redfin.common.widgets.contactBox.ResetPreferredAgentHelper.executingReset&&redfin.common.widgets.contactBox.ResetPreferredAgentHelper.shouldHideResetPreferredAgent(a,c)){a||(a=window.event);var d=b.byId("contact-box-reset-preferred-agent-outer"),g=b.byId("contact-box-reset-preferred-agent-inner");
d&&(g&&0!==b.style(d,"height")&&!redfin.common.widgets.contactBox.ResetPreferredAgentHelper.animatingResetPreferredAgent)&&b.animateProperty({node:d,duration:500,properties:{height:{start:b.marginBox(g).h,end:"0",units:"px"}},onBegin:function(){redfin.common.widgets.contactBox.ResetPreferredAgentHelper.animatingResetPreferredAgent=!0},onEnd:function(){redfin.common.widgets.contactBox.ResetPreferredAgentHelper.animatingResetPreferredAgent=!1}}).play()}};redfin.common.widgets.contactBox.ResetPreferredAgentHelper.shouldHideResetPreferredAgent=
function(a,c){var b=a.relatedTarget||a.toElement;return b&&0>c.indexOf(b.innerHTML)?!0:!1};redfin.common.widgets.contactBox.ResetPreferredAgentHelper.resetPreferredAgent=function(){redfin.common.widgets.contactBox.ResetPreferredAgentHelper.executingReset=!0;var a=b.byId("contact-box-reset-preferred-agent-spinner"),c=b.byId("contact-box-reset-preferred-agent-inner");a&&c&&(b.style(c,"display","none"),b.style(a,"display","inline-block"),b.xhrPost({url:"/stingray/do/resetPreferredAgent",load:b.hitch(this,
redfin.common.widgets.contactBox.ResetPreferredAgentHelper.resetPreferredAgentSuccess),error:b.hitch(this,redfin.common.widgets.contactBox.ResetPreferredAgentHelper.resetPreferredAgentError),timeout:6E4,handleAs:"json"}))};redfin.common.widgets.contactBox.ResetPreferredAgentHelper.showPendingResetMessage=function(){var a=b.byId("contact-box-reset-preferred-agent-spinner"),c=b.byId("contact-box-post-reset-preferred-agent-message"),d=b.byId("contact-box-reset-preferred-agent-outer"),g=b.byId("contact-box-reset-preferred-agent-inner");
a&&b.style(a,"display","none");g&&b.style(g,"display","none");c&&(b.style(c,"display",""),d&&b.animateProperty({node:d,duration:500,properties:{height:{start:b.marginBox(d).h,end:b.marginBox(c).h,units:"px"}}}).play())};redfin.common.widgets.contactBox.ResetPreferredAgentHelper.resetPreferredAgentSuccess=function(){redfin.ui.UserPreferences.setAgentReset(!0);redfin.common.widgets.contactBox.ResetPreferredAgentHelper.executingReset=!1;b.publish("onContactBoxResetPreferredAgent",[!0])};redfin.common.widgets.contactBox.ResetPreferredAgentHelper.resetPreferredAgentError=
function(){redfin.common.widgets.contactBox.ResetPreferredAgentHelper.executingReset=!1;var a=b.byId("contact-box-reset-preferred-agent-spinner"),c=b.byId("contact-box-reset-preferred-agent-inner");a&&c&&(b.style(a,"display","none"),b.style(c,"display","inline"))}})},"dijit/form/DropDownButton":function(){require({cache:{"url:dijit/form/templates/DropDownButton.html":'\x3cspan class\x3d"dijit dijitReset dijitInline"\n\t\x3e\x3cspan class\x3d\'dijitReset dijitInline dijitButtonNode\'\n\t\tdata-dojo-attach-event\x3d"ondijitclick:_onClick" data-dojo-attach-point\x3d"_buttonNode"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"focusNode,titleNode,_arrowWrapperNode"\n\t\t\trole\x3d"button" aria-haspopup\x3d"true" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon"\n\t\t\t\tdata-dojo-attach-point\x3d"iconNode"\n\t\t\t\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode,_popupStateNode"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonInner"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonChar"\x3e\x26#9660;\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen" tabIndex\x3d"-1"\n\t\tdata-dojo-attach-point\x3d"valueNode"\n/\x3e\x3c/span\x3e\n'}});
define("dijit/form/DropDownButton","dojo/_base/declare dojo/_base/lang dojo/query ../registry ../popup ./Button ../_Container ../_HasDropDown dojo/text!./templates/DropDownButton.html".split(" "),function(h,b,e,a,c,d,g,f,k){return h("dijit.form.DropDownButton",[d,g,f],{baseClass:"dijitDropDownButton",templateString:k,_fillContent:function(){if(this.srcNodeRef){var a=e("*",this.srcNodeRef);this.inherited(arguments,[a[0]]);this.dropDownContainer=this.srcNodeRef}},startup:function(){if(!this._started){if(!this.dropDown&&
this.dropDownContainer){var b=e("[widgetId]",this.dropDownContainer)[0];this.dropDown=a.byNode(b);delete this.dropDownContainer}this.dropDown&&c.hide(this.dropDown);this.inherited(arguments)}},isLoaded:function(){var a=this.dropDown;return!!a&&(!a.href||a.isLoaded)},loadDropDown:function(a){var c=this.dropDown,d=c.on("load",b.hitch(this,function(){d.remove();a()}));c.refresh()},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown}})})},"redfin/common/widgets/ContactBox":function(){require({cache:{"url:redfin/common/widgets/templates/ContactBox.html":'\x3cdiv class\x3d"contactBox" dojoAttachPoint\x3d"box"\x3e\n\x3c/div\x3e\n'}});
define("redfin/common/widgets/ContactBox","dojo dojo/topic dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/text!redfin/common/widgets/templates/ContactBox.html dijit/_Widget dijit/_TemplatedMixin redfin/common/mixins/_Adopt redfin/common/widgets/contactBox/ContactBoxHTML redfin/common/widgets/contactBox/ContactBoxButton redfin/common/widgets/contactBox/ContactBoxNavigation redfin/common/widgets/contactBox/ContactBoxMultiWindow redfin/common/widgets/contactBox/ContactBoxCall redfin/common/widgets/contactBox/ContactBoxQuestionForm redfin/common/widgets/contactBox/ContactBoxOutOfAreaForm redfin/common/widgets/contactBox/ContactBoxComponentMixin redfin/search/data/ExtendedAgent dojox/timing redfin/bouncer/Bouncer dojo/has".split(" "),
function(h,b,e,a,c,d,g,f,k,l,m,p,n,q,r,t,u,w,v,x,s){var y=e("redfin.common.widgets.ContactBox",[g,f,k,u],{templateString:d,rotateAgentsOnLoad:!1,components:[],postCreate:function(){this.gaEventMap||(this.gaEventMap={},this._trackEvent("Display",this.gaCategory,this.gaLabel),h.xhrGet({url:"/stingray/clicktracker.jsp?category\x3dredfin.core.mvc\x26action\x3dagentChoiceLoaded\x26"+this.virtualPageViewQueryParams+"\x26agentChoiceOrder\x3d"+this.agentOrderString,sync:!1}),this.gaEventMap.display=!0);this.classes&&
this.classes instanceof Array&&a.forEach(this.classes,c.hitch(this,function(a){h.addClass(this.box,a)}));this.showingNewPhotography&&(h.addClass(this.box,"contactBoxNewPhotography"),"Classic:SDP Main"==this.gaCategory&&h.addClass(this.box,"soldContactBox"));if(isSlideShowExperimentTurnedOn=!s("mobile-enabled")&&this.gaCategory&&"Classic:LDP Main"==this.gaCategory&&(x.isOn(g_feature.CONTACT_BOX_AGENT_SLIDE_SHOW_AB_TEST)||x.isOn(g_feature.CONTACT_BOX_AGENT_SLIDE_SHOW_AB_TEST_GCE)))if(shouldRotateAgentsOnLoad=
this.experimentController&&"Rotating_Contact_Box"==this.experimentController.getVariant()||this.gceExperimentVariation&&"1"==this.gceExperimentVariation)this.rotateAgentsOnLoad=this.isRotateAgentsInAgentChoice&&this.hasMultiWindow();(propagateExperimentController=!s("mobile-enabled")&&this.gaCategory&&"Classic:LDP Main"==this.gaCategory&&(x.isOn(g_feature.CONTACT_BOX_AGENT_SLIDE_SHOW_AB_TEST)||x.isOn(g_feature.CONTACT_BOX_HEADER_MINIMIZATION_AGENT_INTRO_EXPERIMENT))&&this.experimentController)&&a.forEach(this.components,
c.hitch(this,function(b){b.experimentController=this.experimentController;b.type==g_contactBoxComponentType.MULTI_WINDOW&&a.forEach(b.views,c.hitch(this,function(a){a.experimentController=this.experimentController}))}));(propagateGceExperimentVariation=!s("mobile-enabled")&&this.gaCategory&&"Classic:LDP Main"==this.gaCategory&&(x.isOn(g_feature.CONTACT_BOX_AGENT_SLIDE_SHOW_AB_TEST_GCE)||x.isOn(g_feature.CONTACT_BOX_HEADER_MINIMIZATION_AGENT_INTRO_EXPERIMENT_GCE))&&this.gceExperimentVariation)&&a.forEach(this.components,
c.hitch(this,function(b){b.gceExperimentVariation=this.gceExperimentVariation;b.type==g_contactBoxComponentType.MULTI_WINDOW&&a.forEach(b.views,c.hitch(this,function(a){a.gceExperimentVariation=this.gceExperimentVariation}))}));this.multiWindows=[];this.buildMultiBoxComponents();setTimeout(c.hitch(this,function(){b.publish("onContactBoxRendered")}),10);b.subscribe("moveToAgent",c.hitch(this,function(a){for(var c=1;c<a;c++)this.onRightNav()}));this.rotateAgentsOnLoad&&(redfin.ui.UserPreferences.getStopLdpContactBoxAgentSlideShow()?
redfin.ui.UserPreferences.setStopLdpContactBoxAgentSlideShow(!1):this.startAgentSlideShow())},buildMultiBoxComponents:function(){if(this.components&&0<this.components.length&&(this.componentWidgets=[],this.rotateAgentsOnLoad&&this.initTimer(),a.forEach(this.components,c.hitch(this,function(a){var b=null;switch(a.type){case g_contactBoxComponentType.BUTTON:b=this.adopt(m,{data:a,viewport:this.viewport,gaEventMap:this.gaEventMap});b.placeAt(this.box);break;case g_contactBoxComponentType.HTML:b=this.adopt(l,
{data:a,gaEventMap:this.gaEventMap});b.placeAt(this.box);break;case g_contactBoxComponentType.CALL:b=this.adopt(q,{data:a,gaEventMap:this.gaEventMap});b.placeAt(this.box);break;case g_contactBoxComponentType.QUESTION_FORM:b=this.adopt(r,{data:a,gaEventMap:this.gaEventMap});b.placeAt(this.box);break;case g_contactBoxComponentType.OUT_OF_AREA_FORM:b=this.adopt(t,{data:a,gaEventMap:this.gaEventMap});b.placeAt(this.box);break;case g_contactBoxComponentType.NAVIGATION:b=this.adopt(p,{data:a,gaEventMap:this.gaEventMap,
onLeftNav:c.hitch(this,this.onLeftNav),onRightNav:c.hitch(this,this.onRightNav)});b.placeAt(this.box);break;case g_contactBoxComponentType.MULTI_WINDOW:b=this.adopt(n,{data:a,gaEventMap:this.gaEventMap,ContactBox:y}),b.placeAt(this.box),this.multiWindows.push(b)}this.rotateAgentsOnLoad&&this.wireComponentForAgentSlideShow(b,a.type);b&&this.componentWidgets.push(b)})),this.rotateAgentsOnLoad))for(var b=0;b<this.multiWindows.length;b++)a.forEach(this.multiWindows[b].contactBoxes,c.hitch(this,function(b){a.forEach(b.componentWidgets,
c.hitch(this,function(a){this.wireComponentForAgentSlideShow(a,a.data.type)}))}))},onLeftNav:function(){for(var a=0;a<this.multiWindows.length;a++)this.multiWindows[a].onLeftNav()},onRightNav:function(){for(var a=0;a<this.multiWindows.length;a++)this.multiWindows[a].onRightNav()},onDisplay:function(){this.displayAction&&!this.gaEventMap[this.displayAction]&&(this.gaEventMap[this.displayAction]=!0,this._trackEvent(this.displayAction,this.gaCategory,this.gaLabel));a.forEach(this.componentWidgets,function(a){a.onDisplay()})},
onHide:function(){a.forEach(this.componentWidgets,function(a){a.onHide()})},startAgentSlideShow:function(){this.timer.start()},stopAgentSlideShow:function(){this.timer.isRunning?this.timer.stop():this.rotateToFirstTimer&&this.rotateToFirstTimer.isRunning&&this.rotateToFirstTimer.stop()},wireComponentForAgentSlideShow:function(a,b){if(this.rotateAgentsOnLoad)switch(b){case g_contactBoxComponentType.BUTTON:this.connect(a.buttonNode,"onclick",c.hitch(this,this.stopAgentSlideShow));break;case g_contactBoxComponentType.HTML:this.connect(a.content,
"onclick",c.hitch(this,this.stopAgentSlideShow));break;case g_contactBoxComponentType.CALL:this.connect(a.content,"onclick",c.hitch(this,this.stopAgentSlideShow));break;case g_contactBoxComponentType.QUESTION_FORM:this.connect(a.content,"onclick",c.hitch(this,this.stopAgentSlideShow));break;case g_contactBoxComponentType.OUT_OF_AREA_FORM:this.connect(a.content,"onclick",c.hitch(this,this.stopAgentSlideShow));break;case g_contactBoxComponentType.NAVIGATION:this.connect(a.leftNav,"onclick",c.hitch(this,
this.stopAgentSlideShow)),this.connect(a.rightNav,"onclick",c.hitch(this,this.stopAgentSlideShow))}},initTimer:function(){if(!this.timer){this.timer=new v.Timer(4E3);var a=this;this.timer.onTick=function(){a.onRightNav();if(a.multiWindows[0].currentView==a.multiWindows[0].numViews){a.stopAgentSlideShow();var b=new v.Timer(4E3);a.rotateToFirstTimer=b;b.onTick=function(){a.onRightNav();b.stop()};b.start()}}}},hasMultiWindow:function(){var b=!1;a.forEach(this.components,c.hitch(this,function(a){a.type==
g_contactBoxComponentType.MULTI_WINDOW&&(b=!0)}));return b}});return y})},"url:redfin/common/widgets/contactBox/templates/ContactBoxOutOfAreaForm.html":'\x3cdiv class\x3d"contactBoxOutOfAreaForm" dojoAttachPoint\x3d"content"\x3e\n\t\x3ch3\x3eHow Do I See This Home?\x3c/h3\x3e\n\t\x3cdiv class\x3d"content"\x3e\n\t\t\x3cp dojoAttachPoint\x3d"outOfAreaMessageText"\x3eSorry, Redfin\'s agents and partners don\'t yet serve this area. Should we email you when we have agents here?\x3c/p\x3e\n\t\t\x3cform dojoAttachPoint\x3d"outOfAreaForm" method\x3d"POST"\x3e\n\t\t\t\x3cinput type\x3d"hidden" name\x3d"outOfAreaZipCode" dojoAttachPoint\x3d\'outOfAreaZipCode\' /\x3e\n\t\t\t\x3cdiv name\x3d"outOfAreaEmail" dojoAttachPoint\x3d"emailField" dojoType\x3d"redfin.common.elements.form.Text" label\x3d"Email:"\x3e\x3c/div\x3e\n\t\t\x3c/form\x3e\n\t\t\x3cdiv dojoAttachPoint\x3d"emailMeButton" class\x3d"Button basic-border-radius clickable primary small emailMeButton"\x3eEmail Me\x3c/div\x3e\t\t\n\t\t\x3cbr /\x3e\n\t\t\x3cp\x3e\x3ca href\x3d\'/out-of-area-signup\' target\x3d\'_top\'\x3eSee Where Redfin Has Agents\x3c/a\x3e\x3c/p\x3e\n\t\t\x3cp\x3e\x3ca href\x3d\'/buy-a-home/redfin-partner-agent-info\' target\x3d\'_top\'\x3eI\'d Like to Be a Partner Agent Here\x3c/a\x3e\x3c/p\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(h,b){var e={};b.setObject("dojo.regexp",e);e.escapeString=function(a,b){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(a){return b&&-1!=b.indexOf(a)?a:"\\"+a})};e.buildGroupRE=function(a,b,d){if(!(a instanceof Array))return b(a);for(var g=[],f=0;f<a.length;f++)g.push(b(a[f]));return e.group(g.join("|"),d)};e.group=function(a,b){return"("+(b?"?:":"")+a+")"};return e})},"dojo/io/script":function(){define("../_base/connect ../_base/kernel ../_base/lang ../sniff ../_base/window ../_base/xhr ../dom ../dom-construct ../request/script".split(" "),
function(h,b,e,a,c,d,g,f,k){b.deprecated("dojo/io/script","Use dojo/request/script.","2.0");var l={get:function(a){var b,c=this._makeScriptDeferred(a,function(a){b&&b.cancel()}),f=c.ioArgs;d._ioAddQueryToUrl(f);d._ioNotifyStart(c);b=k.get(f.url,{timeout:a.timeout,jsonp:f.jsonp,checkString:a.checkString,ioArgs:f,frameDoc:a.frameDoc,canAttach:function(a){f.requestId=a.id;f.scriptId=a.scriptId;f.canDelete=a.canDelete;return l._canAttach(f)}},!0);b.then(function(){c.resolve(c)}).otherwise(function(a){c.ioArgs.error=
a;c.reject(a)});return c},attach:k._attach,remove:k._remove,_makeScriptDeferred:function(a,c){var f=d._ioSetArgs(a,c||this._deferredCancel,this._deferredOk,this._deferredError),l=f.ioArgs;l.id=b._scopeName+"IoScript"+this._counter++;l.canDelete=!1;l.jsonp=a.callbackParamName||a.jsonp;l.jsonp&&(l.query=l.query||"",0<l.query.length&&(l.query+="\x26"),l.query+=l.jsonp+"\x3d"+(a.frameDoc?"parent.":"")+b._scopeName+".io.script.jsonp_"+l.id+"._jsonpCallback",l.frameDoc=a.frameDoc,l.canDelete=!0,f._jsonpCallback=
this._jsonpCallback,this["jsonp_"+l.id]=f);return f},_deferredCancel:function(a){a.canceled=!0},_deferredOk:function(a){a=a.ioArgs;return a.json||a.scriptLoaded||a},_deferredError:function(a,b){return a},_deadScripts:[],_counter:1,_addDeadScript:function(a){l._deadScripts.push({id:a.id,frameDoc:a.frameDoc});a.frameDoc=null},_validCheck:function(a){if((a=l._deadScripts)&&0<a.length){for(var b=0;b<a.length;b++)l.remove(a[b].id,a[b].frameDoc),a[b].frameDoc=null;l._deadScripts=[]}return!0},_ioCheck:function(a){a=
a.ioArgs;return a.json||a.scriptLoaded&&!a.args.checkString?!0:(a=a.args.checkString)&&eval("typeof("+a+") !\x3d 'undefined'")},_resHandle:function(a){l._ioCheck(a)?a.callback(a):a.errback(Error("inconceivable dojo.io.script._resHandle error"))},_canAttach:function(){return!0},_jsonpCallback:function(a){this.ioArgs.json=a;b.global[k._callbacksProperty][this.ioArgs.requestId](a)}};e.setObject("dojo.io.script",l);return l})},"redfin/search/map/_MapMixin":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/array dojo/dom-class dojo/dom-style dojo/Deferred ./GoogleMaps".split(" "),
function(h,b,e,a,c,d,g){return b(null,{defaultMapType:"roadmap",mapCreateParams:{mapTypeId:this.defaultMapType},mapLoadingParams:{channel:"not-set"},mapEnabled:!0,parcelStreamEnabled:!1,homeMarkerClass:"map-icon",homeMarkerPrefix:"sprite-map-ico-size sprite-map-ico-",mapSize:{width:400,height:300},map:null,mapDeferred:null,mapNode:null,autoCreateMap:!0,resizeOnStartup:!0,buildRendering:function(){this.inherited(arguments);this.mapNode=this.mapNode||this.containerNode;this.mapDeferred=new d;this.autoCreateMap&&
this._setupMap()},startup:function(){this.inherited(arguments);this.resizeOnStartup&&this.resizeMap()},_setupMap:function(){this.mapEnabled?this.mapDeferred=g(this.mapLoadingParams):this.mapDeferred.reject();this._mapHitch(function(a){this.map=a.create(this.mapCreateParams,this.mapNode);this.parcelStreamEnabled&&h.exists("redfin.search.map.parcelstream.ParcelStreamV3Handler")&&(this._parcelStreamHandler=new redfin.search.map.parcelstream.ParcelStreamV3Handler({map:this.map}),this._parcelStreamHandler.show())},
function(a){console.warn("Unable to load google maps: "+a)})},_mapHitch:function(a,b){b=b||function(a){console.warn("Unable to execute map call "+a)};return this.mapDeferred.then(h.hitch(this,a),h.hitch(this,b))},drawFastMarker:function(a){return this._mapHitch(function(){if(a){this._fastMarker&&(this._fastMarker.setMap(null),delete this._fastMarker);var b=[];a=h.isArray(a)?a:[a];e.forEach(a,function(a){b.push({position:a.latlng||new google.maps.LatLng(a.lat,a.lng),html:'\x3cdiv class\x3d"'+this.homeMarkerPrefix+
a.iconCssName+'"\x3e\x3c/div\x3e',"class":this.homeMarkerClass})},this);return this._fastMarker=this.map.drawFastMarker(b)}return null})},drawOutline:function(a){return this._mapHitch(function(){return a?(this._outlines&&(e.forEach(this._outlines,function(a){a.setMap(null)}),delete this._outlines),this._outlines=[],this._outlineBounds=new google.maps.LatLngBounds,h.isArray(a[0])||(a=[a]),e.forEach(a,function(a){if(a=this.map.drawOutline(a)){var b=a.getBounds();this._outlineBounds.extend(b.getNorthEast());
this._outlineBounds.extend(b.getSouthWest());this._outlines.push(a)}},this),this._outlines):null})},fitOutline:function(){return this._mapHitch(function(){return this._outlineBounds&&!this._outlineBounds.isEmpty()?this.map.fitBounds(this._outlineBounds):null})},resizeMap:function(){c.set(this.mapNode,{width:this.mapSize.width+"px",height:this.mapSize.height+"px"});return this._mapHitch(function(){google.maps.event.trigger(this.map,"resize")})},_setMapOptionsAttr:function(a){return this._mapHitch(function(){return this.map.setOptions(a)})},
_setZoomAttr:function(a){return this._mapHitch(function(){return this.map.setZoom(a)})},_getZoomAttr:function(){return null!=this.map?this.map.getZoom():0},_setMapTypeAttr:function(a){this._set("mapType",a);switch(a){case "streetview":return this.showStreetView();case "tiltNorth":return this.show45Degree(0);case "tiltEast":return this.show45Degree(90);case "tiltSouth":return this.show45Degree(180);case "tiltWest":return this.show45Degree(270);case "roadmap":case "satellite":case "hybrid":case "terrain":return this.showMap(a);
default:return this.showMap(this.defaultMapType)}},showStreetView:function(){return this._mapHitch(function(){this.map.getStreetView().setVisible(!0)})},showMap:function(a){a=a||this.defaultMapType;return this._mapHitch(function(){this.map.getStreetView().setVisible(!1);this.map.setTilt(0);this.map.setMapTypeId(a)})},show45Degree:function(a){a=a||0;return this._mapHitch(function(){this.map.getStreetView().setVisible(!1);this.map.setMapTypeId("satellite");this.map.setTilt(45);this.map.setHeading(a)})}})})},
"redfin/homepage/widgets/MyClaimedHomesWidget":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container redfin/search/common/_Spinner dojo/text!./templates/MyClaimedHomesWidget.html dojo/dom-class dojo/_base/lang dojo/_base/array dojo/when dojo/promise/all dojo/request dojo/has dojo/on redfin/common/elements/HomeInfoCard redfin/common/data/ObjectGraph".split(" "),function(h,b,e,a,c,d,g,f,k,l,m,p,n,q,r,t){return h("redfin.homepage.widgets.MyClaimedHomesWidget",
[b,e,a,c],{templateString:d,claimedHomesData:null,_childWidgets:null,postMixInProperties:function(){this.inherited(arguments);this._childWidgets=[]},postCreate:function(){this.inherited(arguments);this._spinner=this.singleSpinner({width:6,radius:20,color:"#000"});this._spinner.spin(this.spinnerNode);l(this.claimedHomesData,f.hitch(this,function(a){this._spinner.stop(this.spinnerNode);this.render(a)}),f.hitch(this,function(){this._spinner.stop(this.spinnerNode);this.showErrorState.apply(this,arguments)}))},
render:function(a){a=a&&(new t(a.payload)).getRoot().claimedHomes||[];if(0<a.length){var b=k.map(a,this.renderHomeAsCard,this);k.forEach(b,this.addChild,this);g.remove(this.containerNode,"hidden");1<a.length&&(this.titleNode.innerHTML+="s")}else g.add(this.actionsNode,"hidden"),g.remove(this.ghostTownNode,"hidden"),g.remove(this.claimFormNode,"hidden")},renderHomeAsCard:function(a){if(!a||!a.corgi)return null;var b=a.corgi;a=(new r({clickable:!0,showBasicInfo:!0,showOutline:!0,showAddressTooltip:!0,
showNotes:!1,propertyId:b.get("property.id"),hideOuterSash:!1})).setAddress(b.getStreetString()||"Undisclosed",b.getUnit()).setCityState(b.getCitStateZip()).setUrl(b.getUrl()).setAgc(null!=b.get("extra.sharedNotesVisibility")&&b.get("extra.sharedNotesVisibility")<=g_accessLevels.EMAIL_VERIFIED).setPrice(b.getPrice()).setClassFromHome(b).setBeds(b.getBeds()).setBaths(b.getBaths()).setSquareFeet(b.getSqFt());(b=b.get("photosManager.visiblePhotos"))&&0<b.length?a.loadPhotos([b[0]]):a.loadPhoto();return a},
showErrorState:function(){console.error(arguments)},getChildren:function(){return this._childWidgets},addChild:function(a,b){null!==a&&(this.inherited(arguments),"number"===typeof b&&b<this._childWidgets.length?this._childWidgets.splice(b,0,a):this._childWidgets.push(a))},titleNode:null,spinnerNode:null,ghostTownNode:null,containerNode:null,claimFormNode:null,claimAddressNode:null,claimButtonNode:null,_spinner:null})})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(h,
b){var e={};b.setObject("dojo.string",e);e.rep=function(a,b){if(0>=b||!a)return"";for(var d=[];;){b&1&&d.push(a);if(!(b>>=1))break;a+=a}return d.join("")};e.pad=function(a,b,d,g){d||(d="0");a=String(a);b=e.rep(d,Math.ceil((b-a.length)/d.length));return g?a+b:b+a};e.substitute=function(a,c,d,g){g=g||h.global;d=d?b.hitch(g,d):function(a){return a};return a.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(a,k,l){a=b.getObject(k,!1,c);l&&(a=b.getObject(l,!1,g).call(g,a,k));return d(a,k).toString()})};
e.trim=String.prototype.trim?b.trim:function(a){a=a.replace(/^\s+/,"");for(var b=a.length-1;0<=b;b--)if(/\S/.test(a.charAt(b))){a=a.substring(0,b+1);break}return a};return e})},"dijit/_Contained":function(){define("dijit/_Contained",["dojo/_base/declare","./registry"],function(h,b){return h("dijit._Contained",null,{_getSibling:function(e){var a=this.domNode;do a=a[e+"Sibling"];while(a&&1!=a.nodeType);return a&&b.byNode(a)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},
getIndexInParent:function(){var b=this.getParent();return!b||!b.getIndexOfChild?-1:b.getIndexOfChild(this)}})})},"url:redfin/common/templates/HomeSash.html":"\n\t\x3cdiv class\x3d'HomeSash'\x3e\n\t\t\x3cdiv class\x3d'innerSash' data-dojo-attach-point\x3d'_innerSashNode'\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d'_iconNode' class\x3d'icon home-icon'\x3e\x3c/div\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d'_badgeNode' class\x3d'icon home-badge'\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d'outerSash'\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d'_outerSashNode'\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e",
"redfin/common/data/CorgiListing":function(){define("redfin/common/data/CorgiListing",["dijit","dojo","dojox","dojo/require!redfin/common/data/DataObject,redfin/search/data/ExtendedListing,redfin/common/data/util/ListingPhotosUtil,redfin/common/data/CorgiPhotosManager"],function(h,b,e){b.provide("redfin.common.data.CorgiListing");b.require("redfin.common.data.DataObject");b.require("redfin.search.data.ExtendedListing");b.require("redfin.common.data.util.ListingPhotosUtil");b.require("redfin.common.data.CorgiPhotosManager");
b.declare("redfin.common.data.CorgiListing",[redfin.search.data.ExtendedListing],{_cachedCorgiPhotosManager:null,getListingAccessLevel:function(){return this.get("accessLevel")},getPhotosManager:function(){if(!this._cachedCorgiPhotosManager){var a={dataSourceId:this.get("dataSource.id"),mlsId:this.get("mlsId"),availablePhotos:this.get("availablePhotos"),listingAccessLevel:this.get("accessLevel"),primaryPhotoVisibility:1,allPhotosVisibility:1};this._cachedCorgiPhotosManager=new redfin.common.data.CorgiPhotosManager(a)}return this._cachedCorgiPhotosManager}})})},
"redfin/common/widgets/contactBox/ContactBoxMultiWindow":function(){define("dojo/dom-class dojo/dom-style dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has dojo/text!redfin/common/widgets/contactBox/templates/ContactBoxMultiWindow.html dojo/topic dijit/_Widget dijit/_TemplatedMixin redfin/common/mixins/_Adopt redfin/common/widgets/contactBox/ContactBoxComponentMixin redfin/search/common/mixins/_TouchListener".split(" "),function(h,b,e,a,c,d,g,f,k,l,m,p,n){e=e("redfin.common.widgets.contactBox.ContactBoxMultiWindow",
[k,l,m,p],{templateString:g,data:null,multiWindowContentWidth:0,singleContentWidth:0,currentLeftPosition:0,numViews:0,currentView:1,_moveInProgress:!1,_animationClass:null,ContactBox:null,postCreate:function(){this.contactBoxes=[];if(this.data){a.forEach(this.data.classes,c.hitch(this,function(a){"contactBoxMultiWindowWithAnimation"===a&&(this._animationClass="contactBoxMultiWindowWithAnimation");h.add(this.viewport,a)}));a.forEach(this.data.views,c.hitch(this,function(a){a.viewport=this.viewport;
a.gaEventMap=this.gaEventMap;a=this.adopt(this.ContactBox,a);this.contactBoxes.push(a);a.placeAt(this.content);this.numViews++}));if(0<this.contactBoxes.length)this.contactBoxes[0].onDisplay();d("touch")&&(this.connectSwipe(this.viewport,c.hitch(this,this._onTouchMove),c.hitch(this,this._onTouchEnd)),f.subscribe("contactBox/touchMove",c.hitch(this,function(a,c){a!=this&&(!this._moveInProgress&&this._animationClass&&(this._moveInProgess=!0,h.remove(this.viewport,this._animationClass)),this.currentLeftPosition=
-1*c*this.getMultiWindowContentWidth(),b.set(this.content,{left:this.currentLeftPosition+"px"}))})),f.subscribe("contactBox/touchEnd",c.hitch(this,function(a,c){a!=this&&(this.singleContentWidth||(this.singleContentWidth=b.get(this.content.children[0],"width"),this.currentLeftPosition=b.get(this.content,"left")),c<=this.numViews&&0<c&&(this.currentView=c,this.currentLeftPosition=-1*(this.currentView-1)*this.singleContentWidth,b.set(this.content,{left:this.currentLeftPosition+"px"}),this.contactBoxes[this.currentView-
1].onDisplay()),this._animationClass&&(this._moveInProgess=!1,h.add(this.viewport,this._animationClass)))})),f.subscribe("contactBox/touchEnd",c.hitch(this,this.trackNavSwipe)))}},onLeftNav:function(){this.singleContentWidth=b.get(this.content.children[0],"width");this.currentLeftPosition=b.get(this.content,"left");this.contactBoxes[this.currentView-1].onHide();1<this.currentView?(this.currentView--,this.currentLeftPosition+=this.singleContentWidth):(this.currentView=this.numViews,this.currentLeftPosition=
-1*(this.getMultiWindowContentWidth()-this.singleContentWidth));b.set(this.content,{left:this.currentLeftPosition+"px"});this.contactBoxes[this.currentView-1].onDisplay()},onRightNav:function(){this.singleContentWidth=b.get(this.content.children[0],"width");this.currentLeftPosition=b.get(this.content,"left");this.contactBoxes[this.currentView-1].onHide();this.currentView<this.numViews?(this.currentView++,this.currentLeftPosition-=this.singleContentWidth):(this.currentView=1,this.currentLeftPosition=
0);b.set(this.content,{left:this.currentLeftPosition+"px"});this.contactBoxes[this.currentView-1].onDisplay()},_onTouchMove:function(a,c,d){this.singleContentWidth=b.get(this.content.children[0],"width");this.currentLeftPosition=b.get(this.content,"left");!this._moveInProgress&&this._animationClass&&(this._moveInProgess=!0,h.remove(this.viewport,this._animationClass));if(a&&("left"==d||"right"==d))c=-1*(this.currentView-1)*this.singleContentWidth,a=c+a,Math.abs(c-a)<this.getMultiWindowContentWidth()&&
(this.currentLeftPosition=a,b.set(this.content,{left:this.currentLeftPosition+"px"}),f.publish("contactBox/touchMove",this,-this.currentLeftPosition/this.getMultiWindowContentWidth()),event.preventDefault())},_onTouchEnd:function(a,c,d){if(a&&("left"==d||"right"==d))a=-1*(this.currentView-1)*this.singleContentWidth,Math.abs(a-this.currentLeftPosition)>this.singleContentWidth/3&&(this.contactBoxes[this.currentView-1].onHide(),0<a-this.currentLeftPosition?(this.currentView++,f.publish("contactBox/navigate-right"),
this.currentView>this.numViews&&(this.currentView=1)):(this.currentView--,f.publish("contactBox/navigate-left"),1>this.currentView&&(this.currentView=this.numViews))),this.currentLeftPosition=-1*(this.currentView-1)*this.singleContentWidth,b.set(this.content,{left:this.currentLeftPosition+"px"}),this.contactBoxes[this.currentView-1].onDisplay(),f.publish("contactBox/touchEnd",this,this.currentView),event.preventDefault();this._animationClass&&(this._moveInProgess=!1,h.add(this.viewport,this._animationClass))},
getMultiWindowContentWidth:function(){if(null!=this.content&&0>=this.multiWindowContentWidth){var d=0;a.forEach(this.content.children,c.hitch(this,function(a){d+=b.get(a,"width")}));this.multiWindowContentWidth=d}return this.multiWindowContentWidth},trackNavSwipe:function(){this.gaEventMap["Swipe:MultiWindow"]||(this.gaEventMap["Swipe:MultiWindow"]=!0,this._trackEvent("Swipe:MultiWindow"),dojo.xhrGet({url:"/stingray/clicktracker.jsp?category\x3dredfin.core.mvc\x26action\x3dagentChoiceFirstSwipe",
sync:!1}))}});c.mixin(redfin.common.widgets.contactBox.ContactBoxMultiWindow.prototype,n);return e})},"dojox/fx/_base":function(){define("dojox/fx/_base","dojo/_base/array dojo/_base/lang dojo/_base/fx dojo/fx dojo/dom dojo/dom-style dojo/dom-geometry dojo/_base/connect dojo/_base/html".split(" "),function(h,b,e,a,c,d,g,f,k){h=b.getObject("dojox.fx",!0);b.mixin(h,{anim:e.anim,animateProperty:e.animateProperty,fadeTo:e._fade,fadeIn:e.fadeIn,fadeOut:e.fadeOut,combine:a.combine,chain:a.chain,slideTo:a.slideTo,
wipeIn:a.wipeIn,wipeOut:a.wipeOut});h.sizeTo=function(f){var k=f.node=c.byId(f.node),g=f.method||"chain";f.duration||(f.duration=500);"chain"==g&&(f.duration=Math.floor(f.duration/2));var n,h,r,t,u,w=null,v=function(a){return function(){var b=d.getComputedStyle(a),c=b.position,k=b.width,g=b.height;n="absolute"==c?a.offsetTop:parseInt(b.top)||0;r="absolute"==c?a.offsetLeft:parseInt(b.left)||0;u="auto"==k?0:parseInt(k);w="auto"==g?0:parseInt(g);t=r-Math.floor((f.width-u)/2);h=n-Math.floor((f.height-
w)/2);"absolute"!=c&&"relative"!=c&&(b=d.coords(a,!0),n=b.y,r=b.x,a.style.position="absolute",a.style.top=n+"px",a.style.left=r+"px")}}(k),k=e.animateProperty(b.mixin({properties:{height:function(){v();return{end:f.height||0,start:w}},top:function(){return{start:n,end:h}}}},f)),g=e.animateProperty(b.mixin({properties:{width:function(){return{start:u,end:f.width||0}},left:function(){return{start:r,end:t}}}},f));return a["combine"==f.method?"combine":"chain"]([k,g])};h.slideBy=function(a){var k,p,n=
function(a){return function(){var b=d.getComputedStyle(a),c=b.position;k="absolute"==c?a.offsetTop:parseInt(b.top)||0;p="absolute"==c?a.offsetLeft:parseInt(b.left)||0;"absolute"!=c&&"relative"!=c&&(b=g.coords(a,!0),k=b.y,p=b.x,a.style.position="absolute",a.style.top=k+"px",a.style.left=p+"px")}}(a.node=c.byId(a.node));n();a=e.animateProperty(b.mixin({properties:{top:k+(a.top||0),left:p+(a.left||0)}},a));f.connect(a,"beforeBegin",a,n);return a};h.crossFade=function(d){var f=d.nodes[0]=c.byId(d.nodes[0]),
g=k.style(f,"opacity"),n=d.nodes[1]=c.byId(d.nodes[1]);k.style(n,"opacity");return a.combine([e[0==g?"fadeIn":"fadeOut"](b.mixin({node:f},d)),e[0==g?"fadeOut":"fadeIn"](b.mixin({node:n},d))])};h.highlight=function(a){var d=a.node=c.byId(a.node);a.duration=a.duration||400;var g=a.color||"#ffff99",n=k.style(d,"backgroundColor");"rgba(0, 0, 0, 0)"==n&&(n="transparent");a=e.animateProperty(b.mixin({properties:{backgroundColor:{start:g,end:n}}},a));"transparent"==n&&f.connect(a,"onEnd",a,function(){d.style.backgroundColor=
n});return a};h.wipeTo=function(a){a.node=c.byId(a.node);var d=a.node,f=d.style,g=a.width?"width":"height",h={};h[g]={start:function(){f.overflow="hidden";if("hidden"==f.visibility||"none"==f.display)return f[g]="1px",f.display="",f.visibility="",1;var a=k.style(d,g);return Math.max(a,1)},end:a[g]};return e.animateProperty(b.mixin({properties:h},a))};return h})},"redfin/common/data/Agent":function(){define("redfin/common/data/Agent",["dijit","dojo","dojox","dojo/require!redfin/common/data/MethodGenerator,redfin/common/data/DataObject"],
function(h,b,e){b.provide("redfin.common.data.Agent");b.require("redfin.common.data.MethodGenerator");b.require("redfin.common.data.DataObject");b.declare("redfin.common.data.Agent",[redfin.common.data.DataObject],{getPhotoUrl:function(){return this._photoUrl},canAskQuestion:function(){return this.get("ldpContactEnabled")&&this.get("agentType")==g_agentType.REDFIN},hasPhotos:function(){return this._hasPhotos},getLoadRatio:function(){return null==this.getCurrentLoad()||null==this.getCurrentMaxCapacity()||
!(0<this.getCurrentMaxCapacity())?null:this.getCurrentLoad()/this.getCurrentMaxCapacity()},getInternalJobName:function(){var a="Unknown";if(this.getAgentType()==g_agentType.CONNECT)a="Partner Agent";else if(this.getJob()){var b=g_agentJob.idToObj[this.getJob()].displayName;b&&(a=b)}return a},getLoadTier:function(a){if(!g_agentLoadTier||null==this.getCurrentLoad()||null==this.getCurrentMaxCapacity()||!(0<this.getCurrentMaxCapacity()))return null;var b=this.getCurrentLoad(),d=null,g;for(g in g_agentLoadTier.idToObj){var f=
g_agentLoadTier.idToObj[g],k=f.minLoadToCapacityRatio*this.getCurrentMaxCapacity();a&&(k=Math.round(k));b>=k&&(d=f)}return d}});b.forEach("id agentType job isActive takingDeals profileContactEnabled ldpContactEnabled takingTours servicing cmsSlug cellPhone licenseNumber primaryPhone assistantPhone officePhone officeFax person serviceRegions teams primaryMarket defaultMaxCapacityModifier customMaxCapacity currentMaxCapacity currentLoad takingDealsLocked agentRoleName agentURL homesClosed homesClosedInPastYear averageRating numReviews numReviewsRecent businessMarket servesOffers clientDisplayablePhoneNumber photoUrl270x360 photoUrl120x120 photoUrl150x150 redfinDisplayablePhone serviceRegionIds".split(" "),
function(a){redfin.common.data.MethodGenerator.generateMethods(redfin.common.data.Agent,a)})})},"dijit/_Container":function(){define("dijit/_Container",["dojo/_base/array","dojo/_base/declare","dojo/dom-construct"],function(h,b,e){return b("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode)},addChild:function(a,b){var d=this.containerNode;if(b&&"number"==typeof b){var g=this.getChildren();g&&g.length>=b&&(d=g[b-1].domNode,
b="after")}e.place(a.domNode,d,b);this._started&&!a._started&&a.startup()},removeChild:function(a){"number"==typeof a&&(a=this.getChildren()[a]);a&&(a=a.domNode)&&a.parentNode&&a.parentNode.removeChild(a)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(a,b){var d=this.getChildren(),g=h.indexOf(this.getChildren(),a);return d[g+b]},getIndexOfChild:function(a){return h.indexOf(this.getChildren(),a)}})})},"dojo/dnd/Mover":function(){define("../_base/array ../_base/declare ../_base/event ../_base/lang ../sniff ../_base/window ../dom ../dom-geometry ../dom-style ../Evented ../on ../touch ./common ./autoscroll".split(" "),
function(h,b,e,a,c,d,g,f,k,l,m,p,n,q){return b("dojo.dnd.Mover",[l],{constructor:function(b,c,d){this.node=g.byId(b);this.marginBox={l:c.pageX,t:c.pageY};this.mouseButton=c.button;c=this.host=d;b=b.ownerDocument;this.events=[m(b,p.move,a.hitch(this,"onFirstMove")),m(b,p.move,a.hitch(this,"onMouseMove")),m(b,p.release,a.hitch(this,"onMouseUp")),m(b,"dragstart",e.stop),m(b.body,"selectstart",e.stop)];q.autoScrollStart(b);if(c&&c.onMoveStart)c.onMoveStart(this)},onMouseMove:function(a){q.autoScroll(a);
var b=this.marginBox;this.host.onMove(this,{l:b.l+a.pageX,t:b.t+a.pageY},a);e.stop(a)},onMouseUp:function(a){(c("webkit")&&c("mac")&&2==this.mouseButton?0==a.button:this.mouseButton==a.button)&&this.destroy();e.stop(a)},onFirstMove:function(a){var b=this.node.style,c,l=this.host;switch(b.position){case "relative":case "absolute":c=Math.round(parseFloat(b.left))||0;b=Math.round(parseFloat(b.top))||0;break;default:"fixed"!=b.position&&(b.position="absolute");b=f.getMarginBox(this.node);c=d.doc.body;
var g=k.getComputedStyle(c),e=f.getMarginBox(c,g),g=f.getContentBox(c,g);c=b.l-(g.l-e.l);b=b.t-(g.t-e.t)}this.marginBox.l=c-this.marginBox.l;this.marginBox.t=b-this.marginBox.t;if(l&&l.onFirstMove)l.onFirstMove(this,a);this.events.shift().remove()},destroy:function(){h.forEach(this.events,function(a){a.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.node=this.host=null}})})},"url:redfin/search/common/elements/templates/HoverTooltip.html":'\x3cdiv class\x3d"hidden HoverTooltip basic-border-radius transition-opaque"\x3e\n\t\x3cdiv class\x3d"arrow" data-dojo-attach-point\x3d"arrowNode"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"contentNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"dijit/form/ComboBoxMixin":function(){require({cache:{"url:dijit/form/templates/DropDownBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}"\n\trole\x3d"combobox"\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\n\t\tdata-dojo-attach-point\x3d"_buttonNode, _popupStateNode" role\x3d"presentation"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t${_buttonInputDisabled}\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d\'dijitReset dijitInputInner\' ${!nameAttrSetting} type\x3d"text" autocomplete\x3d"off"\n\t\t\tdata-dojo-attach-point\x3d"textbox,focusNode" role\x3d"textbox" aria-haspopup\x3d"true"\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n'}});
define("dijit/form/ComboBoxMixin","dojo/_base/declare dojo/_base/Deferred dojo/_base/kernel dojo/_base/lang dojo/store/util/QueryResults ./_AutoCompleterMixin ./_ComboBoxMenu ../_HasDropDown dojo/text!./templates/DropDownBox.html".split(" "),function(h,b,e,a,c,d,g,f,k){return h("dijit.form.ComboBoxMixin",[f,d],{dropDownClass:g,hasDownArrow:!0,templateString:k,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_setHasDownArrowAttr:function(a){this._set("hasDownArrow",
a);this._buttonNode.style.display=a?"":"none"},_showResultList:function(){this.displayMessage("");this.inherited(arguments)},_setStoreAttr:function(d){d.get||a.mixin(d,{_oldAPI:!0,get:function(a){var c=new b;this.fetchItemByIdentity({identity:a,onItem:function(a){c.resolve(a)},onError:function(a){c.reject(a)}});return c.promise},query:function(d,f){var l=new b(function(){k.abort&&k.abort()});l.total=new b;var k=this.fetch(a.mixin({query:d,onBegin:function(a){l.total.resolve(a)},onComplete:function(a){l.resolve(a)},
onError:function(a){l.reject(a)}},f));return c(l)}});this._set("store",d)},postMixInProperties:function(){var b=this.params.store||this.store;b&&this._setStoreAttr(b);this.inherited(arguments);if(!this.params.store&&!this.store._oldAPI){var c=this.declaredClass;a.mixin(this.store,{getValue:function(a,b){e.deprecated(c+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0");return a[b]},getLabel:function(a){e.deprecated(c+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly",
"","2.0");return a.name},fetch:function(b){e.deprecated(c+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");require(["dojo/data/ObjectStore"],a.hitch(this,function(a){(new a({objectStore:this})).fetch(b)}))}})}}})})},"redfin/search/util/NameValueUtil":function(){define(["dijit","dojo","dojox"],function(h,b,e){b.provide("redfin.search.util.NameValueUtil");b.setObject("redfin.util.NameValue",{nameValueStringToHash:function(a,b,d,g){var f={};a=a.split(b);for(b=0;b<a.length;b++){var k=
a[b].split(d);2==k.length&&(g?f[g(k[0])]=g(k[1]):f[k[0]]=k[1])}return f},hashToNameValueString:function(a,b,d,g,f){var k=[],l;for(l in a)if(a.hasOwnProperty(l)&&(null!==a[l]&&""!==a[l]||f))g?k.push(g(l)+d+g(a[l])):k.push(l+d+a[l]);k.sort(function(a,b){var c=a.split(d)[0],f=b.split(d)[0];return c==f?0:c>f?1:-1});return k.join(b)},constructQueryString:function(a,b){return this.hashToNameValueString(a,"\x26","\x3d",encodeURIComponent,b)},deconstructQueryString:function(a){return this.nameValueStringToHash(a,
"\x26","\x3d",function(a){a&&"string"!=typeof a&&(a=new String(a));return a?decodeURIComponent(a.replace(/\+/g,"%20")):""})}})})},"redfin/common/util/TouchUtil":function(){define(["dojo/_base/declare","dojo/has"],function(h,b){return new (h([],{isTouchDevice:function(){return this._isTouchDevice},_isTouchDevice:!1,constructor:function(e){this._isTouchDevice=b("touch")}}))})},"redfin/common/net/UrlGenerator":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/io-query"],
function(h,b,e,a){_objectToQuery=function(a,b){var g=encodeURIComponent,f=[],k;for(k in a){var l=a[k];if(!(null==l||"undefined"==typeof l)){var m=g(k)+"\x3d";if(e.isArray(l))for(var p=0,n=l.length;p<n;++p)f.push(m+g(l[p]));else f.push(m+g(l))}}b&&f.sort();return f.join("\x26")};return b("redfin.common.net.UrlGenerator",null,{sortQueryParameters:!0,root:null,query:null,start:function(a){this.root=a;this.query={};return this},add:function(a,b){this.query[a]=b;return this},remove:function(a){delete this.query[a];
return this},getRoot:function(){return this.root},getQueryString:function(){return _objectToQuery(this.query,this.sortQueryParameters)},getUrl:function(){return this.getRoot()+this.getQueryString()},appendQuery:function(a){a&&e.mixin(this.query,a);return this},appendQueryString:function(b){b&&e.mixin(this.query,a.queryToObject(b));return this}})})},"redfin/search/data/ExtendedAgent":function(){define("redfin/search/data/ExtendedAgent",["dijit","dojo","dojox","dojo/require!redfin/common/data/MethodGenerator,redfin/common/data/Agent"],
function(h,b,e){b.provide("redfin.search.data.ExtendedAgent");b.require("redfin.common.data.MethodGenerator");b.require("redfin.common.data.Agent");b.declare("redfin.search.data.ExtendedAgent",[redfin.common.data.Agent],{isRedfin:function(){return this.getAgentType()===g_agentType.CONTRACT||this.getAgentType()===g_agentType.REDFIN},isPartner:function(){return this.getAgentType()===g_agentType.CONNECT},getAgentURL:function(){return this.get("profileURL")}});(function(a){var c=redfin.search.data.ExtendedAgent,
d=redfin.common.data.MethodGenerator.generateMethods;b.forEach("fullName firstName teamName teamUrl teamEmail hasPhotos profileURL primaryMarketName photoUrl74x110 photoUrl270x360 brokerageName".split(" "),function(a){d(c,a)},this)})(this)})},"url:redfin/common/widgets/contactBox/templates/ContactBoxNavigation.html":'\x3cdiv class\x3d"contactBoxNavigation" dojoAttachPoint\x3d"navWrapper"\x3e\n\t\x3cdiv class\x3d"leftNavContainer" dojoAttachPoint\x3d"leftNavContainer"\x3e\n\t\t\x3cdiv class\x3d"leftNav" dojoAttachPoint\x3d"leftNav"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"navigationCirclesContainer hidden" dojoAttachPoint\x3d"navCirclesContainer"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"rightNavContainer" dojoAttachPoint\x3d"rightNavContainer"\x3e\n\t\t\x3cdiv class\x3d"rightNav" dojoAttachPoint\x3d"rightNav"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"redfin/common/data/Address":function(){define(["dijit","dojo","dojox","dojo/require!redfin/common/data/MethodGenerator,redfin/common/data/DataObject"],function(h,b,e){b.provide("redfin.common.data.Address");b.require("redfin.common.data.MethodGenerator");b.require("redfin.common.data.DataObject");b.declare("redfin.common.data.Address",[redfin.common.data.DataObject],{getFullDisplayString:function(){return this._fullDisplayString},getFullStreetString:function(){return this._fullStreetString}});redfin.common.data.MethodGenerator.generateMethods(redfin.common.data.Address,
"id")})},"dijit/_base/manager":function(){define("dijit/_base/manager",["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(h,b,e,a,c){var d={};h.forEach("byId getUniqueId findWidgets _destroyAll byNode getEnclosingWidget".split(" "),function(b){d[b]=a[b]});e.mixin(d,{defaultDuration:b.defaultDuration||200});e.mixin(c,d);return c})},"dojo/data/ItemFileReadStore":function(){define("../_base/kernel ../_base/lang ../_base/declare ../_base/array ../_base/xhr ../Evented ./util/filter ./util/simpleFetch ../date/stamp".split(" "),
function(h,b,e,a,c,d,g,f,k){e=e("dojo.data.ItemFileReadStore",[d],{constructor:function(a){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=!1;this.url=this._ccUrl=this._jsonFileUrl=a.url;this._jsonData=a.data;this.data=null;this._datatypeMap=a.typeMap||{};this._datatypeMap.Date||(this._datatypeMap.Date={type:Date,deserialize:function(a){return k.fromISOString(a)}});this._features={"dojo.data.api.Read":!0,"dojo.data.api.Identity":!0};this._itemsByIdentity=null;this._storeRefPropName=
"_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=!1;this._queuedFetches=[];void 0!==a.urlPreventCache&&(this.urlPreventCache=a.urlPreventCache?!0:!1);void 0!==a.hierarchical&&(this.hierarchical=a.hierarchical?!0:!1);a.clearOnClose&&(this.clearOnClose=!0);"failOk"in a&&(this.failOk=a.failOk?!0:!1)},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:!1,urlPreventCache:!1,failOk:!1,hierarchical:!0,_assertIsItem:function(a){if(!this.isItem(a))throw Error(this.declaredClass+
": Invalid item argument.");},_assertIsAttribute:function(a){if("string"!==typeof a)throw Error(this.declaredClass+": Invalid attribute argument.");},getValue:function(a,b,c){a=this.getValues(a,b);return 0<a.length?a[0]:c},getValues:function(a,b){this._assertIsItem(a);this._assertIsAttribute(b);return(a[b]||[]).slice(0)},getAttributes:function(a){this._assertIsItem(a);var b=[],c;for(c in a)c!==this._storeRefPropName&&(c!==this._itemNumPropName&&c!==this._rootItemPropName&&c!==this._reverseRefMap)&&
b.push(c);return b},hasAttribute:function(a,b){this._assertIsItem(a);this._assertIsAttribute(b);return b in a},containsValue:function(a,b,c){var d=void 0;"string"===typeof c&&(d=g.patternToRegExp(c,!1));return this._containsValue(a,b,c,d)},_containsValue:function(c,d,f,k){return a.some(this.getValues(c,d),function(a){if(null!==a&&!b.isObject(a)&&k){if(a.toString().match(k))return!0}else if(f===a)return!0})},isItem:function(a){return a&&(a[this._storeRefPropName]===this||a[this._storeRefPropName]&&
a[this._storeRefPropName][0]===this)&&this._arrayOfAllItems[a[this._itemNumPropName]]===a?!0:!1},isItemLoaded:function(a){return this.isItem(a)},loadItem:function(a){this._assertIsItem(a.item)},getFeatures:function(){return this._features},getLabel:function(a){if(this._labelAttr&&this.isItem(a))return this.getValue(a,this._labelAttr)},getLabelAttributes:function(a){return this._labelAttr?[this._labelAttr]:null},filter:function(a,b,c){var d=[],f,k;if(a.query){var e;f=a.queryOptions?a.queryOptions.ignoreCase:
!1;var h={};for(k in a.query)e=a.query[k],"string"===typeof e?h[k]=g.patternToRegExp(e,f):e instanceof RegExp&&(h[k]=e);for(f=0;f<b.length;++f){var w=!0,v=b[f];if(null===v)w=!1;else for(k in a.query)e=a.query[k],this._containsValue(v,k,e,h[k])||(w=!1);w&&d.push(v)}}else for(f=0;f<b.length;++f)k=b[f],null!==k&&d.push(k);c(d,a)},_fetchItems:function(a,d,f){var k=this;if(this._loadFinished)this.filter(a,this._getItemsArray(a.queryOptions),d);else if(this._jsonFileUrl!==this._ccUrl?(h.deprecated(this.declaredClass+
": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),this.url=this._ccUrl=this._jsonFileUrl):this.url!==this._ccUrl&&(this._ccUrl=this._jsonFileUrl=this.url),null!=this.data&&(this._jsonData=this.data,this.data=null),this._jsonFileUrl)if(this._loadInProgress)this._queuedFetches.push({args:a,filter:b.hitch(k,"filter"),findCallback:b.hitch(k,d)});else{this._loadInProgress=!0;var g=c.get({url:k._jsonFileUrl,handleAs:"json-comment-optional",
preventCache:this.urlPreventCache,failOk:this.failOk});g.addCallback(function(b){try{k._getItemsFromLoadedData(b),k._loadFinished=!0,k._loadInProgress=!1,k.filter(a,k._getItemsArray(a.queryOptions),d),k._handleQueuedFetches()}catch(c){k._loadFinished=!0,k._loadInProgress=!1,f(c,a)}});g.addErrback(function(b){k._loadInProgress=!1;f(b,a)});var e=null;a.abort&&(e=a.abort);a.abort=function(){g&&-1===g.fired&&g.cancel();e&&e.call(a)}}else if(this._jsonData)try{this._loadFinished=!0,this._getItemsFromLoadedData(this._jsonData),
this._jsonData=null,k.filter(a,this._getItemsArray(a.queryOptions),d)}catch(t){f(t,a)}else f(Error(this.declaredClass+": No JSON source data was provided as either URL or a nested Javascript object."),a)},_handleQueuedFetches:function(){if(0<this._queuedFetches.length){for(var a=0;a<this._queuedFetches.length;a++){var b=this._queuedFetches[a],c=b.args,d=b.filter,b=b.findCallback;d?d(c,this._getItemsArray(c.queryOptions),b):this.fetchItemByIdentity(c)}this._queuedFetches=[]}},_getItemsArray:function(a){return a&&
a.deep?this._arrayOfAllItems:this._arrayOfTopLevelItems},close:function(a){this.clearOnClose&&(this._loadFinished&&!this._loadInProgress)&&(this._arrayOfAllItems=[],this._arrayOfTopLevelItems=[],this._loadFinished=!1,this._itemsByIdentity=null,this._loadInProgress=!1,this._queuedFetches=[])},_getItemsFromLoadedData:function(a){function c(a){return null!==a&&"object"===typeof a&&(!b.isArray(a)||f)&&!b.isFunction(a)&&(a.constructor==Object||b.isArray(a))&&"undefined"===typeof a._reference&&"undefined"===
typeof a._type&&"undefined"===typeof a._value&&k.hierarchical}function d(a){k._arrayOfAllItems.push(a);for(var f in a){var l=a[f];if(l)if(b.isArray(l))for(var g=0;g<l.length;++g){var e=l[g];c(e)&&d(e)}else c(l)&&d(l)}}var f=!1,k=this;this._labelAttr=a.label;var g,e;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=a.items;for(g=0;g<this._arrayOfTopLevelItems.length;++g)e=this._arrayOfTopLevelItems[g],b.isArray(e)&&(f=!0),d(e),e[this._rootItemPropName]=!0;var h={},w;for(g=0;g<this._arrayOfAllItems.length;++g)for(w in e=
this._arrayOfAllItems[g],e){if(w!==this._rootItemPropName){var v=e[w];null!==v?b.isArray(v)||(e[w]=[v]):e[w]=[null]}h[w]=w}for(;h[this._storeRefPropName];)this._storeRefPropName+="_";for(;h[this._itemNumPropName];)this._itemNumPropName+="_";for(;h[this._reverseRefMap];)this._reverseRefMap+="_";if(h=a.identifier){this._itemsByIdentity={};this._features["dojo.data.api.Identity"]=h;for(g=0;g<this._arrayOfAllItems.length;++g)if(e=this._arrayOfAllItems[g],a=e[h],a=a[0],Object.hasOwnProperty.call(this._itemsByIdentity,
a)){if(this._jsonFileUrl)throw Error(this.declaredClass+":  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+h+"].  Value collided: ["+a+"]");if(this._jsonData)throw Error(this.declaredClass+":  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+h+"].  Value collided: ["+a+"]");}else this._itemsByIdentity[a]=e}else this._features["dojo.data.api.Identity"]=Number;for(g=0;g<this._arrayOfAllItems.length;++g)e=
this._arrayOfAllItems[g],e[this._storeRefPropName]=this,e[this._itemNumPropName]=g;for(g=0;g<this._arrayOfAllItems.length;++g)for(w in e=this._arrayOfAllItems[g],e){a=e[w];for(h=0;h<a.length;++h)if(v=a[h],null!==v&&"object"==typeof v){if("_type"in v&&"_value"in v){var x=v._type,s=this._datatypeMap[x];if(s)if(b.isFunction(s))a[h]=new s(v._value);else if(b.isFunction(s.deserialize))a[h]=s.deserialize(v._value);else throw Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");
else throw Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+x+"'");}if(v._reference){v=v._reference;if(b.isObject(v))for(x=0;x<this._arrayOfAllItems.length;++x){var s=this._arrayOfAllItems[x],y=!0,C;for(C in v)s[C]!=v[C]&&(y=!1);y&&(a[h]=s)}else a[h]=this._getItemByIdentity(v);this.referenceIntegrity&&(v=a[h],this.isItem(v)&&this._addReferenceToMap(v,e,w))}else this.isItem(v)&&this.referenceIntegrity&&this._addReferenceToMap(v,e,
w)}}},_addReferenceToMap:function(a,b,c){},getIdentity:function(a){var b=this._features["dojo.data.api.Identity"];return b===Number?a[this._itemNumPropName]:(a=a[b])?a[0]:null},fetchItemByIdentity:function(a){var b,d;if(this._loadFinished)b=this._getItemByIdentity(a.identity),a.onItem&&(d=a.scope?a.scope:h.global,a.onItem.call(d,b));else{var f=this;this._jsonFileUrl!==this._ccUrl?(h.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),
this.url=this._ccUrl=this._jsonFileUrl):this.url!==this._ccUrl&&(this._ccUrl=this._jsonFileUrl=this.url);null!=this.data&&null==this._jsonData&&(this._jsonData=this.data,this.data=null);this._jsonFileUrl?this._loadInProgress?this._queuedFetches.push({args:a}):(this._loadInProgress=!0,d=c.get({url:f._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk}),d.addCallback(function(c){var d=a.scope?a.scope:h.global;try{f._getItemsFromLoadedData(c),f._loadFinished=
!0,f._loadInProgress=!1,b=f._getItemByIdentity(a.identity),a.onItem&&a.onItem.call(d,b),f._handleQueuedFetches()}catch(k){f._loadInProgress=!1,a.onError&&a.onError.call(d,k)}}),d.addErrback(function(b){f._loadInProgress=!1;a.onError&&a.onError.call(a.scope?a.scope:h.global,b)})):this._jsonData&&(f._getItemsFromLoadedData(f._jsonData),f._jsonData=null,f._loadFinished=!0,b=f._getItemByIdentity(a.identity),a.onItem&&(d=a.scope?a.scope:h.global,a.onItem.call(d,b)))}},_getItemByIdentity:function(a){var b=
null;this._itemsByIdentity?Object.hasOwnProperty.call(this._itemsByIdentity,a)&&(b=this._itemsByIdentity[a]):Object.hasOwnProperty.call(this._arrayOfAllItems,a)&&(b=this._arrayOfAllItems[a]);void 0===b&&(b=null);return b},getIdentityAttributes:function(a){a=this._features["dojo.data.api.Identity"];return a===Number?null:[a]},_forceLoad:function(){var a=this;this._jsonFileUrl!==this._ccUrl?(h.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),
this.url=this._ccUrl=this._jsonFileUrl):this.url!==this._ccUrl&&(this._ccUrl=this._jsonFileUrl=this.url);null!=this.data&&(this._jsonData=this.data,this.data=null);if(this._jsonFileUrl){var b=c.get({url:this._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk,sync:!0});b.addCallback(function(b){try{if(!0!==a._loadInProgress&&!a._loadFinished)a._getItemsFromLoadedData(b),a._loadFinished=!0;else if(a._loadInProgress)throw Error(this.declaredClass+":  Unable to perform a synchronous load, an async load is in progress.");
}catch(c){throw c;}});b.addErrback(function(a){throw a;})}else this._jsonData&&(a._getItemsFromLoadedData(a._jsonData),a._jsonData=null,a._loadFinished=!0)}});b.extend(e,f);return e})},"redfin/search/common/_PhasedWidget":function(){define("redfin/search/common/_PhasedWidget",["dijit","dojo","dojox","dojo/require!dojo/cache,dojo/string,dojo/DeferredList,dijit/_TemplatedMixin,dijit/_Widget,redfin/common/mixins/_Adopt,redfin/common/PhantomUtils,redfin/search/common/RestrictedValueAccessor"],function(h,
b,e){b.provide("redfin.search.common._PhasedWidget");b.require("dojo.cache");b.require("dojo.string");b.require("dojo.DeferredList");b.require("dijit._TemplatedMixin");b.require("dijit._Widget");b.require("redfin.common.mixins._Adopt");b.require("redfin.common.PhantomUtils");b.require("redfin.search.common.RestrictedValueAccessor");b.declare("redfin.search.common._PhasedWidget",[h._Widget,h._TemplatedMixin,redfin.common.mixins._Adopt],{seo:!0,data:null,parser:null,_dataLoaderDeferreds:{},widgetsInTemplate:!1,
widgetsToCreate:null,_parserCreated:!1,restrictedValueAccessor:redfin.search.common.RestrictedValueAccessor,dataLoader:function(a,c,d){var g=[],f=b.hitch(this,function(a){this._dataLoaderDeferreds[a]||(this._dataLoaderDeferreds[a]=new b.Deferred,this._dataLoaderDeferreds[a].errback("No data loader for this URL: "+a))});b.isArray(a)?(b.forEach(a,function(a){f(a);g.push(this._dataLoaderDeferreds[a])},this),a=new b.DeferredList(g)):(f(a),a=this._dataLoaderDeferreds[a]);b.isFunction(c)&&(b.isFunction(d)?
(a.addCallback(b.hitch(this,c)),a.addErrback(b.hitch(this,d))):a.then(b.hitch(this,c),b.hitch(this,c)));return a},delayedAdopt:function(a,c,d,g){var f=b.hitch(this,function(){var f=this.adopt(b.getObject(a),c,d);b.isFunction(g)&&b.hitch(this,g)(f)});this.delayedAction(a,f)},delayedAction:function(a,c){b.exists(a)?c():this.parser.addDelayedAdoptToScan(a,b.hitch(this,c))},buildRendering:function(){this.widgetsInTemplate=!1;this.widgetsToCreate=[];this.inherited(arguments);this.scanDomNode()},scanDomNode:function(){this.domNode&&
(b.query("[dojoType]",this.domNode).forEach(function(a){this.widgetsToCreate.push(a)},this),b.query("[data-dojo-type]",this.domNode).forEach(function(a){this.widgetsToCreate.push(a)},this),b.query("[ga-push]",this.domNode).forEach(function(a){this.connect(a,"onclick",this.pushGA)},this))},pushGA:function(a){_gaq&&_gaq.push(eval(b.attr(a.currentTarget,"ga-push")))},startup:function(){this.inherited(arguments);this.scanChildrenForWidgets();return this},adopt:function(){var a=this.inherited(arguments);
this.parser&&this.parser.addAdminAwareWidget(a);return a},scanChildrenForWidgets:function(){if(this.parser){var a=[];b.forEach(this.widgetsToCreate,function(b){null===this.parser.createWidget(b,this)&&a.push(b)},this);0<a.length&&this.parser.addWidgetToScan(this);this.widgetsToCreate=a;this._parserCreated||(this.hasWidgetsToCreate()&&(this.parser.scan(this.id),this.parser.printUncreatedWidgets()),b.isFunction(this.adminPostCreate)&&this.parser.addAdminAwareWidget(this))}},hasWidgetsToCreate:function(){return 0<
this.widgetsToCreate.length},printUncreatedWidgets:function(){b.forEach(this.widgetsToCreate,function(a){console.error(a)},this)},getRestrictedValue:function(a,b){"string"===typeof a&&void 0==b&&(b=a,a=this.data);var d;this.data&&(d=this.data.get("accessLevelWrapper.userAccessLevel"));return redfin.search.common.RestrictedValueAccessor.getRestrictedValue(a,b,d)}})})},"redfin/homepage/widgets/MyRecommendationsWidget":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/MyRecommendationsWidget.html dojo/dom-class dojo/_base/lang dojo/when dojo/promise/all dojo/has dojo/on dojo/topic dojo/_base/event redfin/bouncer/Bouncer redfin/homepage/widgets/HomeInfoCardGrid redfin/common/ContactBoxService redfin/common/data/ObjectGraph redfin/search/common/_Spinner".split(" "),
function(h,b,e,a,c,d,g,f,k,l,m,p,n,q,r,t,u,w){return h("redfin.homepage.widgets.MyRecommendationsWidget",[b,e,a,w],{templateString:c,WEB_SERVER:g_webServerUrl,DEFAULT_SIZE:6,recommendationsData:null,_spinner:null,postCreate:function(){this.inherited(arguments);this._spinner=this.singleSpinner({width:6,radius:20,color:"#000"});this._spinner.spin(this.loadSpinner);f(this.recommendationsData,g.hitch(this,this.checkRecommendedHomes),g.hitch(this,this.showErrorState));p.subscribe("emptyGrid",g.hitch(this,
this.showGhostTown))},checkRecommendedHomes:function(a){a=a&&(new u(a.payload)).getRoot().recommendedHomes||[];if(0===a.length)this.showGhostTown();else{var b=new r({homeData:a,attachNode:this.containerNode,size:this.DEFAULT_SIZE,placeholder:!1,GAEvent:!0,eventAction:"Recommended_Item_Clicked"});this._spinner.stop(this.loadSpinner);d.remove(this.containerNode,"hidden");b.loadHomeInfoCards();for(var b=[],c=0;c<a.length;c++)null!==a[c].getListing()&&b.push(a[c].getListing().getId());0<b.length&&this.renderContactBox(b)}},
renderContactBox:function(a){(new t).getContactBox(this.contactBoxNode,{listingIds:a,algorithmType:g_contactBoxAlgorithmType.MULTIPLE_LISTINGS,presentationType:g_contactBoxPresentationType.MINIMAL,actionType:g_contactBoxActionType.CONTACT,placement:"Homepage Matchmaker",agentRequestText:"These listings came from homepage listings matchmaker.",maxAgents:1})},showGhostTown:function(){this._spinner.stop(this.loadSpinner);d.add(this.containerNode,"hidden");d.remove(this.ghostTownNode,"hidden");var a=
dojo.query(".contactBox");0<a.length&&d.add(a[0],"hidden")},showJoinTown:function(){this._spinner.stop(this.loadSpinner);d.add(this.containerNode,"hidden");d.remove(this.joinTownNode,"hidden");m(this.joinButton,"click",g.hitch(this,this.loginPopup,"join"));m(this.signinButton,"click",g.hitch(this,this.loginPopup,"signin"))},showErrorState:function(a){a.resultCode==g_apiResultCode.NOT_LOGGED_IN?this.showJoinTown():(this._spinner.stop(this.loadSpinner),this.containerNode.innerHTML="We're sorry, there was an error getting recommendations for you.\x3cbr/\x3ePlease try again later.")},
loginPopup:function(a){dojo.global._gaq&&dojo.global._gaq.push(["_trackEvent","Homepage","Recommendation_"+a+"_Clicked",null,null]);redfin.common.LoginPopup.showNewDialogIfNeeded({message:"homepage-matchmaker",view:a}).addCallback(g.hitch(this,function(){setTimeout(function(){window.location=g_webServerUrl},1E3)}))},containerNode:null,ghostTownNode:null,joinTownNode:null,joinButton:null,signinButton:null,loadSpinner:null,contactBoxNode:null})})},"dijit/form/ComboButton":function(){require({cache:{"url:dijit/form/templates/ComboButton.html":'\x3ctable class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tcellspacing\x3d\'0\' cellpadding\x3d\'0\' role\x3d"presentation"\n\t\x3e\x3ctbody role\x3d"presentation"\x3e\x3ctr role\x3d"presentation"\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitStretch dijitButtonNode" data-dojo-attach-point\x3d"buttonNode" data-dojo-attach-event\x3d"ondijitclick:_onClick,onkeypress:_onButtonKeyPress"\n\t\t\x3e\x3cdiv id\x3d"${id}_button" class\x3d"dijitReset dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"titleNode"\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode" role\x3d"presentation"\x3e\x3c/div\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInline dijitButtonText" id\x3d"${id}_label" data-dojo-attach-point\x3d"containerNode" role\x3d"presentation"\x3e\x3c/div\n\t\t\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd id\x3d"${id}_arrow" class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton\'\n\t\t\tdata-dojo-attach-point\x3d"_popupStateNode,focusNode,_buttonNode"\n\t\t\tdata-dojo-attach-event\x3d"onkeypress:_onArrowKeyPress"\n\t\t\ttitle\x3d"${optionsTitle}"\n\t\t\trole\x3d"button" aria-haspopup\x3d"true"\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitArrowButtonInner" role\x3d"presentation"\x3e\x3c/div\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitArrowButtonChar" role\x3d"presentation"\x3e\x26#9660;\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd style\x3d"display:none !important;"\n\t\t\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" data-dojo-attach-point\x3d"valueNode" role\x3d"presentation"\n\t\t/\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\n\x3e\x3c/table\x3e\n'}});
define("dijit/form/ComboButton","dojo/_base/declare dojo/_base/event dojo/keys ../focus ./DropDownButton dojo/text!./templates/ComboButton.html".split(" "),function(h,b,e,a,c,d){return h("dijit.form.ComboButton",c,{templateString:d,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{buttonNode:"dijitButtonNode",titleNode:"dijitButtonContents",_popupStateNode:"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyPress:function(c){if(c.charOrCode==
e[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"])a.focus(this._popupStateNode),b.stop(c)},_onArrowKeyPress:function(c){if(c.charOrCode==e[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"])a.focus(this.titleNode),b.stop(c)},focus:function(b){this.disabled||a.focus("start"==b?this.titleNode:this._popupStateNode)}})})},"redfin/google/googleLogin":function(){define("redfin/google/googleLogin",["dijit","dojo","dojox","dojo/require!dijit/_Widget,dijit/_TemplatedMixin,dojo/request/script,redfin/search/user_preferences,dojo/io/script"],
function(h,b,e){b.provide("redfin.google.googleLogin");b.require("dijit._Widget");b.require("dijit._TemplatedMixin");b.require("dojo.request.script");b.require("redfin.search.user_preferences");b.require("dojo.io.script");b.declare("redfin.google.googleLogin",[h._Widget,h._TemplatedMixin],{templateString:b.cache("redfin.google","templates/googleLogin.html","\x3cdiv id\x3d\"googleLogin\" class\x3d\"googleLoginButton\"\x3e\n\t\x3cspan id\x3d\"signinButton\" dojoAttachPoint\x3d\"signInButton\" registrationMode\x3d\"login\"\x3e\n\t\t  \x3cspan\n\t\t    class\x3d\"g-signin facebook\"\n\t\t    data-callback\x3d\"gPlusCallback\"\n\t\t    data-clientid\x3d\"${googleAppId}\"\n\t\t    data-cookiepolicy\x3d\"${unsecureWebServer}\"\n\t\t    data-requestvisibleactions\x3d\"http://schemas.google.com/AddActivity\"\n\t\t    data-redirecturi\x3d\"postmessage\"\n\t\t    data-apppackagename\x3d\"${androidPackageName}\"\n\t\t    data-accesstype\x3d\"offline\"\n\t\t    data-width\x3d\"${buttonWidth}\"\n\t\t    data-height\x3d\"${buttonHeight}\"\n\t\t    data-scope\x3d\"${scopes}\"\x3e\n\t\t  \x3c/span\x3e\n\t\x3c/span\x3e\n\n\t\x3cform method\x3d'post' dojoAttachPoint\x3d'mainForm' action\x3d\"${webServer}/stingray/do/login_google\"\x3e\n\t\t\x3cinput type\x3d'hidden' name\x3d'google_uid' dojoAttachPoint\x3d'googleUidInput' /\x3e\n\t\t\x3cinput type\x3d'hidden' name\x3d'google_access_token' dojoAttachPoint\x3d'googleAccessTokenInput' /\x3e\n\t\t\x3cinput type\x3d'hidden' name\x3d'google_expires_in' dojoAttachPoint\x3d'googleExpiresInInput' /\x3e\n\t\t\x3cinput type\x3d'hidden' name\x3d'facebook_perms' dojoAttachPoint\x3d'facebookPermsInput' /\x3e\n\t\t\x3cinput type\x3d\"hidden\" name\x3d'google_code' dojoAttachPoint\x3d'googleCodeInput' /\x3e\n\t\t\x3cinput type\x3d\"hidden\" name\x3d'redirect_path' dojoAttachPoint\x3d'redirectPathInput'  /\x3e\n\t\t\x3cinput type\x3d\"hidden\" name\x3d'registrationMode' dojoAttachPoint\x3d'registrationModeInput'  /\x3e\n\t\t\x3cinput type\x3d\"hidden\" name\x3d'requestMethod' dojoAttachPoint\x3d'requestMethodInput'  /\x3e\n\t\t\x3cinput type\x3d\"hidden\" name\x3d'autoLogin' dojoAttachPoint\x3d'autoLogin'  /\x3e\n\t\t\x3cinput type\x3d\"hidden\" name\x3d'regAlertsDesc' dojoAttachPoint\x3d'regAlertsDescInput'  /\x3e\n\t\t\x3cinput type\x3d\"hidden\" name\x3d'regAlertsParams' dojoAttachPoint\x3d'regAlertsParamsInput'  /\x3e\n\t\t\x3cinput type\x3d\"hidden\" name\x3d'regAlertsType' dojoAttachPoint\x3d'regAlertsTypeInput'  /\x3e\n\t\t\x3cinput type\x3d\"hidden\" name\x3d'bypassAcctCreatedPage' dojoAttachPoint\x3d'bypassAcctCreatedPageInput'  /\x3e\n\t\t\x3cinput type\x3d\"hidden\" name\x3d'registration_campaign_id' dojoAttachPoint\x3d'registrationCampaignIdInput'  /\x3e\n\t\t\x3cinput type\x3d\"hidden\" name\x3d'registration_reason' dojoAttachPoint\x3d'registrationReasonInput'  /\x3e\n\t\t\x3cinput type\x3d\"hidden\" name\x3d'registration_mode' dojoAttachPoint\x3d'registrationModeInput' /\x3e\n\t\t\x3cinput type\x3d\"hidden\" name\x3d'registration_campaign_url' dojoAttachPoint\x3d'registrationCampaignUrlInput'  /\x3e\n\t\t\x3cinput type\x3d\"hidden\" name\x3d'optInUpdates' dojoAttachPoint\x3d'optInUpdatesInput'  /\x3e\n\t\x3c/form\x3e\n\x3c/div\x3e\n"),
displayStyle:null,buttonWidth:"standard",buttonHeight:"standard",postType:null,isLoaded:!1,googleAppId:null,wasClicked:!1,registrationCampaignId:null,registrationReason:null,registrationMode:null,registrationCampaignUrl:null,optInUpdates:null,redirectPath:null,redirectMethod:null,optInUpdatesNode:null,regAlertsDesc:null,regAlertsParams:null,regAlertsType:null,shouldUseFishnetLogin:!1,bypassAcctCreatedPage:null,scopes:"https://www.googleapis.com/auth/plus.login https://www.googleapis.com/auth/userinfo.email",
webServer:g_secureWebServerUrl,unsecureWebServer:g_unsecureWebServerUrl,androidPackageName:"",loggedOut:null,buildRendering:function(){g_bouncer().isOn(g_feature.ANDROID_OVER_THE_AIR_INSTALLS)&&(this.androidPackageName="com.redfin.android");this.googleAppId||(this.googleAppId="undefined"!=typeof g_googleAppId?g_googleAppId:"597760556696.apps.googleusercontent.com");0===document.location.pathname.indexOf("/tools/login")&&(this.scopes+=" https://www.googleapis.com/auth/calendar");this.inherited(arguments);
this.connect(this.domNode,"onclick",b.hitch(this,function(a){this.wasClicked=!0}))},postCreate:function(){this.inherited(arguments);"standard"==this.buttonWidth?b.addClass(this.domNode,"standardWidth"):"wide"==this.buttonWidth&&b.addClass(this.domNode,"wideWidth");window.___gcfg={parsetags:"explicit"};b.io.script.get({url:"https://apis.google.com/js/client:plusone.js?onload\x3dOnLoadCallback",handleAs:"json"});window.setTimeout(b.hitch(this,function(){"undefined"!==typeof gapi&&OnLoadCallback()}),
200)},_onFinish:function(){1==redfin.ui.UserPreferences.getGoogleStatus()||2==redfin.ui.UserPreferences.getGoogleStatus()?b.publish("onSocialLoginSuccess"):3==redfin.ui.UserPreferences.getGoogleStatus()?(redfin.ui.UserPreferences.deleteGoogleStatus(),this.wasClicked?this.mainForm.submit():redfin.google.googleLogin.requestPending=!1):b.publish("onSocialLoginError",!0)},onGoogleApiLoad:function(a){},logUserInWithGoogle:function(a){this.displayStyle&&"userMenu"!=this.displayStyle&&(this.mainForm.action=
this.mainForm.action+"?displayStyle\x3d"+this.displayStyle);var c=this.optInUpdatesNode&&!this.optInUpdatesNode.checked?!1:!0;this.googleUidInput.value=a.client_id;this.googleCodeInput.value=a.code;this.googleAccessTokenInput.value=a.access_token?a.access_token:null;this.googleExpiresInInput.value=a.expires_in;this.redirectPathInput.value=this.redirectPath;this.requestMethodInput.value=this.redirectMethod;this.registrationCampaignIdInput.value=this.registrationCampaignId;this.registrationReasonInput.value=
this.registrationReason;this.registrationModeInput.value=this.registrationMode;this.registrationCampaignUrlInput.value=this.registrationCampaignUrl;this.optInUpdatesInput.value=c;this.regAlertsDescInput.value=this.regAlertsDesc;this.regAlertsParamsInput.value=this.regAlertsParams;this.regAlertsTypeInput.value=this.regAlertsType;this.bypassAcctCreatedPageInput.value=this.bypassAcctCreatedPage;"script"==this.postType?b.request.script(this.mainForm.action,{query:{google_uid:a.client_id,google_code:a.code,
google_access_token:a.access_token,google_expires_in:a.expires_in,bypassAcctCreatedPage:this.bypassAcctCreatedPage,registration_campaign_id:this.registrationCampaignId,registration_reason:this.registrationReason,registration_mode:this.registrationMode,registration_campaign_url:this.registrationCampaignUrl,optInUpdates:c,facebookLoginObjectId:this.id}}):this.mainForm.submit();this.onLoginDone()},onLoginDone:function(){}});gPlusCallback=function(a){if(a.access_token||a.code)for(var c=b.query(".googleLoginButton"),
d=0;d<c.length;d++){var g=h.byNode(c[d]);if("undefined"!=typeof g&&!1===redfin.google.googleLogin.requestPending&&(g.loggedOut&&gapi.auth.signOut(),!0==g.wasClicked||d==c.length-1&&!(0===document.location.pathname.indexOf("/stingray/do/my-redfin-pw-change")||0===document.location.pathname.indexOf("/stingray/do/logout")||0===document.location.pathname.indexOf("/stingray/do/password-reset")||0===document.location.pathname.indexOf("/stingray/do/forgot-password")||0===document.location.pathname.indexOf("/stingray/do/login_google")||
0===document.location.pathname.indexOf("/stingray/do/login"))))if(!0==g.wasClicked||0===document.location.pathname.indexOf("/tools/login")&&!g.shouldUseFishnetLogin||0!==document.location.pathname.indexOf("/tools/login"))redfin.google.googleLogin.requestPending=!0,g.logUserInWithGoogle(a),b.connect(g,"onLoginDone",b.hitch(this,function(){this.wasClicked=redfin.google.googleLogin.requestPending=!1}))}c=b.query(".googleLoginButton");for(d=0;d<c.length;d++)if(g=h.byNode(c[d]),"undefined"!=typeof g&&
(g.shouldUseFishnetLogin&&"false"!=g.shouldUseFishnetLogin)&&(c=b.query("button"),0<c.length))for(d=0;d<c.length;d++)"Sign in with Google"==c[d].innerHTML&&(c[d].onclick=b.hitch(g,function(a){b.stopEvent(a);this.wasClicked=!0;gapi.auth.authorize({client_id:this.googleAppId,login_hint:"admin.googleplus@redfin.com",scope:"https://www.googleapis.com/auth/plus.login https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/calendar",access_type:"offline",request_visible_action:"http://schemas.google.com/AddActivity",
cookie_policy:"single_host_origin",response_type:"code"},gPlusCallback)}))};OnLoadCallback=function(){for(var a=b.query(".googleLoginButton"),c=0;c<a.length;c++){var d=h.byNode(a[c]);d&&!d.isLoaded&&(d.isLoaded=!0,gapi.signin.go(d.domNode))}};redfin.google.googleLogin.requestPending=!1})},"redfin/common/mobile":function(){define("dojo/_base/lang dojo/_base/window dojo/dom-attr dojo/dom-class dojo/query redfin/common/has dojo/sniff".split(" "),function(h,b,e,a,c,d,g){var f={maxMobileScreenWidth:599,
maxTabletScreenWidth:980,enableMobilePage:function(f){h.mixin({tabletEnabled:!1},f||{});if(a.contains(b.body(),"mobile-enabled")){var l=l||b.doc;if(!f.tabletEnabled){var m=l.documentElement.clientWidth;m>this.maxMobileScreenWidth&&(f=c("meta[name\x3d'viewport']",l.head))&&f.forEach(function(a){var b=e.get(a,"content");m<=this.maxTabletScreenWidth&&(b=b.replace(/width=[^,]+/,"width\x3d"+this.maxTabletScreenWidth),b=b.replace(/initial-scale=[^,]+/,"initial-scale\x3d"+m/this.maxTabletScreenWidth));b=
b.replace(/maximum-scale=[^,]+/,"maximum-scale\x3d3.0");","===b.charAt(b.length-1)&&(b=b.substring(0,b.length-1));e.set(a,"content",b)},this)}d.add("mobile-enabled",function(){return g("android")||g("ios")||"function"===typeof window.matchMedia?599>=l.documentElement.clientWidth:!1})}}};h.setObject("redfin.mobile",f);return f})},"redfin/search/data/HomeBadgeDecorator":function(){define(["dijit","dojo","dojox","dojo/require!redfin/common/data/Model"],function(h,b,e){b.provide("redfin.search.data.HomeBadgeDecorator");
b.require("redfin.common.data.Model");b.declare("redfin.search.data.HomeBadgeDecorator",null,{node:null,prefix:"",constructor:function(a){a=a||{};this.node=a.node;this.prefix=a.prefix;this.model=new redfin.common.data.Model({hasAgc:a.hasAgc||!1,isOpenHouse:a.isOpenHouse||!1,favorite:a.favorite});this.model.on("change:hasAgc",b.hitch(this,this._updateNode));this.model.on("change:isOpenHouse",b.hitch(this,this._updateNode));this.model.on("change:favorite",b.hitch(this,this._onFavoriteChange))},set:function(a,
b,d){this.model.set(a,b,d)},_onFavoriteChange:function(){var a=this.model.get("favorite");a&&a.on("change:favoritePropertyType",b.hitch(this,this._updateNode));this._updateNode()},_updateNode:function(){node=b.byId(this.node);b.removeClass(node,[this.prefix+"xout",this.prefix+"fav",this.prefix+"agc"]);var a=this._getBadgeDecoratorCss();0<a.length?(b.addClass(node,this.prefix+a),b.removeClass(node,"hidden")):b.addClass(node,"hidden")},_getBadgeDecoratorCss:function(){var a="";this.model.get("favorite.isXout")?
a="xout":this.model.get("favorite.isFavorite")?a="fav":this.model.get("hasAgc")&&(a="agc");return a}})})},"url:redfin/search/widget/templates/SearchResultsStatusBox.html":'\x3cdiv class\x3d"searchResultsStatusBox" style\x3d"display:none"\x3e\n    \x3cdiv class\x3d"srsbBackground" dojoAttachPoint\x3d"srsbBackgroundNode"\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"srsbForeground" dojoAttachPoint\x3d"srsbForegroundNode"\x3e        \n        \x3cdiv class\x3d"srsbNumResults"\x3e\n            \x3cdiv class\x3d"srsbErrorImageContainer" dojoAttachPoint\x3d"srsbErrorImageNode" align\x3d"left"\x3e\n            \t\x3cimg class\x3d"srsbErrorImage" src\x3d"${IMAGE_SERVER}/images/clear.gif"/\x3e\n            \x3c/div\x3e\n            \x3cspan dojoAttachPoint\x3d"numResultsNode"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"srsbNumUnmapped" dojoAttachPoint\x3d"srsbNumUnmappedNode"\x3e\n            \x3cspan class\x3d"numUnmappedLink link" dojoAttachPoint\x3d"numUnmappedLink" onclick\x3d\'dijit.byId("status_unmapped_description").show();\'\x3e(\x3cspan dojoAttachPoint\x3d"numUnmappedNode"\x3e\x3c/span\x3e unmapped)\x3c/span\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"srsbError" dojoAttachPoint\x3d"srsbErrorNode"\x3e\n        \t\x3cspan class\x3d"srsbErrorStatus" dojoAttachPoint\x3d"srsbErrorStatusNode"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"srsbSearchingFor" dojoAttachPoint\x3d"srsbSearchingForNode"\x3e\n            Searching for:\n            \x3cdiv class\x3d"srsbPropTypeIcons" dojoAttachPoint\x3d"srsbPropTypeIconsNode"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"srsbSearchingForBlurb" dojoAttachPoint\x3d"srsbSearchingForBlurbNode"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"srsbNumFilters" dojoAttachPoint\x3d"srsbNumFiltersNodeContainer"\x3e+0 more filters\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"srsbButtons"\x3e\n            \x3cdiv class\x3d"srsbButton" dojoAttachPoint\x3d"srsbChangeFiltersLink" dojoAttachEvent\x3d"onclick:_changeFilters"\x3e\n                \x3cimg class\x3d"changeFilters" src\x3d"${IMAGE_SERVER}/images/clear.gif" /\x3e\n                \x3cdiv style\x3d"padding-left: 23px;"\x3eChange Search Options\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"srsbButton" dojoAttachPoint\x3d"srsbZoomInButton" dojoAttachEvent\x3d"onclick:_zoomIn"\x3e\n                \x3cimg class\x3d"srsbZoomIn" src\x3d"${IMAGE_SERVER}/images/clear.gif" /\x3e\n                \x3cdiv style\x3d"padding-top: 5px; padding-left: 23px;"\x3eZoom in\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"srsbButton" dojoAttachPoint\x3d"srsbZoomOutButton" dojoAttachEvent\x3d"onclick:_zoomOut"\x3e\n                \x3cimg class\x3d"srsbZoomOut" src\x3d"${IMAGE_SERVER}/images/clear.gif" /\x3e\n                \x3cdiv style\x3d"padding-top: 5px; padding-left: 23px;"\x3eZoom out\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv id\x3d"statusbox_email_action" class\x3d"srsbButton emailListings" dojoAttachPoint\x3d"emailListingsButton"\x3e\n                \x3cimg class\x3d"emailListings" src\x3d"${IMAGE_SERVER}/images/clear.gif" /\x3e\n                \x3cdiv\x3e\n                  \x3cdiv style\x3d"float:left; width:1px; overflow:visible"\x3eInstant Updates\x3c/div\x3e\n                  \x3cimg dojoAttachPoint\x3d"emailListingsButtonToggle" class\x3d"rightImage emailListingsSwitchOffV2" src\x3d"${IMAGE_SERVER}/images/clear.gif" /\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \n            \x3cdiv class\x3d"srsbButton" dojoAttachPoint\x3d"removeOutlineButton" dojoAttachEvent\x3d"onclick:_clearPolygonSearch"\x3e\n                \x3cimg class\x3d"removeRegion" src\x3d"${IMAGE_SERVER}/images/clear.gif" /\x3e\n                \x3cdiv\x3eRemove Map Outline\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"srsbButton" dojoAttachPoint\x3d"redoSearchInAreaButton" dojoAttachEvent\x3d"onclick:_clearPolygonSearch"\x3e\n                \x3cimg class\x3d"ico_list_for_sale" src\x3d"${IMAGE_SERVER}/images/clear.gif" /\x3e\n                \x3cdiv\x3eShow All Homes on Map\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"srsbButton" dojoAttachPoint\x3d"statsAndTrendsButton" dojoAttachEvent\x3d"onclick:_showStatsTrendsOrSchool"\x3e\n                \x3cimg class\x3d"statsTrends" src\x3d"${IMAGE_SERVER}/images/clear.gif" /\x3e\n                \x3cdiv style\x3d"padding-left: 20px;"\x3e\n                \t\x3cspan dojoAttachPoint\x3d"regionNameNode" class\x3d"srsbRegionName"\x3e\x3c/span\x3e\x3cbr /\x3eStats \x26amp; Trends\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"srsbButton" dojoAttachPoint\x3d"schoolButton" dojoAttachEvent\x3d"onclick:_showStatsTrendsOrSchool"\x3e\n            \t\x3cimg class\x3d"schoolImg" src\x3d"${IMAGE_SERVER}/images/clear.gif" /\x3e\x3cdiv style\x3d"padding-left: 20px;"\x3e\x3cspan dojoAttachPoint\x3d"schoolNameNode" class\x3d"srsbRegionName"\x3e\x3c/span\x3e\x3cbr /\x3eSchool Details\x3c/div\x3e\n            \x3c/div\x3e                                    \n            \x3cdiv id\x3d"srsb_login_button" class\x3d"srsbButton" dojoAttachPoint\x3d"srsbLoginButton" dojoAttachEvent\x3d"onclick:_showLogin"\x3e\n                \x3cimg class\x3d"srsbShowLogin" src\x3d"${IMAGE_SERVER}/images/clear.gif" /\x3e\n                \x3cdiv style\x3d"padding-left: 23px;"\x3eSign in to See All Listings\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv id\x3d"srsb_terms_button" class\x3d"srsbButton" dojoAttachPoint\x3d"srsbTermsButton" dojoAttachEvent\x3d"onclick:_termsOkay"\x3e\n                \x3cimg class\x3d"srsbShowLogin" src\x3d"${IMAGE_SERVER}/images/clear.gif" /\x3e\n                \x3cdiv style\x3d"padding-left: 23px;"\x3eShow Me All Listings\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \n    \x3c/div\x3e\n\x3c/div\x3e',
"redfin/search/map/PerformanceTiming":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/request"],function(h,b,e){h=h("redfin.search.map.PerformanceTiming",null,{});b.mixin(redfin.search.map.PerformanceTiming,{GIS_SEARCH_TIMING_NAME:"gis_search",LOCATION_SEARCH_TIMING_NAME:"location_search",__inflightPerformanceTimings:{},startPerformanceTiming:function(a){EPISODES.recording&&(redfin.search.map.PerformanceTiming.__inflightPerformanceTimings[a]=(new Date).getTime())},endPerformanceTiming:function(a){var b=
redfin.search.map.PerformanceTiming;if(EPISODES.recording&&b.__inflightPerformanceTimings[a]){var d=(new Date).getTime()-b.__inflightPerformanceTimings[a];delete b.__inflightPerformanceTimings[a];e("/stingray/clicktracker.jsp?category\x3dredfin.search.perf\x26action\x3d"+a+"\x26ms\x3d"+d,{method:"GET"})}}});return h})},"dojox/html/entities":function(){define("dojox/html/entities",["dojo/_base/lang"],function(h){var b=h.getObject("dojox.html.entities",!0),e=function(a,b){var g,f;if(b._encCache&&b._encCache.regexp&&
b._encCache.mapper&&b.length==b._encCache.length)g=b._encCache.mapper,f=b._encCache.regexp;else{g={};f=["["];var k;for(k=0;k<b.length;k++)g[b[k][0]]="\x26"+b[k][1]+";",f.push(b[k][0]);f.push("]");f=RegExp(f.join(""),"g");b._encCache={mapper:g,regexp:f,length:b.length}}return a=a.replace(f,function(a){return g[a]})},a=function(a,b){var g,f;if(b._decCache&&b._decCache.regexp&&b._decCache.mapper&&b.length==b._decCache.length)g=b._decCache.mapper,f=b._decCache.regexp;else{g={};f=["("];var k;for(k=0;k<
b.length;k++){var l="\x26"+b[k][1]+";";k&&f.push("|");g[l]=b[k][0];f.push(l)}f.push(")");f=RegExp(f.join(""),"g");b._decCache={mapper:g,regexp:f,length:b.length}}return a=a.replace(f,function(a){return g[a]})};b.html=[["\x26","amp"],['"',"quot"],["\x3c","lt"],["\x3e","gt"],["\u00a0","nbsp"]];b.latin=[["\u00a1","iexcl"],["\u00a2","cent"],["\u00a3","pound"],["\u20ac","euro"],["\u00a4","curren"],["\u00a5","yen"],["\u00a6","brvbar"],["\u00a7","sect"],["\u00a8","uml"],["\u00a9","copy"],["\u00aa","ordf"],
["\u00ab","laquo"],["\u00ac","not"],["\u00ad","shy"],["\u00ae","reg"],["\u00af","macr"],["\u00b0","deg"],["\u00b1","plusmn"],["\u00b2","sup2"],["\u00b3","sup3"],["\u00b4","acute"],["\u00b5","micro"],["\u00b6","para"],["\u00b7","middot"],["\u00b8","cedil"],["\u00b9","sup1"],["\u00ba","ordm"],["\u00bb","raquo"],["\u00bc","frac14"],["\u00bd","frac12"],["\u00be","frac34"],["\u00bf","iquest"],["\u00c0","Agrave"],["\u00c1","Aacute"],["\u00c2","Acirc"],["\u00c3","Atilde"],["\u00c4","Auml"],["\u00c5","Aring"],
["\u00c6","AElig"],["\u00c7","Ccedil"],["\u00c8","Egrave"],["\u00c9","Eacute"],["\u00ca","Ecirc"],["\u00cb","Euml"],["\u00cc","Igrave"],["\u00cd","Iacute"],["\u00ce","Icirc"],["\u00cf","Iuml"],["\u00d0","ETH"],["\u00d1","Ntilde"],["\u00d2","Ograve"],["\u00d3","Oacute"],["\u00d4","Ocirc"],["\u00d5","Otilde"],["\u00d6","Ouml"],["\u00d7","times"],["\u00d8","Oslash"],["\u00d9","Ugrave"],["\u00da","Uacute"],["\u00db","Ucirc"],["\u00dc","Uuml"],["\u00dd","Yacute"],["\u00de","THORN"],["\u00df","szlig"],
["\u00e0","agrave"],["\u00e1","aacute"],["\u00e2","acirc"],["\u00e3","atilde"],["\u00e4","auml"],["\u00e5","aring"],["\u00e6","aelig"],["\u00e7","ccedil"],["\u00e8","egrave"],["\u00e9","eacute"],["\u00ea","ecirc"],["\u00eb","euml"],["\u00ec","igrave"],["\u00ed","iacute"],["\u00ee","icirc"],["\u00ef","iuml"],["\u00f0","eth"],["\u00f1","ntilde"],["\u00f2","ograve"],["\u00f3","oacute"],["\u00f4","ocirc"],["\u00f5","otilde"],["\u00f6","ouml"],["\u00f7","divide"],["\u00f8","oslash"],["\u00f9","ugrave"],
["\u00fa","uacute"],["\u00fb","ucirc"],["\u00fc","uuml"],["\u00fd","yacute"],["\u00fe","thorn"],["\u00ff","yuml"],["\u0192","fnof"],["\u0391","Alpha"],["\u0392","Beta"],["\u0393","Gamma"],["\u0394","Delta"],["\u0395","Epsilon"],["\u0396","Zeta"],["\u0397","Eta"],["\u0398","Theta"],["\u0399","Iota"],["\u039a","Kappa"],["\u039b","Lambda"],["\u039c","Mu"],["\u039d","Nu"],["\u039e","Xi"],["\u039f","Omicron"],["\u03a0","Pi"],["\u03a1","Rho"],["\u03a3","Sigma"],["\u03a4","Tau"],["\u03a5","Upsilon"],["\u03a6",
"Phi"],["\u03a7","Chi"],["\u03a8","Psi"],["\u03a9","Omega"],["\u03b1","alpha"],["\u03b2","beta"],["\u03b3","gamma"],["\u03b4","delta"],["\u03b5","epsilon"],["\u03b6","zeta"],["\u03b7","eta"],["\u03b8","theta"],["\u03b9","iota"],["\u03ba","kappa"],["\u03bb","lambda"],["\u03bc","mu"],["\u03bd","nu"],["\u03be","xi"],["\u03bf","omicron"],["\u03c0","pi"],["\u03c1","rho"],["\u03c2","sigmaf"],["\u03c3","sigma"],["\u03c4","tau"],["\u03c5","upsilon"],["\u03c6","phi"],["\u03c7","chi"],["\u03c8","psi"],["\u03c9",
"omega"],["\u03d1","thetasym"],["\u03d2","upsih"],["\u03d6","piv"],["\u2022","bull"],["\u2026","hellip"],["\u2032","prime"],["\u2033","Prime"],["\u203e","oline"],["\u2044","frasl"],["\u2118","weierp"],["\u2111","image"],["\u211c","real"],["\u2122","trade"],["\u2135","alefsym"],["\u2190","larr"],["\u2191","uarr"],["\u2192","rarr"],["\u2193","darr"],["\u2194","harr"],["\u21b5","crarr"],["\u21d0","lArr"],["\u21d1","uArr"],["\u21d2","rArr"],["\u21d3","dArr"],["\u21d4","hArr"],["\u2200","forall"],["\u2202",
"part"],["\u2203","exist"],["\u2205","empty"],["\u2207","nabla"],["\u2208","isin"],["\u2209","notin"],["\u220b","ni"],["\u220f","prod"],["\u2211","sum"],["\u2212","minus"],["\u2217","lowast"],["\u221a","radic"],["\u221d","prop"],["\u221e","infin"],["\u2220","ang"],["\u2227","and"],["\u2228","or"],["\u2229","cap"],["\u222a","cup"],["\u222b","int"],["\u2234","there4"],["\u223c","sim"],["\u2245","cong"],["\u2248","asymp"],["\u2260","ne"],["\u2261","equiv"],["\u2264","le"],["\u2265","ge"],["\u2282","sub"],
["\u2283","sup"],["\u2284","nsub"],["\u2286","sube"],["\u2287","supe"],["\u2295","oplus"],["\u2297","otimes"],["\u22a5","perp"],["\u22c5","sdot"],["\u2308","lceil"],["\u2309","rceil"],["\u230a","lfloor"],["\u230b","rfloor"],["\u2329","lang"],["\u232a","rang"],["\u25ca","loz"],["\u2660","spades"],["\u2663","clubs"],["\u2665","hearts"],["\u2666","diams"],["\u0152","Elig"],["\u0153","oelig"],["\u0160","Scaron"],["\u0161","scaron"],["\u0178","Yuml"],["\u02c6","circ"],["\u02dc","tilde"],["\u2002","ensp"],
["\u2003","emsp"],["\u2009","thinsp"],["\u200c","zwnj"],["\u200d","zwj"],["\u200e","lrm"],["\u200f","rlm"],["\u2013","ndash"],["\u2014","mdash"],["\u2018","lsquo"],["\u2019","rsquo"],["\u201a","sbquo"],["\u201c","ldquo"],["\u201d","rdquo"],["\u201e","bdquo"],["\u2020","dagger"],["\u2021","Dagger"],["\u2030","permil"],["\u2039","lsaquo"],["\u203a","rsaquo"]];b.encode=function(a,d){a&&(d?a=e(a,d):(a=e(a,b.html),a=e(a,b.latin)));return a};b.decode=function(c,d){c&&(d?c=a(c,d):(c=a(c,b.html),c=a(c,b.latin)));
return c};return b})},"dojo/touch":function(){define("./_base/kernel ./_base/lang ./aspect ./dom ./on ./has ./mouse ./ready ./_base/window".split(" "),function(h,b,e,a,c,d,g,f,k){function l(a){return function(b,f){return c(b,a,f)}}e=d("touch");var m=!1;d("ios")&&(d=navigator.userAgent.match(/OS ([\d_]+)/)?RegExp.$1:"1",m=5>parseFloat(d.replace(/_/,".").replace(/_/g,"")));var p,n;e&&(f(function(){n=k.body();k.doc.addEventListener("touchstart",function(a){var b=n;n=a.target;c.emit(b,"dojotouchout",
{target:b,relatedTarget:n,bubbles:!0});c.emit(n,"dojotouchover",{target:n,relatedTarget:b,bubbles:!0})},!0);c(k.doc,"touchmove",function(a){if((a=k.doc.elementFromPoint(a.pageX-(m?0:k.global.pageXOffset),a.pageY-(m?0:k.global.pageYOffset)))&&n!==a)c.emit(n,"dojotouchout",{target:n,relatedTarget:a,bubbles:!0}),c.emit(a,"dojotouchover",{target:a,relatedTarget:n,bubbles:!0}),n=a})}),p=function(f,d){return c(k.doc,"touchmove",function(c){(f===k.doc||a.isDescendant(n,f))&&d.call(this,b.mixin({},c,{target:n,
touches:c.touches,preventDefault:function(){c.preventDefault()},stopPropagation:function(){c.stopPropagation()}}))})});g={press:l(e?"touchstart":"mousedown"),move:e?p:l("mousemove"),release:l(e?"touchend":"mouseup"),cancel:e?l("touchcancel"):g.leave,over:l(e?"dojotouchover":"mouseover"),out:l(e?"dojotouchout":"mouseout"),enter:g._eventHandler(e?"dojotouchover":"mouseover"),leave:g._eventHandler(e?"dojotouchout":"mouseout")};return h.touch=g})},"dojo/cache":function(){define(["./_base/kernel","./text"],
function(h){return h.cache})},"redfin/search/SearchStorage":function(){define(["dijit","dojo","dojox"],function(h,b,e){b.provide("redfin.search.SearchStorage");b.declare("redfin.search.SearchStorage",null,{LAST_SEARCH:"lastSearch",BOUNDING_BOX:"bounding_box",cookieDomain:"."+window.location.host,lastSearch:function(a){return a&&0<a.length?b.cookie(this.LAST_SEARCH,this.fixUrlForLastSearch(a),{expires:3650,path:"/",domain:cookieDomain}):b.cookie(this.LAST_SEARCH)},setBoundingBox:function(a){a?b.cookie(this.BOUNDING_BOX,
a.minlong+","+a.minlat+","+a.maxlong+","+a.maxlat,{expires:3650,path:"/",domain:cookieDomain}):b.cookie(this.BOUNDING_BOX,null,{expires:-1,path:"/",domain:cookieDomain})},getBoundingBox:function(){return b.cookie(this.BOUNDING_BOX)},fixUrlForLastSearch:function(a){return a.replace(/&prompt_save=\w/,"")}})})},"redfin/common/widgets/contactBox/ContactBoxQuestionForm":function(){define("dojo dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-class dojo/dom-attr dojo/dom-style dojo/on dojo/topic dojo/data/ItemFileWriteStore dojo/text!redfin/common/widgets/contactBox/templates/ContactBoxQuestionForm.html dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/FilteringSelect redfin/common/widgets/contactBox/ContactBoxComponentMixin redfin/common/mixins/_Adopt redfin/search/common/_Spinner redfin/common/widgets/contactBox/ContactBoxButton redfin/search/common/mixins/_HintTextMixin dojo/has redfin/common/elements/form/Select redfin/common/elements/form/TextArea redfin/bouncer/Bouncer".split(" "),
function(h,b,e,a,c,d,g,f,k,l,m,p,n,q,r,t,u,w,v,x,s,y,C,A){return b("redfin.common.widgets.contactBox.ContactBoxQuestionForm",[p,n,t,q,u,w],{templateString:m,gaTrackingMethod:this.trackAgentRecEvent,gaActionLabel:"Select disambig link - default",agentFirstName:"This agent",chooserUrl:"",disabled:!1,isSubmittable:!1,THIS_HOME:{value:g_agentServiceType.THIS_HOME,label:"This home"},HOME_BUYING:{value:g_agentServiceType.HOME_BUYING,label:"Home buying"},HOW_REDFIN_WORKS:{value:g_agentServiceType.HOW_REDFIN_WORKS,
label:"How Redfin works"},TOUR_HOME:{value:g_agentServiceType.TOUR_HOME,label:"Touring this home"},MAKE_AN_OFFER:{value:g_agentServiceType.MAKE_AN_OFFER,label:"Making an offer"},HOME_SELLING:{value:g_agentServiceType.HOME_SELLING,label:"Selling my home"},SOMETHING_ELSE:{value:g_agentServiceType.SMTH_ELSE,label:"Something else"},data:null,postMixInProperties:function(){x.hasPlaceholderSupport()||a.mixin(this,x)},postCreate:function(){if(this.data){if(showBottomBorder=!s("mobile-enabled")&&"Classic:LDP Main"==
this.data.gaCategory&&(A.isOn(g_feature.CONTACT_BOX_HEADER_MINIMIZATION_AGENT_INTRO_EXPERIMENT)||A.isOn(g_feature.CONTACT_BOX_HEADER_MINIMIZATION_AGENT_INTRO_EXPERIMENT_GCE)))(variationIsMinimizedHeader=this.data.experimentController&&"Minimized_Header_Contact_Box"==this.data.experimentController.getVariant()||this.data.gceExperimentVariation&&"1"==this.data.gceExperimentVariation)&&c.add(this.content,"contactBoxQuestionFormBottomBorder");!s("mobile-enabled")&&("Classic:LDP Main"==this.data.gaCategory&&
this.runNewPhotographyExperiment())&&this.connect(this.buttonNode,"onclick",function(){k.publish("onSuccessfulContactBoxConversion","click_contact_box_ask_a_question_form_ask_now_button")});if(this.runContactBoxForContactBoxQuestionFormOnSDPExperiment()||this.runAskAnAgentAsALinkExperiment())this.connect(this.buttonNode,"onclick",function(){k.publish("onSuccessfulContactBoxConversion","click_contact_box_ask_a_question_form_ask_now_button")}),this.connect(this,"_ontextInputFocus",function(){k.publish("onSuccessfulContactBoxConversion",
"click_contact_box_ask_a_question_form")});e.forEach(this.data.classes,a.hitch(this,function(a){h.addClass(this.content,a)}));if(s("mobile-enabled")){var b="";(this.disabled=!0===this.data.disabled)&&(b=this.data.isCensorAgentName?"This agent is not available for questions":this.data.agentFirstName+" is not available for questions");this.isSubmittable=!0===this.data.isSubmittable;b=this.data.agentFirstName?"Ask "+this.data.agentFirstName+" a question here...":"Ask this agent a question here...";this.questionField=
this.adopt(C,{maxLength:5E3,warnLength:4999,hint:b},this.textInputNode);if(this.disabled){this.questionField.set("disabled",!0);return}this._setupMobileQuestionTypes();this._attachMobileConnects();this.editNode=this.questionField}else{if(this.disabled=!0===this.data.disabled){this.textInputNode.placeholder=this.data.isCensorAgentName?"This agent is not available for questions":this.data.agentFirstName+" is not available for questions";this.textInputNode.disabled=!0;return}this.isSubmittable=!0===
this.data.isSubmittable;this.textInputNode.placeholder=this.data.agentFirstName?"Ask "+this.data.agentFirstName+" a question here...":"Ask this agent a question here...";x.hasPlaceholderSupport()||this._setupHint(this.textInputNode,this.textInputNode.placeholder);this._setupQuestionTypes();this._attachConnects();this.editNode=this.textInputNode}this.onDisplay()}},onDisplay:function(){this.gaEventMap["Display:Ask_Box"]||(this.gaEventMap["Display:Ask_Box"]=!0,this._trackEvent("Display:Ask_Box"))},onHide:function(){this._collapseAskQuestion()},
_setupQuestionTypes:function(){var a={value:g_agentServiceType.BE_MY_AGENT,label:"I'd like "+(this.data.isCensorAgentName||!this.data.agentFirstName?"this agent":this.data.agentFirstName)+" to be my agent",gaLabel:"Agent"},b=[this.THIS_HOME,this.HOME_BUYING,this.HOW_REDFIN_WORKS,this.TOUR_HOME,this.MAKE_AN_OFFER,this.HOME_SELLING,a,this.SOMETHING_ELSE];this.runContactBoxForContactBoxQuestionFormOnSDPExperiment&&this.isOnSDP()&&(b=[this.THIS_HOME,this.HOME_BUYING,this.HOW_REDFIN_WORKS,this.HOME_SELLING,
a,this.SOMETHING_ELSE]);a=new l({data:{identifier:"value",label:"label",items:b}});this.questionType=new r({name:"questionType",store:a,searchAttr:"label",placeHolder:"My question is about...",value:"",required:!1,_onFocus:function(){}});this.questionType.set("readonly",!0);this.questionType.placeAt(this.questionTypeContainer)},_setupMobileQuestionTypes:function(){this.questionType=new y({name:"questionType",value:null,options:[this.THIS_HOME,this.HOME_BUYING,this.HOW_REDFIN_WORKS,this.TOUR_HOME,
this.MAKE_AN_OFFER,this.HOME_SELLING,{value:g_agentServiceType.BE_MY_AGENT,label:"I'd like "+(this.data.isCensorAgentName||!this.data.agentFirstName?"this agent":this.data.agentFirstName)+" to be my agent"},this.SOMETHING_ELSE],defaultOption:!0,defaultOptionLabel:"My question is about...",showDefaultOptionLabel:!0,allowCustomValue:!0});this.questionType.placeAt(this.questionTypeContainer)},_attachConnects:function(){f(this.textInputNode,"focus",a.hitch(this,this._ontextInputFocus));f(this.questionType.domNode,
"click",a.hitch(this,this._onQuestionTypeClick));f(this.textInputNode,"keyup",a.hitch(this,this._validateAgentNotes));f(this.submitButton,"click",a.hitch(this,this._onSubmit))},_attachMobileConnects:function(){f(this.questionField,"focus",a.hitch(this,this._ontextInputFocus));f(this.submitButton,"click",a.hitch(this,this._onSubmit))},_ontextInputFocus:function(){this.expanded=!0;this.gaEventMap["Click:Ask_Question_Box"]||(this.gaEventMap["Click:Ask_Question_Box"]=!0,this._trackEvent("Click:Ask_Question_Box"));
c.remove(this.questionTypeContainer,"hidden");c.remove(this.buttonNode,"hidden");c.add(this.editNode,"text-input-editing");var a=h.byId("buyBoxNode");a&&c.add(a,"askingQuestion")},_onQuestionTypeClick:function(){this.questionType.loadAndOpenDropDown()},_collapseAskQuestion:function(a){this.expanded&&(c.add(this.questionTypeContainer,"hidden"),c.add(this.buttonNode,"hidden"),c.remove(this.editNode,"text-input-editing"),(a=h.byId("buyBoxNode"))&&c.remove(a,"askingQuestion"),this.expanded=!1)},_validateAgentNotes:function(){5E3>=
this.textInputNode.value.length?(c.add(this.textInputErrorNode,"hidden"),this.isSubmittable=!0):(c.remove(this.textInputErrorNode,"hidden"),this.textInputLengthNode.innerHTML=this.textInputNode.value.length,this.isSubmittable=!1)},_onSubmit:function(){this._validateAgentNotes();if(!this._submitting&&this.isSubmittable){var b=this.questionType.value?this.questionType.value:this.SOMETHING_ELSE.value;this.gaEventMap["Click:Ask_Question_Submit"]||(this.gaEventMap["Click:Ask_Question_Submit"]=!0,this._trackEvent("Click:Ask_Question_Submit"));
var c="";s("mobile-enabled")?c=this.questionField.get("value"):(this.textInputNode.value==d.get(this.textInputNode,"placeholder")&&(this.textInputNode.value=""),c=this.textInputNode.value);c=a.trim(c);b=g_secureWebServerUrl+this.data.chooserUrl+"\x26agentServiceType\x3d"+b+"\x26serviceType\x3d";b=s("mobile-enabled")?b+g_customerActions.AGENT_REQUEST_MOBILE_WEB:b+g_customerActions.AGENT_REQUEST;this.askQuestionForm.action=b;this.questionNode.value=dojox.html.entities.encode(c);this._submitting=!0;
this.showOrHideSaveSpinner();this._submitForm()}},_submitForm:function(){setTimeout(a.hitch(this,function(){this.askQuestionForm.submit()}),10)},showOrHideSaveSpinner:function(){null==this._submittingSpinner&&(this._submittingSpinner=this.createSpinner({top:3,left:-4},this.spinnerNode));if(this._submitting){var a=h.contentBox(this.spinnerNode);g.set(this.spinnerNode,"height",a.h+"px");g.set(this.spinnerNode,"width",a.w+"px");this._submittingSpinner.spin(this.spinnerNode);c.remove(this.submitButton,
"clickable");c.add(this.submitButton,"disabled");c.remove(this.spinnerNode,"button-arrow-right-blue")}else this._submittingSpinner.stop(),g.set(this.spinnerNode,"height",null),g.set(this.spinnerNode,"width",null),c.add(this.submitButton,"clickable"),c.remove(this.submitButton,"disabled"),c.add(this.spinnerNode,"button-arrow-right-blue")}})})},"url:dojox/date/zoneinfo/northamerica":"Rule\tUS\t1918\t1919\t-\tMar\tlastSun\t2:00\t1:00\tD\nRule\tUS\t1918\t1919\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tUS\t1942\tonly\t-\tFeb\t9\t2:00\t1:00\tW # War\nRule\tUS\t1945\tonly\t-\tAug\t14\t23:00u\t1:00\tP # Peace\nRule\tUS\t1945\tonly\t-\tSep\t30\t2:00\t0\tS\nRule\tUS\t1967\t2006\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tUS\t1967\t1973\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tUS\t1974\tonly\t-\tJan\t6\t2:00\t1:00\tD\nRule\tUS\t1975\tonly\t-\tFeb\t23\t2:00\t1:00\tD\nRule\tUS\t1976\t1986\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tUS\t1987\t2006\t-\tApr\tSun\x3e\x3d1\t2:00\t1:00\tD\nRule\tUS\t2007\tmax\t-\tMar\tSun\x3e\x3d8\t2:00\t1:00\tD\nRule\tUS\t2007\tmax\t-\tNov\tSun\x3e\x3d1\t2:00\t0\tS\nZone\tEST\t\t -5:00\t-\tEST\nZone\tMST\t\t -7:00\t-\tMST\nZone\tHST\t\t-10:00\t-\tHST\nZone\tEST5EDT\t\t -5:00\tUS\tE%sT\nZone\tCST6CDT\t\t -6:00\tUS\tC%sT\nZone\tMST7MDT\t\t -7:00\tUS\tM%sT\nZone\tPST8PDT\t\t -8:00\tUS\tP%sT\nRule\tNYC\t1920\tonly\t-\tMar\tlastSun\t2:00\t1:00\tD\nRule\tNYC\t1920\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tNYC\t1921\t1966\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tNYC\t1921\t1954\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tNYC\t1955\t1966\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/New_York\t-4:56:02 -\tLMT\t1883 Nov 18 12:03:58\n\t\t\t-5:00\tUS\tE%sT\t1920\n\t\t\t-5:00\tNYC\tE%sT\t1942\n\t\t\t-5:00\tUS\tE%sT\t1946\n\t\t\t-5:00\tNYC\tE%sT\t1967\n\t\t\t-5:00\tUS\tE%sT\nRule\tChicago\t1920\tonly\t-\tJun\t13\t2:00\t1:00\tD\nRule\tChicago\t1920\t1921\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tChicago\t1921\tonly\t-\tMar\tlastSun\t2:00\t1:00\tD\nRule\tChicago\t1922\t1966\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tChicago\t1922\t1954\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tChicago\t1955\t1966\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Chicago\t-5:50:36 -\tLMT\t1883 Nov 18 12:09:24\n\t\t\t-6:00\tUS\tC%sT\t1920\n\t\t\t-6:00\tChicago\tC%sT\t1936 Mar  1 2:00\n\t\t\t-5:00\t-\tEST\t1936 Nov 15 2:00\n\t\t\t-6:00\tChicago\tC%sT\t1942\n\t\t\t-6:00\tUS\tC%sT\t1946\n\t\t\t-6:00\tChicago\tC%sT\t1967\n\t\t\t-6:00\tUS\tC%sT\nZone America/North_Dakota/Center -6:45:12 - LMT\t1883 Nov 18 12:14:48\n\t\t\t-7:00\tUS\tM%sT\t1992 Oct 25 02:00\n\t\t\t-6:00\tUS\tC%sT\nZone America/North_Dakota/New_Salem -6:45:39 - LMT 1883 Nov 18 12:14:21\n\t\t\t-7:00\tUS\tM%sT\t2003 Oct 26 02:00\n\t\t\t-6:00\tUS\tC%sT\nRule\tDenver\t1920\t1921\t-\tMar\tlastSun\t2:00\t1:00\tD\nRule\tDenver\t1920\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tDenver\t1921\tonly\t-\tMay\t22\t2:00\t0\tS\nRule\tDenver\t1965\t1966\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tDenver\t1965\t1966\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Denver\t-6:59:56 -\tLMT\t1883 Nov 18 12:00:04\n\t\t\t-7:00\tUS\tM%sT\t1920\n\t\t\t-7:00\tDenver\tM%sT\t1942\n\t\t\t-7:00\tUS\tM%sT\t1946\n\t\t\t-7:00\tDenver\tM%sT\t1967\n\t\t\t-7:00\tUS\tM%sT\nRule\tCA\t1948\tonly\t-\tMar\t14\t2:00\t1:00\tD\nRule\tCA\t1949\tonly\t-\tJan\t 1\t2:00\t0\tS\nRule\tCA\t1950\t1966\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tCA\t1950\t1961\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tCA\t1962\t1966\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Los_Angeles -7:52:58 -\tLMT\t1883 Nov 18 12:07:02\n\t\t\t-8:00\tUS\tP%sT\t1946\n\t\t\t-8:00\tCA\tP%sT\t1967\n\t\t\t-8:00\tUS\tP%sT\nZone America/Juneau\t 15:02:19 -\tLMT\t1867 Oct 18\n\t\t\t -8:57:41 -\tLMT\t1900 Aug 20 12:00\n\t\t\t -8:00\t-\tPST\t1942\n\t\t\t -8:00\tUS\tP%sT\t1946\n\t\t\t -8:00\t-\tPST\t1969\n\t\t\t -8:00\tUS\tP%sT\t1983 Oct 30 2:00\n\t\t\t -9:00\tUS\tY%sT\t1983 Nov 30\n\t\t\t -9:00\tUS\tAK%sT\nZone America/Yakutat\t 14:41:05 -\tLMT\t1867 Oct 18\n\t\t\t -9:18:55 -\tLMT\t1900 Aug 20 12:00\n\t\t\t -9:00\t-\tYST\t1942\n\t\t\t -9:00\tUS\tY%sT\t1946\n\t\t\t -9:00\t-\tYST\t1969\n\t\t\t -9:00\tUS\tY%sT\t1983 Nov 30\n\t\t\t -9:00\tUS\tAK%sT\nZone America/Anchorage\t 14:00:24 -\tLMT\t1867 Oct 18\n\t\t\t -9:59:36 -\tLMT\t1900 Aug 20 12:00\n\t\t\t-10:00\t-\tCAT\t1942\n\t\t\t-10:00\tUS\tCAT/CAWT 1945 Aug 14 23:00u\n\t\t\t-10:00\tUS\tCAT/CAPT 1946 # Peace\n\t\t\t-10:00\t-\tCAT\t1967 Apr\n\t\t\t-10:00\t-\tAHST\t1969\n\t\t\t-10:00\tUS\tAH%sT\t1983 Oct 30 2:00\n\t\t\t -9:00\tUS\tY%sT\t1983 Nov 30\n\t\t\t -9:00\tUS\tAK%sT\nZone America/Nome\t 12:58:21 -\tLMT\t1867 Oct 18\n\t\t\t-11:01:38 -\tLMT\t1900 Aug 20 12:00\n\t\t\t-11:00\t-\tNST\t1942\n\t\t\t-11:00\tUS\tN%sT\t1946\n\t\t\t-11:00\t-\tNST\t1967 Apr\n\t\t\t-11:00\t-\tBST\t1969\n\t\t\t-11:00\tUS\tB%sT\t1983 Oct 30 2:00\n\t\t\t -9:00\tUS\tY%sT\t1983 Nov 30\n\t\t\t -9:00\tUS\tAK%sT\nZone America/Adak\t 12:13:21 -\tLMT\t1867 Oct 18\n\t\t\t-11:46:38 -\tLMT\t1900 Aug 20 12:00\n\t\t\t-11:00\t-\tNST\t1942\n\t\t\t-11:00\tUS\tN%sT\t1946\n\t\t\t-11:00\t-\tNST\t1967 Apr\n\t\t\t-11:00\t-\tBST\t1969\n\t\t\t-11:00\tUS\tB%sT\t1983 Oct 30 2:00\n\t\t\t-10:00\tUS\tAH%sT\t1983 Nov 30\n\t\t\t-10:00\tUS\tHA%sT\nZone Pacific/Honolulu\t-10:31:26 -\tLMT\t1900 Jan  1 12:00\n\t\t\t-10:30\t-\tHST\t1933 Apr 30 2:00\n\t\t\t-10:30\t1:00\tHDT\t1933 May 21 2:00\n\t\t\t-10:30\tUS\tH%sT\t1947 Jun  8 2:00\n\t\t\t-10:00\t-\tHST\nZone America/Phoenix\t-7:28:18 -\tLMT\t1883 Nov 18 11:31:42\n\t\t\t-7:00\tUS\tM%sT\t1944 Jan  1 00:01\n\t\t\t-7:00\t-\tMST\t1944 Apr  1 00:01\n\t\t\t-7:00\tUS\tM%sT\t1944 Oct  1 00:01\n\t\t\t-7:00\t-\tMST\t1967\n\t\t\t-7:00\tUS\tM%sT\t1968 Mar 21\n\t\t\t-7:00\t-\tMST\nLink America/Denver America/Shiprock\nZone America/Boise\t-7:44:49 -\tLMT\t1883 Nov 18 12:15:11\n\t\t\t-8:00\tUS\tP%sT\t1923 May 13 2:00\n\t\t\t-7:00\tUS\tM%sT\t1974\n\t\t\t-7:00\t-\tMST\t1974 Feb  3 2:00\n\t\t\t-7:00\tUS\tM%sT\nRule Indianapolis 1941\tonly\t-\tJun\t22\t2:00\t1:00\tD\nRule Indianapolis 1941\t1954\t-\tSep\tlastSun\t2:00\t0\tS\nRule Indianapolis 1946\t1954\t-\tApr\tlastSun\t2:00\t1:00\tD\nZone America/Indiana/Indianapolis -5:44:38 - LMT 1883 Nov 18 12:15:22\n\t\t\t-6:00\tUS\tC%sT\t1920\n\t\t\t-6:00 Indianapolis C%sT\t1942\n\t\t\t-6:00\tUS\tC%sT\t1946\n\t\t\t-6:00 Indianapolis C%sT\t1955 Apr 24 2:00\n\t\t\t-5:00\t-\tEST\t1957 Sep 29 2:00\n\t\t\t-6:00\t-\tCST\t1958 Apr 27 2:00\n\t\t\t-5:00\t-\tEST\t1969\n\t\t\t-5:00\tUS\tE%sT\t1971\n\t\t\t-5:00\t-\tEST\t2006\n\t\t\t-5:00\tUS\tE%sT\nRule\tMarengo\t1951\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tMarengo\t1951\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tMarengo\t1954\t1960\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tMarengo\t1954\t1960\t-\tSep\tlastSun\t2:00\t0\tS\nZone America/Indiana/Marengo -5:45:23 -\tLMT\t1883 Nov 18 12:14:37\n\t\t\t-6:00\tUS\tC%sT\t1951\n\t\t\t-6:00\tMarengo\tC%sT\t1961 Apr 30 2:00\n\t\t\t-5:00\t-\tEST\t1969\n\t\t\t-5:00\tUS\tE%sT\t1974 Jan  6 2:00\n\t\t\t-6:00\t1:00\tCDT\t1974 Oct 27 2:00\n\t\t\t-5:00\tUS\tE%sT\t1976\n\t\t\t-5:00\t-\tEST\t2006\n\t\t\t-5:00\tUS\tE%sT\nRule Vincennes\t1946\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule Vincennes\t1946\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule Vincennes\t1953\t1954\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule Vincennes\t1953\t1959\t-\tSep\tlastSun\t2:00\t0\tS\nRule Vincennes\t1955\tonly\t-\tMay\t 1\t0:00\t1:00\tD\nRule Vincennes\t1956\t1963\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule Vincennes\t1960\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule Vincennes\t1961\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule Vincennes\t1962\t1963\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Indiana/Vincennes -5:50:07 - LMT\t1883 Nov 18 12:09:53\n\t\t\t-6:00\tUS\tC%sT\t1946\n\t\t\t-6:00 Vincennes\tC%sT\t1964 Apr 26 2:00\n\t\t\t-5:00\t-\tEST\t1969\n\t\t\t-5:00\tUS\tE%sT\t1971\n\t\t\t-5:00\t-\tEST\t2006 Apr  2 2:00\n\t\t\t-6:00\tUS\tC%sT\t2007 Nov  4 2:00\n\t\t\t-5:00\tUS\tE%sT\nRule Perry\t1946\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule Perry\t1946\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule Perry\t1953\t1954\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule Perry\t1953\t1959\t-\tSep\tlastSun\t2:00\t0\tS\nRule Perry\t1955\tonly\t-\tMay\t 1\t0:00\t1:00\tD\nRule Perry\t1956\t1963\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule Perry\t1960\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule Perry\t1961\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule Perry\t1962\t1963\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Indiana/Tell_City -5:47:03 - LMT\t1883 Nov 18 12:12:57\n\t\t\t-6:00\tUS\tC%sT\t1946\n\t\t\t-6:00 Perry\tC%sT\t1964 Apr 26 2:00\n\t\t\t-5:00\t-\tEST\t1969\n\t\t\t-5:00\tUS\tE%sT\t1971\n\t\t\t-5:00\t-\tEST\t2006 Apr  2 2:00\n\t\t\t-6:00\tUS\tC%sT\nRule\tPike\t1955\tonly\t-\tMay\t 1\t0:00\t1:00\tD\nRule\tPike\t1955\t1960\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tPike\t1956\t1964\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tPike\t1961\t1964\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Indiana/Petersburg -5:49:07 - LMT\t1883 Nov 18 12:10:53\n\t\t\t-6:00\tUS\tC%sT\t1955\n\t\t\t-6:00\tPike\tC%sT\t1965 Apr 25 2:00\n\t\t\t-5:00\t-\tEST\t1966 Oct 30 2:00\n\t\t\t-6:00\tUS\tC%sT\t1977 Oct 30 2:00\n\t\t\t-5:00\t-\tEST\t2006 Apr  2 2:00\n\t\t\t-6:00\tUS\tC%sT\t2007 Nov  4 2:00\n\t\t\t-5:00\tUS\tE%sT\nRule\tStarke\t1947\t1961\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tStarke\t1947\t1954\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tStarke\t1955\t1956\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tStarke\t1957\t1958\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tStarke\t1959\t1961\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Indiana/Knox -5:46:30 -\tLMT\t1883 Nov 18 12:13:30\n\t\t\t-6:00\tUS\tC%sT\t1947\n\t\t\t-6:00\tStarke\tC%sT\t1962 Apr 29 2:00\n\t\t\t-5:00\t-\tEST\t1963 Oct 27 2:00\n\t\t\t-6:00\tUS\tC%sT\t1991 Oct 27 2:00\n\t\t\t-5:00\t-\tEST\t2006 Apr  2 2:00\n\t\t\t-6:00\tUS\tC%sT\nRule\tPulaski\t1946\t1960\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tPulaski\t1946\t1954\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tPulaski\t1955\t1956\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tPulaski\t1957\t1960\t-\tSep\tlastSun\t2:00\t0\tS\nZone America/Indiana/Winamac -5:46:25 - LMT\t1883 Nov 18 12:13:35\n\t\t\t-6:00\tUS\tC%sT\t1946\n\t\t\t-6:00\tPulaski\tC%sT\t1961 Apr 30 2:00\n\t\t\t-5:00\t-\tEST\t1969\n\t\t\t-5:00\tUS\tE%sT\t1971\n\t\t\t-5:00\t-\tEST\t2006 Apr  2 2:00\n\t\t\t-6:00\tUS\tC%sT\t2007 Mar 11 2:00\n\t\t\t-5:00\tUS\tE%sT\nZone America/Indiana/Vevay -5:40:16 -\tLMT\t1883 Nov 18 12:19:44\n\t\t\t-6:00\tUS\tC%sT\t1954 Apr 25 2:00\n\t\t\t-5:00\t-\tEST\t1969\n\t\t\t-5:00\tUS\tE%sT\t1973\n\t\t\t-5:00\t-\tEST\t2006\n\t\t\t-5:00\tUS\tE%sT\nRule Louisville\t1921\tonly\t-\tMay\t1\t2:00\t1:00\tD\nRule Louisville\t1921\tonly\t-\tSep\t1\t2:00\t0\tS\nRule Louisville\t1941\t1961\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule Louisville\t1941\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule Louisville\t1946\tonly\t-\tJun\t2\t2:00\t0\tS\nRule Louisville\t1950\t1955\t-\tSep\tlastSun\t2:00\t0\tS\nRule Louisville\t1956\t1960\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Kentucky/Louisville -5:43:02 -\tLMT\t1883 Nov 18 12:16:58\n\t\t\t-6:00\tUS\tC%sT\t1921\n\t\t\t-6:00 Louisville C%sT\t1942\n\t\t\t-6:00\tUS\tC%sT\t1946\n\t\t\t-6:00 Louisville C%sT\t1961 Jul 23 2:00\n\t\t\t-5:00\t-\tEST\t1968\n\t\t\t-5:00\tUS\tE%sT\t1974 Jan  6 2:00\n\t\t\t-6:00\t1:00\tCDT\t1974 Oct 27 2:00\n\t\t\t-5:00\tUS\tE%sT\nZone America/Kentucky/Monticello -5:39:24 - LMT\t1883 Nov 18 12:20:36\n\t\t\t-6:00\tUS\tC%sT\t1946\n\t\t\t-6:00\t-\tCST\t1968\n\t\t\t-6:00\tUS\tC%sT\t2000 Oct 29  2:00\n\t\t\t-5:00\tUS\tE%sT\nRule\tDetroit\t1948\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tDetroit\t1948\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tDetroit\t1967\tonly\t-\tJun\t14\t2:00\t1:00\tD\nRule\tDetroit\t1967\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Detroit\t-5:32:11 -\tLMT\t1905\n\t\t\t-6:00\t-\tCST\t1915 May 15 2:00\n\t\t\t-5:00\t-\tEST\t1942\n\t\t\t-5:00\tUS\tE%sT\t1946\n\t\t\t-5:00\tDetroit\tE%sT\t1973\n\t\t\t-5:00\tUS\tE%sT\t1975\n\t\t\t-5:00\t-\tEST\t1975 Apr 27 2:00\n\t\t\t-5:00\tUS\tE%sT\nRule Menominee\t1946\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule Menominee\t1946\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule Menominee\t1966\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule Menominee\t1966\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Menominee\t-5:50:27 -\tLMT\t1885 Sep 18 12:00\n\t\t\t-6:00\tUS\tC%sT\t1946\n\t\t\t-6:00 Menominee\tC%sT\t1969 Apr 27 2:00\n\t\t\t-5:00\t-\tEST\t1973 Apr 29 2:00\n\t\t\t-6:00\tUS\tC%sT\nRule\tCanada\t1918\tonly\t-\tApr\t14\t2:00\t1:00\tD\nRule\tCanada\t1918\tonly\t-\tOct\t31\t2:00\t0\tS\nRule\tCanada\t1942\tonly\t-\tFeb\t 9\t2:00\t1:00\tW # War\nRule\tCanada\t1945\tonly\t-\tAug\t14\t23:00u\t1:00\tP # Peace\nRule\tCanada\t1945\tonly\t-\tSep\t30\t2:00\t0\tS\nRule\tCanada\t1974\t1986\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tCanada\t1974\t2006\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tCanada\t1987\t2006\t-\tApr\tSun\x3e\x3d1\t2:00\t1:00\tD\nRule\tCanada\t2007\tmax\t-\tMar\tSun\x3e\x3d8\t2:00\t1:00\tD\nRule\tCanada\t2007\tmax\t-\tNov\tSun\x3e\x3d1\t2:00\t0\tS\nRule\tStJohns\t1917\tonly\t-\tApr\t 8\t2:00\t1:00\tD\nRule\tStJohns\t1917\tonly\t-\tSep\t17\t2:00\t0\tS\nRule\tStJohns\t1919\tonly\t-\tMay\t 5\t23:00\t1:00\tD\nRule\tStJohns\t1919\tonly\t-\tAug\t12\t23:00\t0\tS\nRule\tStJohns\t1920\t1935\t-\tMay\tSun\x3e\x3d1\t23:00\t1:00\tD\nRule\tStJohns\t1920\t1935\t-\tOct\tlastSun\t23:00\t0\tS\nRule\tStJohns\t1936\t1941\t-\tMay\tMon\x3e\x3d9\t0:00\t1:00\tD\nRule\tStJohns\t1936\t1941\t-\tOct\tMon\x3e\x3d2\t0:00\t0\tS\nRule\tStJohns\t1946\t1950\t-\tMay\tSun\x3e\x3d8\t2:00\t1:00\tD\nRule\tStJohns\t1946\t1950\t-\tOct\tSun\x3e\x3d2\t2:00\t0\tS\nRule\tStJohns\t1951\t1986\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tStJohns\t1951\t1959\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tStJohns\t1960\t1986\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tStJohns\t1987\tonly\t-\tApr\tSun\x3e\x3d1\t0:01\t1:00\tD\nRule\tStJohns\t1987\t2006\t-\tOct\tlastSun\t0:01\t0\tS\nRule\tStJohns\t1988\tonly\t-\tApr\tSun\x3e\x3d1\t0:01\t2:00\tDD\nRule\tStJohns\t1989\t2006\t-\tApr\tSun\x3e\x3d1\t0:01\t1:00\tD\nRule\tStJohns\t2007\tmax\t-\tMar\tSun\x3e\x3d8\t0:01\t1:00\tD\nRule\tStJohns\t2007\tmax\t-\tNov\tSun\x3e\x3d1\t0:01\t0\tS\nZone America/St_Johns\t-3:30:52 -\tLMT\t1884\n\t\t\t-3:30:52 StJohns N%sT\t1918\n\t\t\t-3:30:52 Canada\tN%sT\t1919\n\t\t\t-3:30:52 StJohns N%sT\t1935 Mar 30\n\t\t\t-3:30\tStJohns\tN%sT\t1942 May 11\n\t\t\t-3:30\tCanada\tN%sT\t1946\n\t\t\t-3:30\tStJohns\tN%sT\nZone America/Goose_Bay\t-4:01:40 -\tLMT\t1884 # Happy Valley-Goose Bay\n\t\t\t-3:30:52 -\tNST\t1918\n\t\t\t-3:30:52 Canada N%sT\t1919\n\t\t\t-3:30:52 -\tNST\t1935 Mar 30\n\t\t\t-3:30\t-\tNST\t1936\n\t\t\t-3:30\tStJohns\tN%sT\t1942 May 11\n\t\t\t-3:30\tCanada\tN%sT\t1946\n\t\t\t-3:30\tStJohns\tN%sT\t1966 Mar 15 2:00\n\t\t\t-4:00\tStJohns\tA%sT\nRule\tHalifax\t1916\tonly\t-\tApr\t 1\t0:00\t1:00\tD\nRule\tHalifax\t1916\tonly\t-\tOct\t 1\t0:00\t0\tS\nRule\tHalifax\t1920\tonly\t-\tMay\t 9\t0:00\t1:00\tD\nRule\tHalifax\t1920\tonly\t-\tAug\t29\t0:00\t0\tS\nRule\tHalifax\t1921\tonly\t-\tMay\t 6\t0:00\t1:00\tD\nRule\tHalifax\t1921\t1922\t-\tSep\t 5\t0:00\t0\tS\nRule\tHalifax\t1922\tonly\t-\tApr\t30\t0:00\t1:00\tD\nRule\tHalifax\t1923\t1925\t-\tMay\tSun\x3e\x3d1\t0:00\t1:00\tD\nRule\tHalifax\t1923\tonly\t-\tSep\t 4\t0:00\t0\tS\nRule\tHalifax\t1924\tonly\t-\tSep\t15\t0:00\t0\tS\nRule\tHalifax\t1925\tonly\t-\tSep\t28\t0:00\t0\tS\nRule\tHalifax\t1926\tonly\t-\tMay\t16\t0:00\t1:00\tD\nRule\tHalifax\t1926\tonly\t-\tSep\t13\t0:00\t0\tS\nRule\tHalifax\t1927\tonly\t-\tMay\t 1\t0:00\t1:00\tD\nRule\tHalifax\t1927\tonly\t-\tSep\t26\t0:00\t0\tS\nRule\tHalifax\t1928\t1931\t-\tMay\tSun\x3e\x3d8\t0:00\t1:00\tD\nRule\tHalifax\t1928\tonly\t-\tSep\t 9\t0:00\t0\tS\nRule\tHalifax\t1929\tonly\t-\tSep\t 3\t0:00\t0\tS\nRule\tHalifax\t1930\tonly\t-\tSep\t15\t0:00\t0\tS\nRule\tHalifax\t1931\t1932\t-\tSep\tMon\x3e\x3d24\t0:00\t0\tS\nRule\tHalifax\t1932\tonly\t-\tMay\t 1\t0:00\t1:00\tD\nRule\tHalifax\t1933\tonly\t-\tApr\t30\t0:00\t1:00\tD\nRule\tHalifax\t1933\tonly\t-\tOct\t 2\t0:00\t0\tS\nRule\tHalifax\t1934\tonly\t-\tMay\t20\t0:00\t1:00\tD\nRule\tHalifax\t1934\tonly\t-\tSep\t16\t0:00\t0\tS\nRule\tHalifax\t1935\tonly\t-\tJun\t 2\t0:00\t1:00\tD\nRule\tHalifax\t1935\tonly\t-\tSep\t30\t0:00\t0\tS\nRule\tHalifax\t1936\tonly\t-\tJun\t 1\t0:00\t1:00\tD\nRule\tHalifax\t1936\tonly\t-\tSep\t14\t0:00\t0\tS\nRule\tHalifax\t1937\t1938\t-\tMay\tSun\x3e\x3d1\t0:00\t1:00\tD\nRule\tHalifax\t1937\t1941\t-\tSep\tMon\x3e\x3d24\t0:00\t0\tS\nRule\tHalifax\t1939\tonly\t-\tMay\t28\t0:00\t1:00\tD\nRule\tHalifax\t1940\t1941\t-\tMay\tSun\x3e\x3d1\t0:00\t1:00\tD\nRule\tHalifax\t1946\t1949\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tHalifax\t1946\t1949\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tHalifax\t1951\t1954\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tHalifax\t1951\t1954\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tHalifax\t1956\t1959\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tHalifax\t1956\t1959\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tHalifax\t1962\t1973\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tHalifax\t1962\t1973\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Halifax\t-4:14:24 -\tLMT\t1902 Jun 15\n\t\t\t-4:00\tHalifax\tA%sT\t1918\n\t\t\t-4:00\tCanada\tA%sT\t1919\n\t\t\t-4:00\tHalifax\tA%sT\t1942 Feb  9 2:00s\n\t\t\t-4:00\tCanada\tA%sT\t1946\n\t\t\t-4:00\tHalifax\tA%sT\t1974\n\t\t\t-4:00\tCanada\tA%sT\nZone America/Glace_Bay\t-3:59:48 -\tLMT\t1902 Jun 15\n\t\t\t-4:00\tCanada\tA%sT\t1953\n\t\t\t-4:00\tHalifax\tA%sT\t1954\n\t\t\t-4:00\t-\tAST\t1972\n\t\t\t-4:00\tHalifax\tA%sT\t1974\n\t\t\t-4:00\tCanada\tA%sT\nRule\tMoncton\t1933\t1935\t-\tJun\tSun\x3e\x3d8\t1:00\t1:00\tD\nRule\tMoncton\t1933\t1935\t-\tSep\tSun\x3e\x3d8\t1:00\t0\tS\nRule\tMoncton\t1936\t1938\t-\tJun\tSun\x3e\x3d1\t1:00\t1:00\tD\nRule\tMoncton\t1936\t1938\t-\tSep\tSun\x3e\x3d1\t1:00\t0\tS\nRule\tMoncton\t1939\tonly\t-\tMay\t27\t1:00\t1:00\tD\nRule\tMoncton\t1939\t1941\t-\tSep\tSat\x3e\x3d21\t1:00\t0\tS\nRule\tMoncton\t1940\tonly\t-\tMay\t19\t1:00\t1:00\tD\nRule\tMoncton\t1941\tonly\t-\tMay\t 4\t1:00\t1:00\tD\nRule\tMoncton\t1946\t1972\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tMoncton\t1946\t1956\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tMoncton\t1957\t1972\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tMoncton\t1993\t2006\t-\tApr\tSun\x3e\x3d1\t0:01\t1:00\tD\nRule\tMoncton\t1993\t2006\t-\tOct\tlastSun\t0:01\t0\tS\nZone America/Moncton\t-4:19:08 -\tLMT\t1883 Dec  9\n\t\t\t-5:00\t-\tEST\t1902 Jun 15\n\t\t\t-4:00\tCanada\tA%sT\t1933\n\t\t\t-4:00\tMoncton\tA%sT\t1942\n\t\t\t-4:00\tCanada\tA%sT\t1946\n\t\t\t-4:00\tMoncton\tA%sT\t1973\n\t\t\t-4:00\tCanada\tA%sT\t1993\n\t\t\t-4:00\tMoncton\tA%sT\t2007\n\t\t\t-4:00\tCanada\tA%sT\nRule\tMont\t1917\tonly\t-\tMar\t25\t2:00\t1:00\tD\nRule\tMont\t1917\tonly\t-\tApr\t24\t0:00\t0\tS\nRule\tMont\t1919\tonly\t-\tMar\t31\t2:30\t1:00\tD\nRule\tMont\t1919\tonly\t-\tOct\t25\t2:30\t0\tS\nRule\tMont\t1920\tonly\t-\tMay\t 2\t2:30\t1:00\tD\nRule\tMont\t1920\t1922\t-\tOct\tSun\x3e\x3d1\t2:30\t0\tS\nRule\tMont\t1921\tonly\t-\tMay\t 1\t2:00\t1:00\tD\nRule\tMont\t1922\tonly\t-\tApr\t30\t2:00\t1:00\tD\nRule\tMont\t1924\tonly\t-\tMay\t17\t2:00\t1:00\tD\nRule\tMont\t1924\t1926\t-\tSep\tlastSun\t2:30\t0\tS\nRule\tMont\t1925\t1926\t-\tMay\tSun\x3e\x3d1\t2:00\t1:00\tD\nRule\tMont\t1927\tonly\t-\tMay\t1\t0:00\t1:00\tD\nRule\tMont\t1927\t1932\t-\tSep\tlastSun\t0:00\t0\tS\nRule\tMont\t1928\t1931\t-\tApr\tlastSun\t0:00\t1:00\tD\nRule\tMont\t1932\tonly\t-\tMay\t1\t0:00\t1:00\tD\nRule\tMont\t1933\t1940\t-\tApr\tlastSun\t0:00\t1:00\tD\nRule\tMont\t1933\tonly\t-\tOct\t1\t0:00\t0\tS\nRule\tMont\t1934\t1939\t-\tSep\tlastSun\t0:00\t0\tS\nRule\tMont\t1946\t1973\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tMont\t1945\t1948\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tMont\t1949\t1950\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tMont\t1951\t1956\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tMont\t1957\t1973\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Blanc-Sablon -3:48:28 -\tLMT\t1884\n\t\t\t-4:00\tCanada\tA%sT\t1970\n\t\t\t-4:00\t-\tAST\nZone America/Montreal\t-4:54:16 -\tLMT\t1884\n\t\t\t-5:00\tMont\tE%sT\t1918\n\t\t\t-5:00\tCanada\tE%sT\t1919\n\t\t\t-5:00\tMont\tE%sT\t1942 Feb  9 2:00s\n\t\t\t-5:00\tCanada\tE%sT\t1946\n\t\t\t-5:00\tMont\tE%sT\t1974\n\t\t\t-5:00\tCanada\tE%sT\nRule\tToronto\t1919\tonly\t-\tMar\t30\t23:30\t1:00\tD\nRule\tToronto\t1919\tonly\t-\tOct\t26\t0:00\t0\tS\nRule\tToronto\t1920\tonly\t-\tMay\t 2\t2:00\t1:00\tD\nRule\tToronto\t1920\tonly\t-\tSep\t26\t0:00\t0\tS\nRule\tToronto\t1921\tonly\t-\tMay\t15\t2:00\t1:00\tD\nRule\tToronto\t1921\tonly\t-\tSep\t15\t2:00\t0\tS\nRule\tToronto\t1922\t1923\t-\tMay\tSun\x3e\x3d8\t2:00\t1:00\tD\nRule\tToronto\t1922\t1926\t-\tSep\tSun\x3e\x3d15\t2:00\t0\tS\nRule\tToronto\t1924\t1927\t-\tMay\tSun\x3e\x3d1\t2:00\t1:00\tD\nRule\tToronto\t1927\t1932\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tToronto\t1928\t1931\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tToronto\t1932\tonly\t-\tMay\t1\t2:00\t1:00\tD\nRule\tToronto\t1933\t1940\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tToronto\t1933\tonly\t-\tOct\t1\t2:00\t0\tS\nRule\tToronto\t1934\t1939\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tToronto\t1945\t1946\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tToronto\t1946\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tToronto\t1947\t1949\t-\tApr\tlastSun\t0:00\t1:00\tD\nRule\tToronto\t1947\t1948\t-\tSep\tlastSun\t0:00\t0\tS\nRule\tToronto\t1949\tonly\t-\tNov\tlastSun\t0:00\t0\tS\nRule\tToronto\t1950\t1973\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tToronto\t1950\tonly\t-\tNov\tlastSun\t2:00\t0\tS\nRule\tToronto\t1951\t1956\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tToronto\t1957\t1973\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Toronto\t-5:17:32 -\tLMT\t1895\n\t\t\t-5:00\tCanada\tE%sT\t1919\n\t\t\t-5:00\tToronto\tE%sT\t1942 Feb  9 2:00s\n\t\t\t-5:00\tCanada\tE%sT\t1946\n\t\t\t-5:00\tToronto\tE%sT\t1974\n\t\t\t-5:00\tCanada\tE%sT\nZone America/Thunder_Bay -5:57:00 -\tLMT\t1895\n\t\t\t-6:00\t-\tCST\t1910\n\t\t\t-5:00\t-\tEST\t1942\n\t\t\t-5:00\tCanada\tE%sT\t1970\n\t\t\t-5:00\tMont\tE%sT\t1973\n\t\t\t-5:00\t-\tEST\t1974\n\t\t\t-5:00\tCanada\tE%sT\nZone America/Nipigon\t-5:53:04 -\tLMT\t1895\n\t\t\t-5:00\tCanada\tE%sT\t1940 Sep 29\n\t\t\t-5:00\t1:00\tEDT\t1942 Feb  9 2:00s\n\t\t\t-5:00\tCanada\tE%sT\nZone America/Rainy_River -6:18:16 -\tLMT\t1895\n\t\t\t-6:00\tCanada\tC%sT\t1940 Sep 29\n\t\t\t-6:00\t1:00\tCDT\t1942 Feb  9 2:00s\n\t\t\t-6:00\tCanada\tC%sT\nZone America/Atikokan\t-6:06:28 -\tLMT\t1895\n\t\t\t-6:00\tCanada\tC%sT\t1940 Sep 29\n\t\t\t-6:00\t1:00\tCDT\t1942 Feb  9 2:00s\n\t\t\t-6:00\tCanada\tC%sT\t1945 Sep 30 2:00\n\t\t\t-5:00\t-\tEST\nRule\tWinn\t1916\tonly\t-\tApr\t23\t0:00\t1:00\tD\nRule\tWinn\t1916\tonly\t-\tSep\t17\t0:00\t0\tS\nRule\tWinn\t1918\tonly\t-\tApr\t14\t2:00\t1:00\tD\nRule\tWinn\t1918\tonly\t-\tOct\t31\t2:00\t0\tS\nRule\tWinn\t1937\tonly\t-\tMay\t16\t2:00\t1:00\tD\nRule\tWinn\t1937\tonly\t-\tSep\t26\t2:00\t0\tS\nRule\tWinn\t1942\tonly\t-\tFeb\t 9\t2:00\t1:00\tW # War\nRule\tWinn\t1945\tonly\t-\tAug\t14\t23:00u\t1:00\tP # Peace\nRule\tWinn\t1945\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tWinn\t1946\tonly\t-\tMay\t12\t2:00\t1:00\tD\nRule\tWinn\t1946\tonly\t-\tOct\t13\t2:00\t0\tS\nRule\tWinn\t1947\t1949\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tWinn\t1947\t1949\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tWinn\t1950\tonly\t-\tMay\t 1\t2:00\t1:00\tD\nRule\tWinn\t1950\tonly\t-\tSep\t30\t2:00\t0\tS\nRule\tWinn\t1951\t1960\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tWinn\t1951\t1958\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tWinn\t1959\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tWinn\t1960\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tWinn\t1963\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tWinn\t1963\tonly\t-\tSep\t22\t2:00\t0\tS\nRule\tWinn\t1966\t1986\t-\tApr\tlastSun\t2:00s\t1:00\tD\nRule\tWinn\t1966\t2005\t-\tOct\tlastSun\t2:00s\t0\tS\nRule\tWinn\t1987\t2005\t-\tApr\tSun\x3e\x3d1\t2:00s\t1:00\tD\nZone America/Winnipeg\t-6:28:36 -\tLMT\t1887 Jul 16\n\t\t\t-6:00\tWinn\tC%sT\t2006\n\t\t\t-6:00\tCanada\tC%sT\nRule\tRegina\t1918\tonly\t-\tApr\t14\t2:00\t1:00\tD\nRule\tRegina\t1918\tonly\t-\tOct\t31\t2:00\t0\tS\nRule\tRegina\t1930\t1934\t-\tMay\tSun\x3e\x3d1\t0:00\t1:00\tD\nRule\tRegina\t1930\t1934\t-\tOct\tSun\x3e\x3d1\t0:00\t0\tS\nRule\tRegina\t1937\t1941\t-\tApr\tSun\x3e\x3d8\t0:00\t1:00\tD\nRule\tRegina\t1937\tonly\t-\tOct\tSun\x3e\x3d8\t0:00\t0\tS\nRule\tRegina\t1938\tonly\t-\tOct\tSun\x3e\x3d1\t0:00\t0\tS\nRule\tRegina\t1939\t1941\t-\tOct\tSun\x3e\x3d8\t0:00\t0\tS\nRule\tRegina\t1942\tonly\t-\tFeb\t 9\t2:00\t1:00\tW # War\nRule\tRegina\t1945\tonly\t-\tAug\t14\t23:00u\t1:00\tP # Peace\nRule\tRegina\t1945\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tRegina\t1946\tonly\t-\tApr\tSun\x3e\x3d8\t2:00\t1:00\tD\nRule\tRegina\t1946\tonly\t-\tOct\tSun\x3e\x3d8\t2:00\t0\tS\nRule\tRegina\t1947\t1957\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tRegina\t1947\t1957\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tRegina\t1959\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tRegina\t1959\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tSwift\t1957\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tSwift\t1957\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tSwift\t1959\t1961\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tSwift\t1959\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tSwift\t1960\t1961\t-\tSep\tlastSun\t2:00\t0\tS\nZone America/Regina\t-6:58:36 -\tLMT\t1905 Sep\n\t\t\t-7:00\tRegina\tM%sT\t1960 Apr lastSun 2:00\n\t\t\t-6:00\t-\tCST\nZone America/Swift_Current -7:11:20 -\tLMT\t1905 Sep\n\t\t\t-7:00\tCanada\tM%sT\t1946 Apr lastSun 2:00\n\t\t\t-7:00\tRegina\tM%sT\t1950\n\t\t\t-7:00\tSwift\tM%sT\t1972 Apr lastSun 2:00\n\t\t\t-6:00\t-\tCST\nRule\tEdm\t1918\t1919\t-\tApr\tSun\x3e\x3d8\t2:00\t1:00\tD\nRule\tEdm\t1918\tonly\t-\tOct\t31\t2:00\t0\tS\nRule\tEdm\t1919\tonly\t-\tMay\t27\t2:00\t0\tS\nRule\tEdm\t1920\t1923\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tEdm\t1920\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tEdm\t1921\t1923\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tEdm\t1942\tonly\t-\tFeb\t 9\t2:00\t1:00\tW # War\nRule\tEdm\t1945\tonly\t-\tAug\t14\t23:00u\t1:00\tP # Peace\nRule\tEdm\t1945\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tEdm\t1947\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tEdm\t1947\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tEdm\t1967\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tEdm\t1967\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tEdm\t1969\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tEdm\t1969\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tEdm\t1972\t1986\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tEdm\t1972\t2006\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Edmonton\t-7:33:52 -\tLMT\t1906 Sep\n\t\t\t-7:00\tEdm\tM%sT\t1987\n\t\t\t-7:00\tCanada\tM%sT\nRule\tVanc\t1918\tonly\t-\tApr\t14\t2:00\t1:00\tD\nRule\tVanc\t1918\tonly\t-\tOct\t31\t2:00\t0\tS\nRule\tVanc\t1942\tonly\t-\tFeb\t 9\t2:00\t1:00\tW # War\nRule\tVanc\t1945\tonly\t-\tAug\t14\t23:00u\t1:00\tP # Peace\nRule\tVanc\t1945\tonly\t-\tSep\t30\t2:00\t0\tS\nRule\tVanc\t1946\t1986\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tVanc\t1946\tonly\t-\tOct\t13\t2:00\t0\tS\nRule\tVanc\t1947\t1961\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tVanc\t1962\t2006\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Vancouver\t-8:12:28 -\tLMT\t1884\n\t\t\t-8:00\tVanc\tP%sT\t1987\n\t\t\t-8:00\tCanada\tP%sT\nZone America/Dawson_Creek -8:00:56 -\tLMT\t1884\n\t\t\t-8:00\tCanada\tP%sT\t1947\n\t\t\t-8:00\tVanc\tP%sT\t1972 Aug 30 2:00\n\t\t\t-7:00\t-\tMST\nRule\tNT_YK\t1918\tonly\t-\tApr\t14\t2:00\t1:00\tD\nRule\tNT_YK\t1918\tonly\t-\tOct\t27\t2:00\t0\tS\nRule\tNT_YK\t1919\tonly\t-\tMay\t25\t2:00\t1:00\tD\nRule\tNT_YK\t1919\tonly\t-\tNov\t 1\t0:00\t0\tS\nRule\tNT_YK\t1942\tonly\t-\tFeb\t 9\t2:00\t1:00\tW # War\nRule\tNT_YK\t1945\tonly\t-\tAug\t14\t23:00u\t1:00\tP # Peace\nRule\tNT_YK\t1945\tonly\t-\tSep\t30\t2:00\t0\tS\nRule\tNT_YK\t1965\tonly\t-\tApr\tlastSun\t0:00\t2:00\tDD\nRule\tNT_YK\t1965\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tNT_YK\t1980\t1986\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tNT_YK\t1980\t2006\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tNT_YK\t1987\t2006\t-\tApr\tSun\x3e\x3d1\t2:00\t1:00\tD\nZone America/Pangnirtung 0\t-\tzzz\t1921 # trading post est.\n\t\t\t-4:00\tNT_YK\tA%sT\t1995 Apr Sun\x3e\x3d1 2:00\n\t\t\t-5:00\tCanada\tE%sT\t1999 Oct 31 2:00\n\t\t\t-6:00\tCanada\tC%sT\t2000 Oct 29 2:00\n\t\t\t-5:00\tCanada\tE%sT\nZone America/Iqaluit\t0\t-\tzzz\t1942 Aug # Frobisher Bay est.\n\t\t\t-5:00\tNT_YK\tE%sT\t1999 Oct 31 2:00\n\t\t\t-6:00\tCanada\tC%sT\t2000 Oct 29 2:00\n\t\t\t-5:00\tCanada\tE%sT\nRule\tResolute 2006\tmax\t-\tNov\tSun\x3e\x3d1\t2:00\t0\tES\nRule\tResolute 2007\tmax\t-\tMar\tSun\x3e\x3d8\t2:00\t0\tCD\nZone America/Resolute\t0\t-\tzzz\t1947 Aug 31 # Resolute founded\n\t\t\t-6:00\tNT_YK\tC%sT\t2000 Oct 29 2:00\n\t\t\t-5:00\t-\tEST\t2001 Apr  1 3:00\n\t\t\t-6:00\tCanada\tC%sT\t2006 Oct 29 2:00\n\t\t\t-5:00\tResolute\t%sT\nZone America/Rankin_Inlet 0\t-\tzzz\t1957 # Rankin Inlet founded\n\t\t\t-6:00\tNT_YK\tC%sT\t2000 Oct 29 2:00\n\t\t\t-5:00\t-\tEST\t2001 Apr  1 3:00\n\t\t\t-6:00\tCanada\tC%sT\nZone America/Cambridge_Bay 0\t-\tzzz\t1920 # trading post est.?\n\t\t\t-7:00\tNT_YK\tM%sT\t1999 Oct 31 2:00\n\t\t\t-6:00\tCanada\tC%sT\t2000 Oct 29 2:00\n\t\t\t-5:00\t-\tEST\t2000 Nov  5 0:00\n\t\t\t-6:00\t-\tCST\t2001 Apr  1 3:00\n\t\t\t-7:00\tCanada\tM%sT\nZone America/Yellowknife 0\t-\tzzz\t1935 # Yellowknife founded?\n\t\t\t-7:00\tNT_YK\tM%sT\t1980\n\t\t\t-7:00\tCanada\tM%sT\nZone America/Inuvik\t0\t-\tzzz\t1953 # Inuvik founded\n\t\t\t-8:00\tNT_YK\tP%sT\t1979 Apr lastSun 2:00\n\t\t\t-7:00\tNT_YK\tM%sT\t1980\n\t\t\t-7:00\tCanada\tM%sT\nZone America/Whitehorse\t-9:00:12 -\tLMT\t1900 Aug 20\n\t\t\t-9:00\tNT_YK\tY%sT\t1966 Jul 1 2:00\n\t\t\t-8:00\tNT_YK\tP%sT\t1980\n\t\t\t-8:00\tCanada\tP%sT\nZone America/Dawson\t-9:17:40 -\tLMT\t1900 Aug 20\n\t\t\t-9:00\tNT_YK\tY%sT\t1973 Oct 28 0:00\n\t\t\t-8:00\tNT_YK\tP%sT\t1980\n\t\t\t-8:00\tCanada\tP%sT\nRule\tMexico\t1939\tonly\t-\tFeb\t5\t0:00\t1:00\tD\nRule\tMexico\t1939\tonly\t-\tJun\t25\t0:00\t0\tS\nRule\tMexico\t1940\tonly\t-\tDec\t9\t0:00\t1:00\tD\nRule\tMexico\t1941\tonly\t-\tApr\t1\t0:00\t0\tS\nRule\tMexico\t1943\tonly\t-\tDec\t16\t0:00\t1:00\tW # War\nRule\tMexico\t1944\tonly\t-\tMay\t1\t0:00\t0\tS\nRule\tMexico\t1950\tonly\t-\tFeb\t12\t0:00\t1:00\tD\nRule\tMexico\t1950\tonly\t-\tJul\t30\t0:00\t0\tS\nRule\tMexico\t1996\t2000\t-\tApr\tSun\x3e\x3d1\t2:00\t1:00\tD\nRule\tMexico\t1996\t2000\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tMexico\t2001\tonly\t-\tMay\tSun\x3e\x3d1\t2:00\t1:00\tD\nRule\tMexico\t2001\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tMexico\t2002\tmax\t-\tApr\tSun\x3e\x3d1\t2:00\t1:00\tD\nRule\tMexico\t2002\tmax\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Cancun\t-5:47:04 -\tLMT\t1922 Jan  1  0:12:56\n\t\t\t-6:00\t-\tCST\t1981 Dec 23\n\t\t\t-5:00\tMexico\tE%sT\t1998 Aug  2  2:00\n\t\t\t-6:00\tMexico\tC%sT\nZone America/Merida\t-5:58:28 -\tLMT\t1922 Jan  1  0:01:32\n\t\t\t-6:00\t-\tCST\t1981 Dec 23\n\t\t\t-5:00\t-\tEST\t1982 Dec  2\n\t\t\t-6:00\tMexico\tC%sT\nZone America/Monterrey\t-6:41:16 -\tLMT\t1921 Dec 31 23:18:44\n\t\t\t-6:00\t-\tCST\t1988\n\t\t\t-6:00\tUS\tC%sT\t1989\n\t\t\t-6:00\tMexico\tC%sT\nZone America/Mexico_City -6:36:36 -\tLMT\t1922 Jan  1  0:23:24\n\t\t\t-7:00\t-\tMST\t1927 Jun 10 23:00\n\t\t\t-6:00\t-\tCST\t1930 Nov 15\n\t\t\t-7:00\t-\tMST\t1931 May  1 23:00\n\t\t\t-6:00\t-\tCST\t1931 Oct\n\t\t\t-7:00\t-\tMST\t1932 Apr  1\n\t\t\t-6:00\tMexico\tC%sT\t2001 Sep 30 02:00\n\t\t\t-6:00\t-\tCST\t2002 Feb 20\n\t\t\t-6:00\tMexico\tC%sT\nZone America/Chihuahua\t-7:04:20 -\tLMT\t1921 Dec 31 23:55:40\n\t\t\t-7:00\t-\tMST\t1927 Jun 10 23:00\n\t\t\t-6:00\t-\tCST\t1930 Nov 15\n\t\t\t-7:00\t-\tMST\t1931 May  1 23:00\n\t\t\t-6:00\t-\tCST\t1931 Oct\n\t\t\t-7:00\t-\tMST\t1932 Apr  1\n\t\t\t-6:00\t-\tCST\t1996\n\t\t\t-6:00\tMexico\tC%sT\t1998\n\t\t\t-6:00\t-\tCST\t1998 Apr Sun\x3e\x3d1 3:00\n\t\t\t-7:00\tMexico\tM%sT\nZone America/Hermosillo\t-7:23:52 -\tLMT\t1921 Dec 31 23:36:08\n\t\t\t-7:00\t-\tMST\t1927 Jun 10 23:00\n\t\t\t-6:00\t-\tCST\t1930 Nov 15\n\t\t\t-7:00\t-\tMST\t1931 May  1 23:00\n\t\t\t-6:00\t-\tCST\t1931 Oct\n\t\t\t-7:00\t-\tMST\t1932 Apr  1\n\t\t\t-6:00\t-\tCST\t1942 Apr 24\n\t\t\t-7:00\t-\tMST\t1949 Jan 14\n\t\t\t-8:00\t-\tPST\t1970\n\t\t\t-7:00\tMexico\tM%sT\t1999\n\t\t\t-7:00\t-\tMST\nZone America/Mazatlan\t-7:05:40 -\tLMT\t1921 Dec 31 23:54:20\n\t\t\t-7:00\t-\tMST\t1927 Jun 10 23:00\n\t\t\t-6:00\t-\tCST\t1930 Nov 15\n\t\t\t-7:00\t-\tMST\t1931 May  1 23:00\n\t\t\t-6:00\t-\tCST\t1931 Oct\n\t\t\t-7:00\t-\tMST\t1932 Apr  1\n\t\t\t-6:00\t-\tCST\t1942 Apr 24\n\t\t\t-7:00\t-\tMST\t1949 Jan 14\n\t\t\t-8:00\t-\tPST\t1970\n\t\t\t-7:00\tMexico\tM%sT\nZone America/Tijuana\t-7:48:04 -\tLMT\t1922 Jan  1  0:11:56\n\t\t\t-7:00\t-\tMST\t1924\n\t\t\t-8:00\t-\tPST\t1927 Jun 10 23:00\n\t\t\t-7:00\t-\tMST\t1930 Nov 15\n\t\t\t-8:00\t-\tPST\t1931 Apr  1\n\t\t\t-8:00\t1:00\tPDT\t1931 Sep 30\n\t\t\t-8:00\t-\tPST\t1942 Apr 24\n\t\t\t-8:00\t1:00\tPWT\t1945 Aug 14 23:00u\n\t\t\t-8:00\t1:00\tPPT\t1945 Nov 12 # Peace\n\t\t\t-8:00\t-\tPST\t1948 Apr  5\n\t\t\t-8:00\t1:00\tPDT\t1949 Jan 14\n\t\t\t-8:00\t-\tPST\t1954\n\t\t\t-8:00\tCA\tP%sT\t1961\n\t\t\t-8:00\t-\tPST\t1976\n\t\t\t-8:00\tUS\tP%sT\t1996\n\t\t\t-8:00\tMexico\tP%sT\t2001\n\t\t\t-8:00\tUS\tP%sT\t2002 Feb 20\n\t\t\t-8:00\tMexico\tP%sT\nZone America/Anguilla\t-4:12:16 -\tLMT\t1912 Mar 2\n\t\t\t-4:00\t-\tAST\nZone\tAmerica/Antigua\t-4:07:12 -\tLMT\t1912 Mar 2\n\t\t\t-5:00\t-\tEST\t1951\n\t\t\t-4:00\t-\tAST\nRule\tBahamas\t1964\t1975\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tBahamas\t1964\t1975\t-\tApr\tlastSun\t2:00\t1:00\tD\nZone\tAmerica/Nassau\t-5:09:24 -\tLMT\t1912 Mar 2\n\t\t\t-5:00\tBahamas\tE%sT\t1976\n\t\t\t-5:00\tUS\tE%sT\nRule\tBarb\t1977\tonly\t-\tJun\t12\t2:00\t1:00\tD\nRule\tBarb\t1977\t1978\t-\tOct\tSun\x3e\x3d1\t2:00\t0\tS\nRule\tBarb\t1978\t1980\t-\tApr\tSun\x3e\x3d15\t2:00\t1:00\tD\nRule\tBarb\t1979\tonly\t-\tSep\t30\t2:00\t0\tS\nRule\tBarb\t1980\tonly\t-\tSep\t25\t2:00\t0\tS\nZone America/Barbados\t-3:58:28 -\tLMT\t1924\t\t# Bridgetown\n\t\t\t-3:58:28 -\tBMT\t1932\t  # Bridgetown Mean Time\n\t\t\t-4:00\tBarb\tA%sT\nRule\tBelize\t1918\t1942\t-\tOct\tSun\x3e\x3d2\t0:00\t0:30\tHD\nRule\tBelize\t1919\t1943\t-\tFeb\tSun\x3e\x3d9\t0:00\t0\tS\nRule\tBelize\t1973\tonly\t-\tDec\t 5\t0:00\t1:00\tD\nRule\tBelize\t1974\tonly\t-\tFeb\t 9\t0:00\t0\tS\nRule\tBelize\t1982\tonly\t-\tDec\t18\t0:00\t1:00\tD\nRule\tBelize\t1983\tonly\t-\tFeb\t12\t0:00\t0\tS\nZone\tAmerica/Belize\t-5:52:48 -\tLMT\t1912 Apr\n\t\t\t-6:00\tBelize\tC%sT\nZone Atlantic/Bermuda\t-4:19:04 -\tLMT\t1930 Jan  1 2:00    # Hamilton\n\t\t\t-4:00\t-\tAST\t1974 Apr 28 2:00\n\t\t\t-4:00\tBahamas\tA%sT\t1976\n\t\t\t-4:00\tUS\tA%sT\nZone\tAmerica/Cayman\t-5:25:32 -\tLMT\t1890\t\t# Georgetown\n\t\t\t-5:07:12 -\tKMT\t1912 Feb    # Kingston Mean Time\n\t\t\t-5:00\t-\tEST\nRule\tCR\t1979\t1980\t-\tFeb\tlastSun\t0:00\t1:00\tD\nRule\tCR\t1979\t1980\t-\tJun\tSun\x3e\x3d1\t0:00\t0\tS\nRule\tCR\t1991\t1992\t-\tJan\tSat\x3e\x3d15\t0:00\t1:00\tD\nRule\tCR\t1991\tonly\t-\tJul\t 1\t0:00\t0\tS\nRule\tCR\t1992\tonly\t-\tMar\t15\t0:00\t0\tS\nZone America/Costa_Rica\t-5:36:20 -\tLMT\t1890\t\t# San Jose\n\t\t\t-5:36:20 -\tSJMT\t1921 Jan 15 # San Jose Mean Time\n\t\t\t-6:00\tCR\tC%sT\nRule\tCuba\t1928\tonly\t-\tJun\t10\t0:00\t1:00\tD\nRule\tCuba\t1928\tonly\t-\tOct\t10\t0:00\t0\tS\nRule\tCuba\t1940\t1942\t-\tJun\tSun\x3e\x3d1\t0:00\t1:00\tD\nRule\tCuba\t1940\t1942\t-\tSep\tSun\x3e\x3d1\t0:00\t0\tS\nRule\tCuba\t1945\t1946\t-\tJun\tSun\x3e\x3d1\t0:00\t1:00\tD\nRule\tCuba\t1945\t1946\t-\tSep\tSun\x3e\x3d1\t0:00\t0\tS\nRule\tCuba\t1965\tonly\t-\tJun\t1\t0:00\t1:00\tD\nRule\tCuba\t1965\tonly\t-\tSep\t30\t0:00\t0\tS\nRule\tCuba\t1966\tonly\t-\tMay\t29\t0:00\t1:00\tD\nRule\tCuba\t1966\tonly\t-\tOct\t2\t0:00\t0\tS\nRule\tCuba\t1967\tonly\t-\tApr\t8\t0:00\t1:00\tD\nRule\tCuba\t1967\t1968\t-\tSep\tSun\x3e\x3d8\t0:00\t0\tS\nRule\tCuba\t1968\tonly\t-\tApr\t14\t0:00\t1:00\tD\nRule\tCuba\t1969\t1977\t-\tApr\tlastSun\t0:00\t1:00\tD\nRule\tCuba\t1969\t1971\t-\tOct\tlastSun\t0:00\t0\tS\nRule\tCuba\t1972\t1974\t-\tOct\t8\t0:00\t0\tS\nRule\tCuba\t1975\t1977\t-\tOct\tlastSun\t0:00\t0\tS\nRule\tCuba\t1978\tonly\t-\tMay\t7\t0:00\t1:00\tD\nRule\tCuba\t1978\t1990\t-\tOct\tSun\x3e\x3d8\t0:00\t0\tS\nRule\tCuba\t1979\t1980\t-\tMar\tSun\x3e\x3d15\t0:00\t1:00\tD\nRule\tCuba\t1981\t1985\t-\tMay\tSun\x3e\x3d5\t0:00\t1:00\tD\nRule\tCuba\t1986\t1989\t-\tMar\tSun\x3e\x3d14\t0:00\t1:00\tD\nRule\tCuba\t1990\t1997\t-\tApr\tSun\x3e\x3d1\t0:00\t1:00\tD\nRule\tCuba\t1991\t1995\t-\tOct\tSun\x3e\x3d8\t0:00s\t0\tS\nRule\tCuba\t1996\tonly\t-\tOct\t 6\t0:00s\t0\tS\nRule\tCuba\t1997\tonly\t-\tOct\t12\t0:00s\t0\tS\nRule\tCuba\t1998\t1999\t-\tMar\tlastSun\t0:00s\t1:00\tD\nRule\tCuba\t1998\t2003\t-\tOct\tlastSun\t0:00s\t0\tS\nRule\tCuba\t2000\t2004\t-\tApr\tSun\x3e\x3d1\t0:00s\t1:00\tD\nRule\tCuba\t2006\tmax\t-\tOct\tlastSun\t0:00s\t0\tS\nRule\tCuba\t2007\tonly\t-\tMar\tSun\x3e\x3d8\t0:00s\t1:00\tD\nRule\tCuba\t2008\tonly\t-\tMar\tSun\x3e\x3d15\t0:00s\t1:00\tD\nRule\tCuba\t2009\tmax\t-\tMar\tSun\x3e\x3d8\t0:00s\t1:00\tD\nZone\tAmerica/Havana\t-5:29:28 -\tLMT\t1890\n\t\t\t-5:29:36 -\tHMT\t1925 Jul 19 12:00 # Havana MT\n\t\t\t-5:00\tCuba\tC%sT\nZone America/Dominica\t-4:05:36 -\tLMT\t1911 Jul 1 0:01\t\t# Roseau\n\t\t\t-4:00\t-\tAST\nRule\tDR\t1966\tonly\t-\tOct\t30\t0:00\t1:00\tD\nRule\tDR\t1967\tonly\t-\tFeb\t28\t0:00\t0\tS\nRule\tDR\t1969\t1973\t-\tOct\tlastSun\t0:00\t0:30\tHD\nRule\tDR\t1970\tonly\t-\tFeb\t21\t0:00\t0\tS\nRule\tDR\t1971\tonly\t-\tJan\t20\t0:00\t0\tS\nRule\tDR\t1972\t1974\t-\tJan\t21\t0:00\t0\tS\nZone America/Santo_Domingo -4:39:36 -\tLMT\t1890\n\t\t\t-4:40\t-\tSDMT\t1933 Apr  1 12:00 # S. Dom. MT\n\t\t\t-5:00\tDR\tE%sT\t1974 Oct 27\n\t\t\t-4:00\t-\tAST\t2000 Oct 29 02:00\n\t\t\t-5:00\tUS\tE%sT\t2000 Dec  3 01:00\n\t\t\t-4:00\t-\tAST\nRule\tSalv\t1987\t1988\t-\tMay\tSun\x3e\x3d1\t0:00\t1:00\tD\nRule\tSalv\t1987\t1988\t-\tSep\tlastSun\t0:00\t0\tS\nZone America/El_Salvador -5:56:48 -\tLMT\t1921\t\t# San Salvador\n\t\t\t-6:00\tSalv\tC%sT\nZone\tAmerica/Grenada\t-4:07:00 -\tLMT\t1911 Jul\t# St George's\n\t\t\t-4:00\t-\tAST\nZone America/Guadeloupe\t-4:06:08 -\tLMT\t1911 Jun 8\t# Pointe a Pitre\n\t\t\t-4:00\t-\tAST\nLink America/Guadeloupe\tAmerica/St_Barthelemy\nLink America/Guadeloupe\tAmerica/Marigot\nRule\tGuat\t1973\tonly\t-\tNov\t25\t0:00\t1:00\tD\nRule\tGuat\t1974\tonly\t-\tFeb\t24\t0:00\t0\tS\nRule\tGuat\t1983\tonly\t-\tMay\t21\t0:00\t1:00\tD\nRule\tGuat\t1983\tonly\t-\tSep\t22\t0:00\t0\tS\nRule\tGuat\t1991\tonly\t-\tMar\t23\t0:00\t1:00\tD\nRule\tGuat\t1991\tonly\t-\tSep\t 7\t0:00\t0\tS\nRule\tGuat\t2006\tonly\t-\tApr\t30\t0:00\t1:00\tD\nRule\tGuat\t2006\tonly\t-\tOct\t 1\t0:00\t0\tS\nZone America/Guatemala\t-6:02:04 -\tLMT\t1918 Oct 5\n\t\t\t-6:00\tGuat\tC%sT\nRule\tHaiti\t1983\tonly\t-\tMay\t8\t0:00\t1:00\tD\nRule\tHaiti\t1984\t1987\t-\tApr\tlastSun\t0:00\t1:00\tD\nRule\tHaiti\t1983\t1987\t-\tOct\tlastSun\t0:00\t0\tS\nRule\tHaiti\t1988\t1997\t-\tApr\tSun\x3e\x3d1\t1:00s\t1:00\tD\nRule\tHaiti\t1988\t1997\t-\tOct\tlastSun\t1:00s\t0\tS\nRule\tHaiti\t2005\t2006\t-\tApr\tSun\x3e\x3d1\t0:00\t1:00\tD\nRule\tHaiti\t2005\t2006\t-\tOct\tlastSun\t0:00\t0\tS\nZone America/Port-au-Prince -4:49:20 -\tLMT\t1890\n\t\t\t-4:49\t-\tPPMT\t1917 Jan 24 12:00 # P-a-P MT\n\t\t\t-5:00\tHaiti\tE%sT\nRule\tHond\t1987\t1988\t-\tMay\tSun\x3e\x3d1\t0:00\t1:00\tD\nRule\tHond\t1987\t1988\t-\tSep\tlastSun\t0:00\t0\tS\nRule\tHond\t2006\tonly\t-\tMay\tSun\x3e\x3d1\t0:00\t1:00\tD\nRule\tHond\t2006\tonly\t-\tAug\tMon\x3e\x3d1\t0:00\t0\tS\nZone America/Tegucigalpa -5:48:52 -\tLMT\t1921 Apr\n\t\t\t-6:00\tHond\tC%sT\nZone\tAmerica/Jamaica\t-5:07:12 -\tLMT\t1890\t\t# Kingston\n\t\t\t-5:07:12 -\tKMT\t1912 Feb    # Kingston Mean Time\n\t\t\t-5:00\t-\tEST\t1974 Apr 28 2:00\n\t\t\t-5:00\tUS\tE%sT\t1984\n\t\t\t-5:00\t-\tEST\nZone America/Martinique\t-4:04:20 -      LMT\t1890\t\t# Fort-de-France\n\t\t\t-4:04:20 -\tFFMT\t1911 May     # Fort-de-France MT\n\t\t\t-4:00\t-\tAST\t1980 Apr  6\n\t\t\t-4:00\t1:00\tADT\t1980 Sep 28\n\t\t\t-4:00\t-\tAST\nZone America/Montserrat\t-4:08:52 -\tLMT\t1911 Jul 1 0:01   # Cork Hill\n\t\t\t-4:00\t-\tAST\nRule\tNic\t1979\t1980\t-\tMar\tSun\x3e\x3d16\t0:00\t1:00\tD\nRule\tNic\t1979\t1980\t-\tJun\tMon\x3e\x3d23\t0:00\t0\tS\nRule\tNic\t2005\tonly\t-\tApr\t10\t0:00\t1:00\tD\nRule\tNic\t2005\tonly\t-\tOct\tSun\x3e\x3d1\t0:00\t0\tS\nRule\tNic\t2006\tonly\t-\tApr\t30\t2:00\t1:00\tD\nRule\tNic\t2006\tonly\t-\tOct\tSun\x3e\x3d1\t1:00\t0\tS\nZone\tAmerica/Managua\t-5:45:08 -\tLMT\t1890\n\t\t\t-5:45:12 -\tMMT\t1934 Jun 23 # Managua Mean Time?\n\t\t\t-6:00\t-\tCST\t1973 May\n\t\t\t-5:00\t-\tEST\t1975 Feb 16\n\t\t\t-6:00\tNic\tC%sT\t1992 Jan  1 4:00\n\t\t\t-5:00\t-\tEST\t1992 Sep 24\n\t\t\t-6:00\t-\tCST\t1993\n\t\t\t-5:00\t-\tEST\t1997\n\t\t\t-6:00\tNic\tC%sT\nZone\tAmerica/Panama\t-5:18:08 -\tLMT\t1890\n\t\t\t-5:19:36 -\tCMT\t1908 Apr 22   # Colon Mean Time\n\t\t\t-5:00\t-\tEST\nZone America/Puerto_Rico -4:24:25 -\tLMT\t1899 Mar 28 12:00    # San Juan\n\t\t\t-4:00\t-\tAST\t1942 May  3\n\t\t\t-4:00\tUS\tA%sT\t1946\n\t\t\t-4:00\t-\tAST\nZone America/St_Kitts\t-4:10:52 -\tLMT\t1912 Mar 2\t# Basseterre\n\t\t\t-4:00\t-\tAST\nZone America/St_Lucia\t-4:04:00 -\tLMT\t1890\t\t# Castries\n\t\t\t-4:04:00 -\tCMT\t1912\t    # Castries Mean Time\n\t\t\t-4:00\t-\tAST\nZone America/Miquelon\t-3:44:40 -\tLMT\t1911 May 15\t# St Pierre\n\t\t\t-4:00\t-\tAST\t1980 May\n\t\t\t-3:00\t-\tPMST\t1987 # Pierre \x26 Miquelon Time\n\t\t\t-3:00\tCanada\tPM%sT\nZone America/St_Vincent\t-4:04:56 -\tLMT\t1890\t\t# Kingstown\n\t\t\t-4:04:56 -\tKMT\t1912\t   # Kingstown Mean Time\n\t\t\t-4:00\t-\tAST\nRule\tTC\t1979\t1986\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tTC\t1979\t2006\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tTC\t1987\t2006\t-\tApr\tSun\x3e\x3d1\t2:00\t1:00\tD\nRule\tTC\t2007\tmax\t-\tMar\tSun\x3e\x3d8\t2:00\t1:00\tD\nRule\tTC\t2007\tmax\t-\tNov\tSun\x3e\x3d1\t2:00\t0\tS\nZone America/Grand_Turk\t-4:44:32 -\tLMT\t1890\n\t\t\t-5:07:12 -\tKMT\t1912 Feb    # Kingston Mean Time\n\t\t\t-5:00\tTC\tE%sT\nZone America/Tortola\t-4:18:28 -\tLMT\t1911 Jul    # Road Town\n\t\t\t-4:00\t-\tAST\nZone America/St_Thomas\t-4:19:44 -\tLMT\t1911 Jul    # Charlotte Amalie\n\t\t\t-4:00\t-\tAST\n",
"redfin/search/map/MobileSearchController":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/_base/window dojo/dom dojo/dom-construct dojo/dom-class dojo/dom-style redfin/common/util redfin/search/map/SearchPageMobile".split(" "),function(h,b,e,a,c,d,g,f,k,l){return b("redfin.search.MobileSearchController",null,{init:function(){d.destroy(c.byId("search_results"));d.destroy(c.byId("sidepane"));d.destroy(c.byId("loading"));d.destroy(c.byId("ve_comments_container"));redfin.util.showElement(c.byId("search_bar"));
(new l).placeAt("search_bar","last")}})})},"redfin/common/elements/form/_FormElement":function(){define("redfin/common/elements/form/_FormElement",["dijit","dojo","dojox","dojo/require!dijit/form/_FormWidget,dijit/form/_FormValueWidget"],function(h,b,e){b.provide("redfin.common.elements.form._FormElement");b.require("dijit.form._FormWidget");b.require("dijit.form._FormValueWidget");b.declare("redfin.common.elements.form._FormElement",[h.form._FormWidget],{disabled:!1,_onChangeActive:!1,name:"",register:!1,
value:"",labelNode:null,tabIndexNode:null,attributeMap:b.delegate(h._Widget.prototype.attributeMap,{value:"domNode",id:"domNode",tabIndex:"tabIndexNode",alt:"domNode",title:"domNode"}),create:function(){this.inherited(arguments);this._onChangeActive=!0},buildRendering:function(){this.inherited(arguments);this.focusNode||(this.focusNode=this.domNode);this.inputNode&&this.inputNode.focusNode&&(this.focusNode=this.inputNode.focusNode);this.tabIndexNode||(this.tabIndexNode=this.domNode)},postCreate:function(){this.label||
this.set("label",null);this.inherited(arguments);if(this.inputNode){var a=this;b.mixin(this.inputNode,{displayMessage:function(b){this._message!=b&&(this._message=b,a._setErrorAttr(this._message))}})}void 0===this._attachClickableEvents&&b.connect(this.domNode,"onclick",b.hitch(this,this._onClick))},_setValueAttr:function(a,b){this.inherited(arguments);this._onChangeActive||(b=null);if(this.inputNode&&this.inputNode.attr){var d=!1===this.inputNode.attr("checked");this.inputNode.attr("value",a,b);
d&&this.inputNode.attr("checked",!1);this.inputNode._lastValueReported=a}},_setLabelAttr:function(a){a&&"string"===typeof a&&0<a.length?this._set("label",a):this._set("label",null);b.toggleClass(this.domNode,"no-label",!this.label);var c=this._labelNode||this.labelNode;c&&(c.innerHTML=this.label||"");this.inherited(arguments)},_setIconAttr:function(a,b){},_setDisabledAttr:function(a){this.inherited(arguments);b.toggleClass(this.domNode,"disabled",this.disabled)},_setErrorAttr:function(a){"string"===
typeof a&&""!=a?this._set("error",a):this._set("error",null);this._errorNode?(b.toggleClass(this.domNode,"error",this.error),b.toggleClass(this._errorNode,"hidden",!this.error),this._errorNode.innerHTML=this.error||""):console.error("Error: Couldn't show error message for: "+this.declaredClass+" _errorNode undefined")},_setResetValueAttr:function(a){this.inputNode&&(this.inputNode._resetValue=a)},_getErrorAttr:function(){return this.error},_getValueAttr:function(){if(this.inputNode){var a=this.inputNode.attr("value");
return"undefined"==typeof a||""===a?null:a}return null},focus:function(){this.inputNode&&this.inputNode.focusNode&&h.focus(this.inputNode.focusNode)},blur:function(){},onFocus:function(){this.inherited(arguments)},setValue:function(a,b,d){this.set("value",a,d);this.inputNode&&b&&(this.inputNode._resetValue=a)},_getNameAttr:function(){return this.name},getResetValue:function(){return this.inputNode?this.inputNode._resetValue:null},reset:function(){this.inputNode&&this.inputNode.reset&&this.inputNode.reset();
this.inherited(arguments)},_onClick:function(){this.focus()}});b.declare("redfin.common.elements.form._FormValueElement",[h.form._FormValueWidget,redfin.common.elements.form._FormElement],{})})},"redfin/common/data/MlsStatus":function(){define(["dijit","dojo","dojox","dojo/require!redfin/common/data/MethodGenerator,redfin/common/data/DataObject"],function(h,b,e){b.provide("redfin.common.data.MlsStatus");b.require("redfin.common.data.MethodGenerator");b.require("redfin.common.data.DataObject");b.declare("redfin.common.data.MlsStatus",
[redfin.common.data.DataObject],{});b.forEach(["id","mlsStatusCode","dataSource","lastUpdated"],function(a){redfin.common.data.MethodGenerator.generateMethods(redfin.common.data.MlsStatus,a)});b.forEach(["redfinDisplayValue","searchStatus","briefDefinition","longerDefinitionToken","sashMessage"],function(a){redfin.common.data.MethodGenerator.generateGetter(redfin.common.data.MlsStatus,a)})})},"dijit/DialogUnderlay":function(){define("dijit/DialogUnderlay","dojo/_base/declare dojo/dom-attr dojo/window ./_Widget ./_TemplatedMixin ./BackgroundIframe".split(" "),
function(h,b,e,a,c,d){return h("dijit.DialogUnderlay",[a,c],{templateString:"\x3cdiv class\x3d'dijitDialogUnderlayWrapper'\x3e\x3cdiv class\x3d'dijitDialogUnderlay' data-dojo-attach-point\x3d'node'\x3e\x3c/div\x3e\x3c/div\x3e",dialogId:"","class":"",_setDialogIdAttr:function(a){b.set(this.node,"id",a+"_underlay");this._set("dialogId",a)},_setClassAttr:function(a){this.node.className="dijitDialogUnderlay "+a;this._set("class",a)},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode)},
layout:function(){var a=this.node.style,b=this.domNode.style;b.display="none";var c=e.getBox(this.ownerDocument);b.top=c.t+"px";b.left=c.l+"px";a.width=dojo.isIE?c.w-5+"px":c.w+"px";a.height=c.h+"px";b.display="block"},show:function(){this.domNode.style.display="block";this.layout();this.bgIframe=new d(this.domNode)},hide:function(){this.bgIframe.destroy();delete this.bgIframe;this.domNode.style.display="none"}})})},"redfin/homepage/widgets/_HomeSearchForm":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/sniff dojo/query dojo/dom-class dojo/dom-style dojo/has dojo/on dojo/cookie dojo/when dojo/request redfin/bouncer/Bouncer redfin/common/testing/ABTestController redfin/search/service_endpoints redfin/search/util/NameValueUtil redfin/common/data/ObjectGraph redfin/search/map/GisUrlGenerator".split(" "),
function(h,b,e,a,c,d,g,f,k,l,m,p,n,q,r,t,u){return h("redfin.homepage.widgets._HomeSearchForm",[],{includeHeaderInExperiment:!1,mySearchesData:null,_arePlaceholderEventsSetUp:!1,_currentPlaceholder:null,_loadLastSearch:!0,_isThisLastSearch:!1,_searchStringPromise:null,_currentLocation:null,_isSubmissionBegun:!1,_SEARCH_DELAY_MSEC:50,_LOCATION_INPUT_PLACEHOLDER:p.isOn(g_feature.MOBILE_SEARCH_RESULTS)?"City, ZIP, Address, School, or MLS #":"Enter a ZIP, neighborhood, city, address, school or MLS #",
_EXPERIMENT_TARGET_BUTTON:"homepage.searchButton",_EXPERIMENT_TARGET_HEADERLINK:"homepage.searchForHomesLink",_EXPERIMENT_CATEGORY:"redfin.homepage",onSearch:function(){this._trackSearchClick()},_setUpExperiment:function(){this.experimentController=new n;this.experimentController.initialize({experimentId:g_feature.NEW_HOMEPAGE_EXPERIMENT,experimentInstanceId:k("RF_BROWSER_ID"),target:[this._EXPERIMENT_TARGET_BUTTON,this._EXPERIMENT_TARGET_HEADERLINK],category:this._EXPERIMENT_CATEGORY});if(this.includeHeaderInExperiment)for(var b=
a(".redfin-menu .searchHomes a")||[],c=0;c<b.length;c++)this._listenToSearchForHomesClick(b[c])},_listenToSearchForHomesClick:function(a){a&&a.href&&f(a,"click",b.hitch(this,function(b){this._handleSearchForHomesClick(a.href,b)}))},_handleSearchForHomesClick:function(a,b){b&&(b.preventDefault(),b.stopPropagation());if(!this._isSubmissionBegun){this._isSubmissionBegun=!0;var c=this.experimentController,f=function(){window.location=a};dojo.when(c.whenLoaded(),dojo.hitch(this,function(){c.completedGoal(f,
{target:this._EXPERIMENT_TARGET_HEADERLINK})}),f)}return!1},submitSearch:function(a){a&&(a.preventDefault(),a.stopPropagation());if(!this._isSubmissionBegun){this._isSubmissionBegun=!0;this.onSearch();this._clearLastSearchCookie();var c=b.hitch(this,this._actuallySubmit);l(this.experimentController.whenLoaded(),b.hitch(this,function(){this.experimentController.completedGoal(c,{target:this._EXPERIMENT_TARGET_BUTTON})}),c)}return!1},_actuallySubmit:function(){g_bouncer().isOn(g_feature.CONVERTRO_TRACKING)&&
($CVO=window.$CVO||[],$CVO.push(["trackEvent",{type:"search",id:null,amount:"1"}]));setTimeout(b.hitch(this,function(){window.location=this._createSearchUrl()},this._SEARCH_DELAY_MSEC))},_clearLastSearchCookie:function(){var a=new Date;a.setDate(a.getDate()-1);var b=document.domain,b=document.domain.split(".");if("www"==b[0]||"beta"==b[0])b[0]="";b=b.join(".");document.cookie="RF_MARKET\x3ddelete;expires\x3d"+a.toGMTString()+";domain\x3d"+b},_createSearchUrl:function(){var a=this.searchFormNode;if(this._isThisLastSearch){var b=
k("lastSearch");if(b)return searchUrl+"#!"+b}var b=a.searchLocation.value,c=new u;c.start(searchUrl+"#!");c.add("status",1);this._currentLocation?(c.appendLatLong({lat:this._currentLocation.coords.latitude,"long":this._currentLocation.coords.longitude}),c.add("status",131)):this._LOCATION_INPUT_PLACEHOLDER!=b&&c.add("search_location",b);a.num_beds.value&&c.add("num_beds",a.num_beds.value);a.num_baths.value&&c.add("num_baths",a.num_baths.value);a.min_price.value&&c.add("min_price",a.min_price.value);
a.max_price.value&&(!a.min_price.value||parseInt(a.min_price.value)<parseInt(a.max_price.value))&&c.add("max_price",a.max_price.value);c.appendPropertyType([1,2,3,4,5,6]);return c.getUrl()},_trackSearchClick:function(){m.get("/stingray/clicktracker.jsp?category\x3dredfin.homepage\x26action\x3dclickSearchListings",{sync:!1});dojo.global._gaq.push(["_trackEvent","Homepage OMS","Search Listings"])},setLocationPlaceholder:function(a){if(this._hasPlaceholderSupport())this.locationInput.textbox.placeholder=
a;else{var c=this.locationInput.textbox;c.value=this._currentPlaceholder=a;d.set(c,"color","#999");this._arePlaceholderEventsSetUp||(f(c,"focus",b.hitch(this,function(){this._currentPlaceholder==c.value&&(c.value="",d.set(c,"color","#000"))})),f(c,"blur",b.hitch(this,function(){""===c.value&&(c.value=this._currentPlaceholder,d.set(c,"color","#999"))})),this._arePlaceholderEventsSetUp=!0)}},_hasPlaceholderSupport:function(){return"placeholder"in document.createElement("input")},_updateCurrentLocation:function(){g("native-geolocation")?
navigator.geolocation.getCurrentPosition(b.hitch(this,function(a){this._currentLocation=a;this._updateTextboxForCurrentLocation()}),b.hitch(this,function(a){this._currentLocation=null})):this._currentLocation=null},_updateTextboxForCurrentLocation:function(){this._markThisIsNewSearch();this.locationInput.textbox.value="Current Location";this.locationInput.textbox.readOnly=!0;d.set(this.locationInput.textbox,"color","#1876a6");c.remove(this.clearSearchButtonNode,"hidden");c.add(this.currentLocationButtonNode,
"hidden")},_clearSearchInput:function(){this._currentLocation=null;this._markThisIsNewSearch();this.locationInput.textbox.value="";this.locationInput.textbox.focus();this.locationInput.textbox.readOnly=!1;d.set(this.locationInput.textbox,"color","#000");c.add(this.clearSearchButtonNode,"hidden");c.remove(this.currentLocationButtonNode,"hidden")},_checkLastSearchCookie:function(){var a=this._loadLastSearch?k("lastSearch"):!1;a?this.prepopulateWithLastSearch(a):this._markThisIsNewSearch()},prepopulateWithLastSearch:function(a){var c=
redfin.util.NameValue.deconstructQueryString(a);this._searchStringPromise=this._getSearchStringForLastSearch(c);l(this._searchStringPromise,b.hitch(this,function(a){this._searchStringSuccess(c,a)}),b.hitch(this,this._searchStringErr))},_getSearchStringForLastSearch:function(a){return this.mySearchesData?l(this.mySearchesData,b.hitch(this,function(a){return a&&a.payload&&(new t(a.payload)).getRoot().lastSearchString||null}),this._handleError):a.region_id&&a.region_type?this.getSearchStringByRegionId(a.region_id,
a.region_type):a.listing_id?this.getSearchStringByListingId(a.listing_id):a.parcel_by_property_id?this.getSearchStringByPropertyId(a.parcel_by_property_id):a.dslisting_id?this.getSearchStringByDsListingId(a.dslisting_id):a.lat&&a["long"]?this.getSearchStringByLatLong(a.lat,a["long"],a.zoomLevel):null},_searchStringSuccess:function(b,f){if(f){this.locationInput.textbox.value=f;this._hasPlaceholderSupport()||d.set(this.locationInput.textbox,"color","#000");for(var k in b){var g=a('select[name\x3d"'+
k+'"] option[value\x3d"'+b[k]+'"]',this.searchFormNode);g&&g[0]&&(g[0].selected=!0)}c.remove(this.clearSearchButtonNode,"hidden");c.add(this.currentLocationButtonNode,"hidden");this._listenForParamChanges();this._markThisIsLastSearch()}this._searchStringPromise=null},_searchStringErr:function(){console.error(arguments);this._searchStringPromise=null},_listenForParamChanges:function(){for(var a=[this.minPriceNode,this.maxPriceNode,this.minBedsNode,this.minBathsNode],c=0;c<a.length;c++)this.own(f(a[c],
"change",b.hitch(this,this._markThisIsNewSearch)));this.own(f(this.locationInput,"input",b.hitch(this,function(){this._markThisIsNewSearch();this._searchStringPromise&&this._searchStringPromise.cancel("userInput")})))},_markThisIsNewSearch:function(){this._isThisLastSearch=!1;this.submitButtonNode.title="Find Homes";p.isOn(g_feature.MOBILE_SEARCH_RESULTS)||(this.thinSubmitButtonNode.value="Find Homes on Our Desktop Site")},_markThisIsLastSearch:function(){this._isThisLastSearch=!0;p.isOn(g_feature.MOBILE_SEARCH_RESULTS)||
(this.submitButtonNode.title=this.thinSubmitButtonNode.value="Continue My Last Search")},getSearchStringByRegionId:function(a,b){var c=redfin.serviceEndpoints.queryRegionId+"region_id\x3d"+encodeURIComponent(a)+"\x26region_type\x3d"+encodeURIComponent(b),f=this._handleError;return m.get(c,{handleAs:"json"}).then(function(a){return a&&a.regions&&a.regions[0]?a.regions[0].name:f(a)},f)},_getSearchStringById:function(a,b){var c=redfin.serviceEndpoints.gisIdSearch+a+"\x3d"+encodeURIComponent(b),f=this._handleError;
return m.get(c,{handleAs:"json"}).then(function(a){if(a&&a.payload&&a.payload.search_result&&a.payload.search_result[0]){var b=a.payload.search_result[0];if(b.address_data&&b.address_data.display)return b.address_data.display}return f(a)},f)},getSearchStringByListingId:function(a){return this._getSearchStringById("listing_id",a)},getSearchStringByPropertyId:function(a){return this._getSearchStringById("parcel_by_property_id",a)},getSearchStringByDsListingId:function(a){return this._getSearchStringById("dslisting_id",
a)},getSearchStringByLatLong:function(a,b,c){var f=this._handleError;return m.get("/stingray/do/query-latlong?latitude\x3d"+a+"\x26longitude\x3d"+b+"\x26zoomLevel\x3d"+c,{handleAs:"json"}).then(function(a){return a&&a.name?a.name:f(a)},f)},_handleError:function(a){console.error(a);return null},locationInput:null,experimentController:null,searchFormNode:null,submitButtonNode:null,thinSubmitButtonNode:null,currentLocationButtonNode:null,clearSearchButtonNode:null,minPriceNode:null,maxPriceNode:null,
minBedsNode:null,minBathsNode:null})})},"dojo/cldr/nls/gregorian":function(){define({root:{"months-format-abbr":"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),"months-format-narrow":"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),"months-format-wide":"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),"months-standAlone-abbr":"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),"months-standAlone-narrow":"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),"months-standAlone-wide":"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),"days-format-abbr":"1234567".split(""),
"days-format-narrow":"1234567".split(""),"days-format-wide":"1234567".split(""),"days-standAlone-abbr":"1234567".split(""),"days-standAlone-narrow":"1234567".split(""),"days-standAlone-wide":"1234567".split(""),"quarters-format-abbr":["Q1","Q2","Q3","Q4"],"quarters-format-narrow":["1","2","3","4"],"quarters-format-wide":["Q1","Q2","Q3","Q4"],"quarters-standAlone-abbr":["Q1","Q2","Q3","Q4"],"quarters-standAlone-narrow":["1","2","3","4"],"quarters-standAlone-wide":["Q1","Q2","Q3","Q4"],"dayPeriods-format-abbr-am":"AM",
"dayPeriods-format-abbr-pm":"PM","dayPeriods-format-narrow-am":"AM","dayPeriods-format-narrow-pm":"PM","dayPeriods-format-wide-am":"AM","dayPeriods-format-wide-pm":"PM",eraNames:["BCE","CE"],eraAbbr:["BCE","CE"],eraNarrow:["BCE","CE"],"dateFormat-full":"EEEE, y MMMM dd","dateFormat-long":"y MMMM d","dateFormat-medium":"y MMM d","dateFormat-short":"yyyy-MM-dd","timeFormat-full":"HH:mm:ss zzzz","timeFormat-long":"HH:mm:ss z","timeFormat-medium":"HH:mm:ss","timeFormat-short":"HH:mm","dateTimeFormat-full":"{1} {0}",
"dateTimeFormat-long":"{1} {0}","dateTimeFormat-medium":"{1} {0}","dateTimeFormat-short":"{1} {0}","dateFormatItem-d":"d","dateFormatItem-Ed":"d E","dateFormatItem-h":"h a","dateFormatItem-H":"HH","dateFormatItem-hm":"h:mm a","dateFormatItem-Hm":"HH:mm","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-M":"L","dateFormatItem-Md":"M-d","dateFormatItem-MEd":"E, M-d","dateFormatItem-MMM":"LLL","dateFormatItem-MMMd":"MMM d","dateFormatItem-MMMEd":"E MMM d","dateFormatItem-ms":"mm:ss",
"dateFormatItem-y":"y","dateFormatItem-yM":"y-M","dateFormatItem-yMd":"y-M-d","dateFormatItem-yMEd":"E, y-M-d","dateFormatItem-yMMM":"y MMM","dateFormatItem-yMMMd":"y MMM d","dateFormatItem-yMMMEd":"E, y MMM d","dateFormatItem-yQ":"y Q","dateFormatItem-yQQQ":"y QQQ","dateTimeFormats-appendItem-Day":"{0} ({2}: {1})","dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","dateTimeFormats-appendItem-Era":"{0} {1}","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})",
"dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})","dateTimeFormats-appendItem-Timezone":"{0} {1}","dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","dateTimeFormats-appendItem-Year":"{0} {1}","field-era":"Era","field-year":"Year","field-month":"Month","field-week":"Week","field-day":"Day","field-day-relative+-1":"Yesterday","field-day-relative+0":"Today","field-day-relative+1":"Tomorrow",
"field-weekday":"Day of the Week","field-dayperiod":"Dayperiod","field-hour":"Hour","field-minute":"Minute","field-second":"Second","field-zone":"Zone"},ar:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,"en-au":!0,"en-ca":!0,"en-gb":!0,es:!0,fi:!0,fr:!0,"fr-ch":!0,he:!0,hu:!0,it:!0,ja:!0,ko:!0,nb:!0,nl:!0,pl:!0,pt:!0,"pt-pt":!0,ro:!0,ru:!0,sk:!0,sl:!0,sv:!0,th:!0,tr:!0,zh:!0,"zh-hant":!0,"zh-hk":!0,"zh-tw":!0})},"dojo/cldr/nls/en/gregorian":function(){define({"months-format-abbr":"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
"months-format-wide":"January February March April May June July August September October November December".split(" "),"months-standAlone-narrow":"JFMAMJJASOND".split(""),"days-format-abbr":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"days-format-wide":"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),"days-standAlone-narrow":"SMTWTFS".split(""),"quarters-format-abbr":["Q1","Q2","Q3","Q4"],"quarters-format-wide":["1st quarter","2nd quarter","3rd quarter","4th quarter"],"quarters-standAlone-narrow":["1",
"2","3","4"],"dayPeriods-format-narrow-am":"a","dayPeriods-format-narrow-noon":"n","dayPeriods-format-narrow-pm":"p","dayPeriods-format-wide-am":"AM","dayPeriods-format-wide-noon":"noon","dayPeriods-format-wide-pm":"PM",eraNames:["Before Christ","Anno Domini"],eraAbbr:["BC","AD"],eraNarrow:["B","A"],"dateFormat-full":"EEEE, MMMM d, y","dateFormat-long":"MMMM d, y","dateFormat-medium":"MMM d, y","dateFormat-short":"M/d/yy","timeFormat-full":"h:mm:ss a zzzz","timeFormat-long":"h:mm:ss a z","timeFormat-medium":"h:mm:ss a",
"timeFormat-short":"h:mm a","dateTimeFormat-full":"{1} {0}","dateTimeFormat-long":"{1} {0}","dateTimeFormat-medium":"{1} {0}","dateTimeFormat-short":"{1} {0}","dateFormatItem-d":"d","dateFormatItem-Ed":"d E","dateFormatItem-hm":"h:mm a","dateFormatItem-Hm":"HH:mm","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-M":"L","dateFormatItem-Md":"M/d","dateFormatItem-MEd":"E, M/d","dateFormatItem-MMM":"LLL","dateFormatItem-MMMd":"MMM d","dateFormatItem-MMMEd":"E, MMM d","dateFormatItem-ms":"mm:ss",
"dateFormatItem-y":"y","dateFormatItem-yM":"M/y","dateFormatItem-yMd":"M/d/y","dateFormatItem-yMEd":"E, M/d/y","dateFormatItem-yMMM":"MMM y","dateFormatItem-yMMMd":"MMM d, y","dateFormatItem-yMMMEd":"E, MMM d, y","dateFormatItem-yQ":"Q y","dateFormatItem-yQQQ":"QQQ y","field-era":"Era","field-year":"Year","field-year-relative+-1":"Last year","field-year-relative+0":"This year","field-year-relative+1":"Next year","field-month":"Month","field-month-relative+-1":"Last month","field-month-relative+0":"This month",
"field-month-relative+1":"Next month","field-week":"Week","field-week-relative+-1":"Last week","field-week-relative+0":"This week","field-week-relative+1":"Next week","field-day":"Day","field-day-relative+-1":"Yesterday","field-day-relative+0":"Today","field-day-relative+1":"Tomorrow","field-weekday":"Day of the Week","field-dayperiod":"AM/PM","field-hour":"Hour","field-minute":"Minute","field-second":"Second","field-zone":"Time Zone","months-format-narrow":"JFMAMJJASOND".split(""),"months-standAlone-abbr":"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
"months-standAlone-wide":"January February March April May June July August September October November December".split(" "),"days-format-narrow":"SMTWTFS".split(""),"days-standAlone-abbr":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"days-standAlone-wide":"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),"quarters-standAlone-wide":["1st quarter","2nd quarter","3rd quarter","4th quarter"]})},"url:redfin/search/widget/templates/RfBaseDialog.html":'\x3cdiv class\x3d"dijitDialog rfBaseDialog" tabindex\x3d"-1" waiRole\x3d\'dialog\' waiState\x3d"labelledby-${id}_title"\x3e\n\t\x3cdiv class\x3d"rfBaseDialogInnerBorder"\x3e \n\t\t\x3cdiv dojoAttachPoint\x3d\'titleBar\' class\x3d\'dijitDialogTitleBar\'\x3e\n\t\t\t\x3cspan dojoAttachPoint\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\x3e\x3c/span\x3e\n\t\t\t\x3cdiv dojoAttachPoint\x3d"closeButtonNode" class\x3d"rfBaseDialogClose" dojoAttachEvent\x3d"onclick: onCancel" title\x3d"${buttonCancel}"\x3e\n\t\t\t\t\x3cimg class\x3d"btn_close_popup" src\x3d "${imageServerUrl}/images/clear.gif" /\x3e\n\t\t\t\t\x3cspan style\x3d"display:none" dojoAttachPoint\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d\'dijitDialogPaneContent ${contentClass}\' dojoAttachPoint\x3d"containerNode"\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"dijit/form/_ToggleButtonMixin":function(){define("dijit/form/_ToggleButtonMixin",["dojo/_base/declare","dojo/dom-attr"],function(h,b){return h("dijit.form._ToggleButtonMixin",null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(b){var a=this.checked;this._set("checked",!a);var c=this.inherited(arguments);this.set("checked",c?this.checked:a);return c},_setCheckedAttr:function(e,a){this._set("checked",e);b.set(this.focusNode||this.domNode,"checked",e);(this.focusNode||this.domNode).setAttribute(this._aria_attr,
e?"true":"false");this._handleOnChange(e,a)},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"redfin/search/common/dialogs/ConfirmDialog":function(){define("redfin/search/common/dialogs/ConfirmDialog","dojo/_base/declare dojo/_base/lang redfin/common/mixins/_Adopt redfin/search/common/dialogs/BasicDialogActions redfin/search/common/dialogs/FixedDialog redfin/bouncer/Bouncer".split(" "),function(h,b,e,a,c,d){return h("redfin.search.common.dialogs.ConfirmDialog",
[c,e],{positive:"Okay",negative:"",actions:null,postCreate:function(){this.inherited(arguments);this.actions=this.adopt(a,{positive:this.positive,negative:this.negative});d.isOn(g_feature.COMMON_DIALOGS)?this.actions.placeAt(this.containerNode,"last"):this.actions.placeAt(this.domNode,"last");this.connect(this.actions,"onPositiveClick",function(){d.isOn(g_feature.COMMON_DIALOGS)?this.hide().then(b.hitch(this,this._onCloseAndDestroy,!0)):(this.hide(),this._onCloseAndDestroy(!0))});this.connect(this.actions,
"onNegativeClick",function(){d.isOn(g_feature.COMMON_DIALOGS)?this.hide().then(b.hitch(this,this._onCloseAndDestroy,!1)):(this.hide(),this._onCloseAndDestroy(!1))})},_onCloseAndDestroy:function(a){this.onClose(a);this.destroyRecursive()},onClose:function(a){if(a)this.onPositive();else this.onNegative()},onPositive:function(){},onNegative:function(){}})})},"redfin/common/data/CorgiProperty":function(){define("redfin/common/data/CorgiProperty",["dijit","dojo","dojox","dojo/require!redfin/common/data/DataObject,redfin/common/data/AddressMixin,redfin/search/common/RestrictedValueAccessor"],
function(h,b,e){b.provide("redfin.common.data.CorgiProperty");b.require("redfin.common.data.DataObject");b.require("redfin.common.data.AddressMixin");b.require("redfin.search.common.RestrictedValueAccessor");b.declare("redfin.common.data.CorgiProperty",[redfin.common.data.DataObject],{});b.mixin(redfin.common.data.CorgiProperty.prototype,redfin.common.data.AddressMixin)})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(h){return function(b,e){function a(a){a=
h.filter(a,b);var c=e&&e.sort;c&&a.sort("function"==typeof c?c:function(a,b){for(var f,d=0;f=c[d];d++){var e=a[f.attribute],h=b[f.attribute];if(e!=h)return!!f.descending==(null==e||e>h)?-1:1}return 0});if(e&&(e.start||e.count)){var f=a.length;a=a.slice(e.start||0,(e.start||0)+(e.count||Infinity));a.total=f}return a}switch(typeof b){default:throw Error("Can not query with a "+typeof b);case "object":case "undefined":var c=b;b=function(a){for(var b in c){var f=c[b];if(f&&f.test){if(!f.test(a[b],a))return!1}else if(f!=
a[b])return!1}return!0};break;case "string":if(!this[b])throw Error("No filter function "+b+" was found in store");b=this[b];case "function":}a.matches=b;return a}})},"redfin/search/map/overlays/markers/FastMarker":function(){require({cache:{"url:redfin/search/map/overlays/markers/templates/FastMarker.html":'\x3cdiv style\x3d"position:absolute; left: {left}px; top:{top}px; z-index: {zIndex}; {style}" class\x3d"{class}" id\x3d"{id}"\x3e\n\t{html}\n\x3c/div\x3e\n'}});define("redfin/search/map/overlays/markers/FastMarker",
["dojo/_base/lang","dojo/text!./templates/FastMarker.html"],function(h,b){var e=function(a){h.mixin(this,a||{})};h.mixin(e.prototype,{id:"","class":"",leftOffset:-5,topOffset:-25,zIndex:"auto",style:"",html:"",position:null,getTemplate:function(a){return h.replace(b,h.mixin({},this,a))}});h.setObject("redfin.search.overlays.markers.FastMarker",e);return e})},"dijit/_TemplatedMixin":function(){define("dijit/_TemplatedMixin","dojo/_base/lang dojo/touch ./_WidgetBase dojo/string dojo/cache dojo/_base/array dojo/_base/declare dojo/dom-construct dojo/sniff dojo/_base/unload".split(" "),
function(h,b,e,a,c,d,g,f,k,l){var m=g("dijit._TemplatedMixin",null,{templateString:null,templatePath:null,_skipNodeCache:!1,_earlyTemplatedStartup:!1,constructor:function(){this._attachPoints=[];this._attachEvents=[]},_stringRepl:function(b,c){var f=this.declaredClass,d=this;return a.substitute(b,this,function(a,b){"!"==b.charAt(0)&&(a=h.getObject(b.substr(1),!1,d));if("undefined"==typeof a)throw Error(f+" template:"+b);if(null==a)return"";if(c===b)throw Error(f+" recursive substitution found in template. key:"+
b);"string"===typeof a&&(a=this._stringRepl(a,b));return"!"==b.charAt(0)?a:a.toString().replace(/"/g,"\x26quot;")},this)},buildRendering:function(){this.templateString||(this.templateString=c(this.templatePath,{sanitize:!0}));if(!this._rendered){var a=m.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),b;if(h.isString(a)){if(b=f.toDom(this._stringRepl(a),this.ownerDocument),1!=b.nodeType)throw Error("Invalid template: "+a);}else b=a.cloneNode(!0);this.domNode=b}this.inherited(arguments);
this._attachTemplateNodes(this.domNode,function(a,b){return a.getAttribute(b)});this._beforeFillContent();this._rendered||this._fillContent(this.srcNodeRef);this._rendered=!0},_beforeFillContent:function(){},_fillContent:function(a){var b=this.containerNode;if(a&&b)for(;a.hasChildNodes();)b.appendChild(a.firstChild)},_attachTemplateNodes:function(a,c){for(var f=h.isArray(a)?a:a.all||a.getElementsByTagName("*"),d=h.isArray(a)?0:-1;0>d||f[d];d++){var k=-1==d?a:f[d];if(!this.widgetsInTemplate||!c(k,
"dojoType")&&!c(k,"data-dojo-type")){var l=c(k,"dojoAttachPoint")||c(k,"data-dojo-attach-point");if(l)for(var g=l.split(/\s*,\s*/);l=g.shift();)h.isArray(this[l])?this[l].push(k):this[l]=k,this._attachPoints.push(l);if(l=c(k,"dojoAttachEvent")||c(k,"data-dojo-attach-event"))for(var g=l.split(/\s*,\s*/),e=h.trim;l=g.shift();)if(l){var m=null;-1!=l.indexOf(":")?(m=l.split(":"),l=e(m[0]),m=e(m[1])):l=e(l);m||(m=l);this._attachEvents.push(this.connect(k,b[l]||l,m))}}}},destroyRendering:function(){d.forEach(this._attachPoints,
function(a){delete this[a]},this);this._attachPoints=[];d.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments)}});m._templateCache={};m.getCachedTemplate=function(b,c,d){var k=m._templateCache,l=b,g=k[l];if(g){try{if(!g.ownerDocument||g.ownerDocument==(d||document))return g}catch(e){}f.destroy(g)}b=a.trim(b);if(c||b.match(/\$\{([^\}]+)\}/g))return k[l]=b;c=f.toDom(b,d);if(1!=c.nodeType)throw Error("Invalid template: "+b);return k[l]=c};k("ie")&&l.addOnWindowUnload(function(){var a=
m._templateCache,b;for(b in a){var c=a[b];"object"==typeof c&&f.destroy(c);delete a[b]}});h.extend(e,{dojoAttachEvent:"",dojoAttachPoint:""});return m})},"redfin/common/HomeSash":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/dom-class dojo/_base/array redfin/search/data/mixins/_PropertyCssMixin dojo/text!./templates/HomeSash.html".split(" "),function(h,b,e,a,c,d,g){b=h("redfin.common.HomeSash",[b,e],{templateString:g,_innerSashClassPrefix:"theme-sash-",_outerSashClassPrefix:"sprite-sash-",
_badgeClassPrefix:"sprite-similar-badge-",_iconClassPrefix:"sprite-similar-home-",_badgeClasses:{FAVORITE:{cssClass:"fav"},ANTIFAVORITE:{cssClass:"xout"},AGC:{cssClass:"agc"}},_sizes:{SMALL:{name:"small",cssClass:"sm"},LARGE:{name:"large",cssClass:"lg"}},_outerSashClasses:{REDFIN_SOLD:{cssClass:"redfin-sold"},REDFIN_BOUGHT:{cssClass:"redfin-bought",href:"/sell-a-home/why-redfin-is-better"},SOLD:{cssClass:"sold",href:"/sell-a-home/why-redfin-is-better"},REDFIN_PENDING:{cssClass:"redfin-pending",href:"/sell-a-home/why-redfin-is-better"},
PENDING:{cssClass:"pending"},REDFIN_CONTINGENT:{cssClass:"redfin-contingent",href:"/sell-a-home/why-redfin-is-better"},CONTINGENT:{cssClass:"contingent"},REDFIN_UNDERCONTRACT:{cssClass:"redfin-undercontract",href:"/sell-a-home/why-redfin-is-better"},UNDERCONTRACT:{cssClass:"undercontract"},REDFIN_BACKUPOFFER:{cssClass:"redfin-acceptingbackupoffers",href:"/sell-a-home/why-redfin-is-better"},BACKUPOFFER:{cssClass:"acceptingbackupoffers"},FORECLOSURE:{cssClass:"foreclosure"},REDFIN_NEW:{cssClass:"redfin-new",
href:"/sell-a-home/why-redfin-is-better"},NEW:{cssClass:"new"},REDFIN_OPEN_HOUSE:{cssClass:"redfin-open-house",href:"/sell-a-home/why-redfin-is-better"},OPEN_HOUSE:{cssClass:"open-house"},SHORT_SALE:{cssClass:"short-sale"},MODEL_HOME:{cssClass:"model-home"},REDFIN_FOR_SALE:{cssClass:"redfin-for-sale",href:"/sell-a-home/why-redfin-is-better"},FOR_SALE:{cssClass:"for-sale"},NOT_FOR_SALE:{cssClass:"not-for-sale"}},hideOuterSash:!1,hideInnerSash:!1,sashSize:"small",postMixInProperties:function(){this.mlsStatus=
this.searchStatus=this.listingType=null;switch(this.sashSize){case this._sizes.LARGE.name:this.size=this._sizes.LARGE;break;default:this.size=this._sizes.SMALL}this.inherited(arguments);!g_listingTypes&&"object"!==typeof g_listingTypes&&console.error("Error: redfin.common.HomeSash requires enum g_listingTypes");!g_propertyType&&"object"!==typeof g_propertyType&&console.error("Error: redfin.common.HomeSash requires enum g_propertyType");!g_searchStatus&&"object"!==typeof g_searchStatus&&console.error("Error: redfin.common.HomeSash requires enum g_searchStatus");
!g_mlsSashMessage&&"object"!==typeof g_mlsSashMessage&&console.error("Error: redfin.common.HomeSash requires enum g_mlsSashMessage")},_setHideInnerSashAttr:function(a,b){this._set("hideInnerSash",!0===a);b&&this._updateDisplay()},_setHideOuterSashAttr:function(a,b){this._set("hideOuterSash",!0===a);b&&this._updateDisplay()},_setSizeAttr:function(a,b){b&&this._updateDisplay()},_setPropertyTypeAttr:function(a,b){this._set("propertyType",a);this.set("propertyTypeClass",this._getPropertyTypeCssName(this.propertyType),
!1);b&&this._updateDisplay()},_setListingTypeAttr:function(a,b){this._set("listingType",a);this.set("homeTypeClass",this._getHomeTypeCssName(this.listingType,this.searchStatus),!1);b&&this._updateDisplay()},_setSearchStatusAttr:function(a,b){this._set("searchStatus",a);b&&this._updateDisplay()},_setMlsStatusAttr:function(a,b){this._set("mlsStatus",a);a&&this._set("mlsSash",a.getSashMessage());b&&this._updateDisplay()},_setMlsSashAttr:function(a,b){this._set("mlsSash",a);b&&this._updateDisplay()},
_setPropertyTypeClassAttr:function(a,b){this._prevousPropertyTypeClass=this.propertyTypeClass;this._set("propertyTypeClass",a);b&&this._updateDisplay()},_setHomeTypeClassAttr:function(a,b){this._previousHomeTypeClass=this.homeTypeClass;this._set("homeTypeClass",a);b&&this._updateDisplay()},_setFavoriteAttr:function(a,b){if("redfin.common.data.Favorite"!==a.declaredClass)return console.error('Error: HomeSash._setFavoriteAttr requires data object of type "redfin.common.data.Favorite"'),!1;if(!g_favoritePropertyType&&
"object"!==typeof g_favoritePropertyType)return console.error("Error: HomeSash._setFavoriteAttr requires enum g_favoritePropertyType"),!1;this._updateFavorite(a);a.on("change:favoritePropertyType",dojo.hitch(this,this._updateFavorite));b&&this._updateDisplay()},_setHasFavoriteAttr:function(a,b){this._set("hasFavorite",!0===a);b&&this._updateDisplay()},_setHasXOutAttr:function(a,b){this._set("hasXOut",!0===a);b&&this._updateDisplay()},_setHasAgcAttr:function(a,b){this._set("hasAgc",!0===a);b&&this._updateDisplay()},
_setHasOpenHouseAttr:function(a,b){this._set("hasOpenHouse",!0===a);b&&this._updateDisplay()},_setHasRedfinListingBrokerAttr:function(a,b){this._set("hasRedfinListingBroker",!0===a);b&&this._updateDisplay()},_setHasRedfinSellingBrokerAttr:function(a,b){this._set("hasRedfinSellingBroker",!0===a);b&&this._updateDisplay()},_setIsSoldAttr:function(a,b){this._set("isSold",!0===a);b&&this._updateDisplay()},_setIsPendingAttr:function(a,b){this._set("isPending",!0===a);b&&this._updateDisplay()},_setIsContingentAttr:function(a,
b){this._set("isContingent",!0===a);b&&this._updateDisplay()},_setIsUnderContractAttr:function(a,b){this._set("isUnderContract",!0===a);b&&this._updateDisplay()},_setIsBackupOfferAttr:function(a,b){this._set("isBackupOffer",!0===a);b&&this._updateDisplay()},_setIsActivishAttr:function(a,b){this._set("isActivish",!0===a);b&&this._updateDisplay()},_setIsForeclosureAttr:function(a,b){this._set("isForeclosure",!0===a);b&&this._updateDisplay()},_setIsNewAttr:function(a,b){this._set("isNew",!0===a);b&&
this._updateDisplay()},_setIsShortSaleAttr:function(a,b){this._set("isShortSale",!0===a);b&&this._updateDisplay()},_setIsNewConstructionAttr:function(a,b){this._set("isNewConstruction",!0===a);b&&this._updateDisplay()},show:function(){a.remove(this.domNode,"hidden")},hide:function(){a.add(this.domNode,"hidden")},clearSash:function(){this.isShortSale=this.hasOpenHouse=this.isNew=this.isForeclosure=this.isActivish=this.isBackupOffer=this.isUnderContract=this.isContingent=this.isPending=this.isSold=
this.mlsSash=this.mlsStatus=this.propertyType=this.searchStatus=this.listingType=null;this._resetClasses();this.hasRedfinSellingBroker=this.hasRedfinListingBroker=this.hasAgc=this.hasXOut=this.hasFavorite=null},_buildSashes:function(){if(this.searchStatus){this.hideInnerSash||this.set("homeTypeClass",this._getHomeTypeCssName(this.listingType,this.searchStatus),!1);if(this.mlsSash)switch(this.mlsSash){case g_mlsSashMessage.PENDING:this.set("isPending",!0,!1);break;case g_mlsSashMessage.CONTINGENT:this.set("isContingent",
!0,!1);break;case g_mlsSashMessage.UNDER_CONTRACT:this.set("isUnderContract",!0,!1);break;case g_mlsSashMessage.BACKUP_OFFERS:this.set("isBackupOffer",!0,!1)}else this.set("isPending",this.searchStatus===g_searchStatus.PENDING,!1);switch(this.searchStatus){case g_searchStatus.ACTIVE:case g_searchStatus.CONTINGENT:case g_searchStatus.OFF_MARKET:case g_searchStatus.OFF_MARKET_UNKNOWN:case g_searchStatus.PENDING:case g_searchStatus.PRE_ON_MARKET:this.set("isSold",!1,!1);break;case g_searchStatus.SOLD:this.set("isSold",
!0,!1)}switch(this.searchStatus){case g_searchStatus.ACTIVE:case g_searchStatus.CONTINGENT:case g_searchStatus.PENDING:this.set("isActivish",!0,!1);break;case g_searchStatus.OFF_MARKET:case g_searchStatus.OFF_MARKET_UNKNOWN:case g_searchStatus.PENDING:case g_searchStatus.PRE_ON_MARKET:case g_searchStatus.SOLD:this.set("isActivish",!1,!1)}this.listingType==g_listingTypes.FORECLOSURE&&this.set("isForeclosure",!0,!1);this.listingType==g_listingTypes.NEW_CONSTRUCTION&&this.set("isNewConstruction",!0,
!1)}},_updateDisplay:function(){this._resetClasses();this._buildSashes();this.homeTypeClass&&a.add(this._innerSashNode,this._innerSashClassPrefix+this.homeTypeClass);this.propertyTypeClass&&a.add(this._iconNode,this._iconClassPrefix+this.propertyTypeClass);this.hasFavorite?(a.add(this._badgeNode,this._badgeClassPrefix+this._badgeClasses.FAVORITE.cssClass),a.remove(this._badgeNode,"hidden")):this.hasXOut?(a.add(this._badgeNode,this._badgeClassPrefix+this._badgeClasses.ANTIFAVORITE.cssClass),a.remove(this._badgeNode,
"hidden")):this.hasAgc?(a.add(this._badgeNode,this._badgeClassPrefix+this._badgeClasses.AGC.cssClass),a.remove(this._badgeNode,"hidden")):a.add(this._badgeNode,"hidden");a.add(this._outerSashNode,this._outerSashClassPrefix+this._getOuterSashClassFragment()+"-"+this.size.cssClass);a.toggle(this._innerSashNode,"hidden",this.hideInnerSash);a.toggle(this._outerSashNode,"hidden",this.hideOuterSash)},_resetClasses:function(){this._previousHomeTypeClass&&a.remove(this._innerSashNode,this._innerSashClassPrefix+
this._previousHomeTypeClass);this._previousPropertyTypeClass&&a.remove(this._iconNode,this._iconClassPrefix+this._previousPropertyTypeClass);for(var b in this._badgeClasses)if(this._badgeClasses.hasOwnProperty(b)){var c=this._badgeClasses[b];c.cssClass&&a.remove(this._badgeNode,this._badgeClassPrefix+c.cssClass)}for(var d in this._outerSashClasses)if(this._outerSashClasses.hasOwnProperty(d)&&(b=this._outerSashClasses[d],b.cssClass))for(sizesKey in b=b.cssClass,this._sizes)this._sizes.hasOwnProperty(sizesKey)&&
(c=this._sizes[sizesKey],c.cssClass&&a.remove(this._outerSashNode,this._outerSashClassPrefix+b+"-"+c.cssClass))},_getOuterSashClassFragment:function(){return this.isSold?this.hasRedfinListingBroker?this._outerSashClasses.REDFIN_SOLD.cssClass:this.hasRedfinSellingBroker?this._outerSashClasses.REDFIN_BOUGHT.cssClass:this._outerSashClasses.SOLD.cssClass:this.isPending?this.hasRedfinListingBroker?this._outerSashClasses.REDFIN_PENDING.cssClass:this._outerSashClasses.PENDING.cssClass:this.isContingent?
this.hasRedfinListingBroker?this._outerSashClasses.REDFIN_CONTINGENT.cssClass:this._outerSashClasses.CONTINGENT.cssClass:this.isUnderContract?this.hasRedfinListingBroker?this._outerSashClasses.REDFIN_UNDERCONTRACT.cssClass:this._outerSashClasses.UNDERCONTRACT.cssClass:this.isBackupOffer?this.hasRedfinListingBroker?this._outerSashClasses.REDFIN_BACKUPOFFER.cssClass:this._outerSashClasses.BACKUPOFFER.cssClass:this.isActivish?this.isForeclosure?this._outerSashClasses.FORECLOSURE.cssClass:this.isNewConstruction?
this._outerSashClasses.MODEL_HOME.cssClass:this.isNew?this.hasRedfinListingBroker?this._outerSashClasses.REDFIN_NEW.cssClass:this._outerSashClasses.NEW.cssClass:this.hasOpenHouse?this.hasRedfinListingBroker?this._outerSashClasses.REDFIN_OPEN_HOUSE.cssClass:this._outerSashClasses.OPEN_HOUSE.cssClass:this.isShortSale?this._outerSashClasses.SHORT_SALE.cssClass:this.hasRedfinListingBroker?this._outerSashClasses.REDFIN_FOR_SALE.cssClass:this._outerSashClasses.FOR_SALE.cssClass:this._outerSashClasses.NOT_FOR_SALE.cssClass},
_updateFavorite:function(a){a=a.get("favoritePropertyType");this.set("hasFavorite",a===g_favoritePropertyType.FAVORITE,!1);this.set("hasXOut",a===g_favoritePropertyType.ANTI_FAVORITE)}});h.safeMixin(b.prototype,d);return b})},"url:redfin/homepage/widgets/templates/MyFavoritesWidget.html":'\x3cdiv class\x3d"MyFavoritesWidget whiteBox"\x3e\n\t\x3ca class\x3d"title" href\x3d"${WEB_SERVER}/myredfin/favorites" dojoAttachPoint\x3d"favoritesHeaderNode"\x3e\n\t\t\x3cdiv class\x3d"iconWrap"\x3e\n\t\t\t\x3cspan class\x3d"fav_icon icon"\x3e\x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\t\x3ch2 class\x3d"text"\x3eFavorites\x3c/h2\x3e\n\t\x3c/a\x3e\n\t\x3cdiv class\x3d"loading" dojoAttachPoint\x3d"loadSpinner"\x3e\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"favoriteHomes"\x3e\n\t\t\x3cdiv class\x3d"ghostTown hidden" dojoAttachPoint\x3d"favoritesGhostTownNode"\x3e\n\t\t\t\x3cdiv class\x3d"ghostTownContents"\x3e\n\t\t\t\t\x3cspan class\x3d"iconWrap"\x3e\n\t\t\t\t\t\x3cspan class\x3d"icon favoritesGhostTown"\x3e\x3c/span\x3e\n\t\t\t\t\x3c/span\x3e\n\t\t\t\t\x3cp class\x3d"ghostTownText"\x3eKeep track of the homes you\'re interested in by adding them to your favorites.\x3c/p\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv dojoAttachPoint\x3d"myFavoritesInlineNode" class\x3d"inline-block homepage row-type myFavoritesInlineNode hidden hic-grid"\x3e\x3c/div\x3e\n\t\t\x3cdiv dojoAttachPoint\x3d"favoritesControlsNode" class\x3d"favoritesControl desktop hidden"\x3e\n\t\t\t\x3cdiv dojoType\x3d"redfin.widget.Button" buttonType\x3d"tertiary" size\x3d"large" label\x3d"Tour These Homes" class\x3d"tourButton hidden" dojoAttachPoint\x3d"tourButton"\x3e\x3c/div\x3e\n\t\t\t\x3ca href\x3d"${WEB_SERVER}/myredfin/favorites" dojoAttachPoint\x3d"moreFavoritesNode" class\x3d"moreFavoritesNode"\x3eMore Favorites\x3c/a\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"redfin/search/util/DateUtil":function(){define(["dijit","dojo","dojox","dojo/require!dojo/date/locale,dojox/date/timezone,dojox/date/zoneinfo/ext/northamerica,dojox/date/zoneinfo/ext/backward,redfin/search/util/NumberUtil"],function(h,b,e){b.provide("redfin.search.util.DateUtil");b.require("dojo.date.locale");b.require("dojox.date.timezone");b.require("dojox.date.zoneinfo.ext.northamerica");b.require("dojox.date.zoneinfo.ext.backward");b.require("redfin.search.util.NumberUtil");b.declare("redfin.util.date",
null,{});b.safeMixin(redfin.util.date,{labelDays:function(a){try{if(1>a)return a;var b=redfin.util.num.format(a)+" day";1!=a&&(b+="s");return b}catch(d){console.error("Error with redfin.util.date.labelDays()"),console.error(d)}return""},formatTime:function(a,c){try{return b.date.locale.format(new Date(a),{selector:"date",datePattern:"h:mm a",timezone:c})}catch(d){console.error("Error with redfin.util.date.formatTime()"),console.error(d)}return""},format:function(a,c){try{if(null==a)return"\x26#8212;";
var d=b.mixin({includeTime:!1,includeYear:!0,timeZone:null,format:"MMM d"},c),g=new Date(a);d.includeYear&&(d.format+=", yyyy");d.includeTime&&(d.format+=" h:mm a");return b.date.locale.format(g,{selector:"date",datePattern:d.format,timezone:d.timeZone})}catch(f){console.error("Error with redfin.util.date.format()"),console.error(f)}return""},elapsedDays:function(a){try{return Math.round((new Date-new Date(a))/864E5)}catch(b){console.error("Error with redfin.util.date.elapsedDays()"),console.error(b)}return""},
elapsed:function(a){try{var b=[[60,"Just Now"],[90,"1 Minute"],[3600,"Minutes",60],[5400,"1 Hour"],[86400,"Hours",3600],[129600,"1 Day"],[604800,"Days",86400],[907200,"1 Week"],[2628E3,"Weeks",604800],[3942E3,"1 Month"],[31536E3,"Months",2628E3],[47304E3,"1 Year"],[31536E5,"Years",31536E3],[47304E5,"1 Century"]],d=(new Date-new Date(a))/1E3;a=" Ago";var g=0,f;0>d&&(d=Math.abs(d),a="");for(;f=b[g++];)if(d<f[0])return 2==f.length?f[1]+(1<g?a:""):Math.round(d/f[2])+" "+f[1]+(1<g?a:"");return 47304E5<
d?Math.round(d/47304E5)+" Centuries"+a:null}catch(k){console.error("Error with redfin.util.date.elapsedDays()"),console.error(k)}return""},formatRange:function(a,b,d,g){try{var f=new Date(a),k=new Date(b);if(f.getFullYear()===k.getFullYear()&&f.getMonth()===k.getMonth()&&f.getDate()===k.getDate()){var l=this.formatTime(b,d);return this.format(a,{includeTime:!0,timeZone:d})+" - "+l}return this.format(a,{includeTime:!0,timeZone:d})+" - "+this.format(b,{includeTime:!0,timeZone:d})}catch(e){console.error("Error with redfin.util.date.formatRange()"),
console.error(e)}return""},timeRoundingDown:function(a,b){try{for(var d=a.getMinutes(),g=60/b,f=0;f<b;f++)if(d<g*(f+1))return a.setMinutes(g*f);return a}catch(k){console.error("Error with redfin.util.date.timeRoundingDown()"),console.error(k)}return""},timeRoundingUp:function(a,c){try{for(var d=a.getMinutes(),g=c;0<g;g--)if(d>c*(g-1))return g==c?(a=b.date.add(a,"hour",1),a.setMinutes(0)):a.setMinutes(g*c);return a}catch(f){console.error("Error with redfin.util.date.timeRoundingUp()"),console.error(f)}return""}})})},
"url:dijit/form/templates/ComboButton.html":'\x3ctable class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tcellspacing\x3d\'0\' cellpadding\x3d\'0\' role\x3d"presentation"\n\t\x3e\x3ctbody role\x3d"presentation"\x3e\x3ctr role\x3d"presentation"\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitStretch dijitButtonNode" data-dojo-attach-point\x3d"buttonNode" data-dojo-attach-event\x3d"ondijitclick:_onClick,onkeypress:_onButtonKeyPress"\n\t\t\x3e\x3cdiv id\x3d"${id}_button" class\x3d"dijitReset dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"titleNode"\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode" role\x3d"presentation"\x3e\x3c/div\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInline dijitButtonText" id\x3d"${id}_label" data-dojo-attach-point\x3d"containerNode" role\x3d"presentation"\x3e\x3c/div\n\t\t\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd id\x3d"${id}_arrow" class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton\'\n\t\t\tdata-dojo-attach-point\x3d"_popupStateNode,focusNode,_buttonNode"\n\t\t\tdata-dojo-attach-event\x3d"onkeypress:_onArrowKeyPress"\n\t\t\ttitle\x3d"${optionsTitle}"\n\t\t\trole\x3d"button" aria-haspopup\x3d"true"\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitArrowButtonInner" role\x3d"presentation"\x3e\x3c/div\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitArrowButtonChar" role\x3d"presentation"\x3e\x26#9660;\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd style\x3d"display:none !important;"\n\t\t\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" data-dojo-attach-point\x3d"valueNode" role\x3d"presentation"\n\t\t/\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\n\x3e\x3c/table\x3e\n',
"dojox/json/ref":function(){define("dojox/json/ref","dojo/_base/array dojo/_base/json dojo/_base/kernel dojo/_base/lang dojo/date/stamp dojox".split(" "),function(h,b,e,a,c,d){a.getObject("json",!0,d);return d.json.ref={resolveJson:function(a,b){function d(y,C,A,z,G,F){var B,K,D;A=l in y?y[l]:A;if(l in y||void 0!==A&&z)A=(n+A).replace(v,"$2$3");z=F||y;if(void 0!==A){h&&(y.__id=A);if(b.schemas&&!(y instanceof Array)&&(D=A.match(/^(.+\/)[^\.\[]*$/)))G=b.schemas[D[1]];if(r[A]&&y instanceof Array==r[A]instanceof
Array)z=r[A],delete z.$ref,delete z._loadObject,K=!0;else if(D=G&&G.prototype)s.prototype=D,z=new s;r[A]=z;t&&(t[A]=b.time)}for(;G;){if(D=G.properties)for(B in y){var M=D[B];M&&("date-time"==M.format&&"string"==typeof y[B])&&(y[B]=c.fromISOString(y[B]))}G=G["extends"]}G=y.length;for(B in y){if(B==G)break;if(y.hasOwnProperty(B)){D=y[B];if("object"==typeof D&&D&&!(D instanceof Date)&&"__parent"!=B){u=D[e]||p&&D[l];if((!u||!D.__parent)&&y!=w)D.__parent=z;if(u)if(delete y[B],F=u.toString().replace(/(#)([^\.\[])/,
"$1.$2").match(/(^([^\[]*\/)?[^#\.\[]*)#?([\.\[].*)?/),r[(n+u).replace(v,"$2$3")]?u=r[(n+u).replace(v,"$2$3")]:(u="$"==F[1]||"this"==F[1]||""==F[1]?a:r[(n+F[1]).replace(v,"$2$3")])&&F[3]&&F[3].replace(/(\[([^\]]+)\])|(\.?([^\.\[]+))/g,function(a,b,c,d,f){u=u&&u[c?c.replace(/[\"\'\\]/,""):f]}),u)D=u;else{if(!C){var J;J||w.push(z);J=!0;D=d(D,!1,D[e],!0,M);D._loadObject=b.loader}}else C||(D=d(D,w==y,void 0===A?void 0:x(A,B),!1,M,z!=y&&"object"==typeof z[B]&&z[B]))}y[B]=D;if(z!=y&&!z.__isDirty&&(F=z[B],
z[B]=D,K&&D!==F&&!z._loadObject&&!("_"==B.charAt(0)&&"_"==B.charAt(1))&&"$ref"!=B&&!(D instanceof Date&&F instanceof Date&&D.getTime()==F.getTime())&&!("function"==typeof D&&"function"==typeof F&&D.toString()==F.toString())&&r.onUpdate))r.onUpdate(z,B,F,D)}}if(K&&(l in y||z instanceof Array))for(B in z){if(!z.__isDirty&&z.hasOwnProperty(B)&&!y.hasOwnProperty(B)&&!("_"==B.charAt(0)&&"_"==B.charAt(1))&&!(z instanceof Array&&isNaN(B))){if(r.onUpdate&&"_loadObject"!=B&&"_idAttr"!=B)r.onUpdate(z,B,z[B],
void 0);for(delete z[B];z instanceof Array&&z.length&&void 0===z[z.length-1];)z.length--}}else if(r.onLoad)r.onLoad(z);return z}b=b||{};var l=b.idAttribute||"id",e=this.refAttribute,p=b.idAsRef,n=b.idPrefix||"",h=b.assignAbsoluteIds,r=b.index||{},t=b.timeStamps,u,w=[],v=/^(.*\/)?(\w+:\/\/)|[^\/\.]+\/\.\.\/|^.*\/(\/)/,x=this._addProp,s=function(){};a&&"object"==typeof a&&(a=d(a,!1,b.defaultId,!0),d(w,!1));return a},fromJson:function(a,b){try{var c=eval("("+a+")")}catch(d){throw new SyntaxError("Invalid JSON string: "+
d.message+" parsing: "+a);}return c?this.resolveJson(c,b):c},toJson:function(a,f,k,l){function e(a,l,g){if("object"==typeof a&&a){if(a instanceof Date)return'"'+c.toISOString(a,{zulu:!0})+'"';var s=a.__id;if(s){if("#"!=l&&(p&&!s.match(/#/)||r[s]))return g=s,"#"!=s.charAt(0)&&(g=a.__clientId==s?"cid:"+s:s.substring(0,k.length)==k?s.substring(k.length):s),a={},a[q]=g,e(a,"#");l=s}else a.__id=l,t[l]=a;r[l]=a;g=g||"";var u=f?g+b.toJsonIndentStr:"",C=f?"\n":"",s=f?" ":"";if(a instanceof Array)return"["+
h.map(a,function(a,b){var c=e(a,n(l,b),u);"string"!=typeof c&&(c="undefined");return C+u+c}).join(","+s)+C+g+"]";var A=[],z;for(z in a)if(a.hasOwnProperty(z)){var G;if("number"==typeof z)G='"'+z+'"';else if("string"==typeof z&&("_"!=z.charAt(0)||"_"!=z.charAt(1)))G=b._escapeString(z);else continue;var F=e(a[z],n(l,z),u);"string"==typeof F&&A.push(C+u+G+":"+s+F)}return"{"+A.join(","+s)+C+g+"}"}return"function"==typeof a&&d.json.ref.serializeFunctions?a.toString():b.toJson(a)}var p=this._useRefs,n=
this._addProp,q=this.refAttribute;k=k||"";var r={},t={};a=e(a,"#","");if(!l)for(var u in t)delete t[u].__id;return a},_addProp:function(a,b){return a+(a.match(/#/)?1==a.length?"":".":"#")+b},refAttribute:"$ref",_useRefs:!1,serializeFunctions:!1}})},"redfin/search/util/LoginUtil":function(){define(["dijit","dojo","dojox","dojo/require!redfin/common/login_popup"],function(h,b,e){b.provide("redfin.search.util.LoginUtil");b.require("redfin.common.login_popup");b.declare("redfin.util.login",null,{});b.safeMixin(redfin.util.login,
{isLoggedIn:function(){if(!0!==redfin.util.login._isLoggedInCache&&!1!==redfin.util.login._isLoggedInCache)try{redfin.util.login._isLoggedInCache="undefined"!==typeof b.cookie("RF_ACCESS_LEVEL")&&("undefined"!==typeof b.cookie("RF_SECURE_KEY")||"undefined"!==typeof b.cookie("RF_AUTH")||"undefined"!==typeof b.cookie("RF_SECURE_AUTH"))}catch(a){redfin.util.login._isLoggedInCache=!1}return redfin.util.login._isLoggedInCache},isLoggedInAnonymously:function(){if(this.isLoggedIn())redfin.util.login._isAnonymouslyLoggedInCache=
!1;else if(!0!==redfin.util.login._isAnonymouslyLoggedInCache&&!1!==redfin.util.login._isAnonymouslyLoggedInCache)try{redfin.util.login._isAnonymouslyLoggedInCache="undefined"!==typeof b.cookie("RF_SECURE_KEY")||"undefined"!==typeof b.cookie("RF_ANON_AUTH")||"undefined"!==typeof b.cookie("RF_ANON_SECURE_AUTH")}catch(a){redfin.util.login._isAnonymouslyLoggedInCache=!1}return redfin.util.login._isAnonymouslyLoggedInCache},cookieAccessLevel:function(){if(!redfin.util.login._cookieAccessLevel)try{redfin.util.login._cookieAccessLevel=
Number(b.cookie("RF_ACCESS_LEVEL"))}catch(a){redfin.util.login._cookieAccessLevel=1}return 0<redfin.util.login._cookieAccessLevel&&6>redfin.util.login._cookieAccessLevel?redfin.util.login._cookieAccessLevel:1},accessLevel:function(){return redfin.util.login.isLoggedIn()?redfin.util.login.cookieAccessLevel():1},clearCachedValues:function(){redfin.util.login._isLoggedInCache=redfin.util.login._cookieAccessLevel=null},showNewDialogIfNeeded:function(a){return redfin.util.login.isLoggedIn()?(a=new b.Deferred,
a.callback({callbacks:[],justLoggedIn:!1}),a):redfin.common.LoginPopup.showNewDialog(a)},executeLoginAction:function(a,c,d){d=d?d:{};d.action=null;a&&c&&(d.action=b.hitch(a,c));return(new redfin.search.common.LoginAction(d)).execute()},showLogin:function(){b.global.loginAction||(b.global.loginAction=new redfin.search.common.LoginAction);b.global.loginAction.execute()}});b.subscribe("onLogin",redfin.util.login.clearCachedValues);b.subscribe("onSocialLoginSuccess",redfin.util.login.clearCachedValues)})},
"redfin/facebook/login":function(){define(["dijit","dojo","dojox","dojo/require!dijit/_Widget,dijit/_TemplatedMixin,dojo/request/script,redfin/search/user_preferences"],function(h,b,e){b.provide("redfin.facebook.login");b.require("dijit._Widget");b.require("dijit._TemplatedMixin");b.require("dojo.request.script");b.require("redfin.search.user_preferences");b.declare("redfin.facebook.login",[h._Widget,h._TemplatedMixin],{templateString:b.cache("redfin.facebook","templates/login.html","\x3cspan\x3e\n\t\x3cform method\x3d'post' dojoAttachPoint\x3d'mainForm'\x3e\n\t\t\x3cinput type\x3d'hidden' name\x3d'facebook_uid' dojoAttachPoint\x3d'facebookUidInput' /\x3e\n\t\t\x3cinput type\x3d'hidden' name\x3d'facebook_access_token' dojoAttachPoint\x3d'facebookAccessTokenInput' /\x3e\n\t\t\x3cinput type\x3d'hidden' name\x3d'facebook_expiration_time' dojoAttachPoint\x3d'facebookExpirationTimeInput' /\x3e\n\t\t\x3cinput type\x3d'hidden' name\x3d'facebook_perms' dojoAttachPoint\x3d'facebookPermsInput' /\x3e\n\t\t\x3cinput type\x3d\"hidden\" name\x3d'redirect_path' dojoAttachPoint\x3d'redirectPathInput' /\x3e\n\t\t\x3cinput type\x3d\"hidden\" name\x3d'request_method' dojoAttachPoint\x3d'requestMethodInput'  /\x3e\n\t\t\x3cinput type\x3d\"hidden\" name\x3d'regAlertsDesc' dojoAttachPoint\x3d'regAlertsDescInput'  /\x3e\n\t\t\x3cinput type\x3d\"hidden\" name\x3d'regAlertsParams' dojoAttachPoint\x3d'regAlertsParamsInput'  /\x3e\n\t\t\x3cinput type\x3d\"hidden\" name\x3d'regAlertsType' dojoAttachPoint\x3d'regAlertsTypeInput'  /\x3e\n\t\t\x3cinput type\x3d\"hidden\" name\x3d'bypassAcctCreatedPage' dojoAttachPoint\x3d'bypassAcctCreatedPageInput'  /\x3e\n\t\t\x3cinput type\x3d\"hidden\" name\x3d'registration_campaign_id' dojoAttachPoint\x3d'registrationCampaignIdInput'  /\x3e\n\t\t\x3cinput type\x3d\"hidden\" name\x3d'registration_reason' dojoAttachPoint\x3d'registrationReasonInput'  /\x3e\n\t\t\x3cinput type\x3d\"hidden\" name\x3d'registration_mode' dojoAttachPoint\x3d'registrationModeInput' /\x3e\n\t\t\x3cinput type\x3d\"hidden\" name\x3d'registration_campaign_url' dojoAttachPoint\x3d'registrationCampaignUrlInput'  /\x3e\n\t\t\x3cinput type\x3d\"hidden\" name\x3d'optInUpdates' dojoAttachPoint\x3d'optInUpdatesInput'  /\x3e\n\t\t\x3cinput type\x3d\"hidden\" name\x3d'autoLogin' dojoAttachPoint\x3d'autoLogin'  /\x3e\n\t\t\n\t\x3c/form\x3e\n\t\x3cdiv class\x3d\"error-message\" dojoAttachPoint\x3d\"errorDiv\" style\x3d\"display:none;\"\x3e\x3c/div\x3e\n\t\x3cspan class\x3d\"facebookSignIn link\" dojoAttachPoint\x3d'loginLink' \x3e\x3cimg class\x3d\"fbLogoIcon float-left\" dojoAttachPoint\x3d\"fbLogoNode\" style\x3d\"padding-right: 4px;\"/\x3e\n\t\x3cdiv dojoAttachPoint\x3d\"loginTextNode\" class\x3d\"login_text\" style\x3d\"padding-top: 5px;\"\x3e\n\t\t\x3cspan id\x3d\"facebook_register_link_text\" class\x3d\"hidden\"\x3eJoin Redfin using\x3c/span\x3e\x3cspan id\x3d\"facebook_login_link_text\" class\x3d\"hidden\"\x3eSign in with\x3c/span\x3e \x3cspan class\x3d\"facebook_text\"\x3e Facebook! \x3c/span\x3e\n\t\x3c/div\x3e\n\t\x3c/span\x3e\n\t\x3cdiv dojoAttachPoint\x3d\"facepile\" class\x3d\"facepile\" style\x3d\"display: none;\"\x3e\x3c/div\x3e\n\x3c/span\x3e"),
useFacebookButton:!1,useFacebookButtonBig:!1,useFacebookButtonMedium:!1,useFacebookButtonSmall:!1,facebookButtonText:"Sign in with Facebook",action:"",permsRequested:"",facebookAppId:"",facepileEnabled:!1,redirectPath:"",requestMethod:"",isFacebookLoaded:!1,regAlertsDesc:"",regAlertsParams:"",regAlertsType:"",numTimesWaitedForFacebookToLoad:0,errorReporterId:"",fromUserMenu:!1,bypassAcctCreatedPage:!1,optInUpdatesNode:null,MAX_NUM_TIMES_TO_WAIT_FOR_FACEBOOK_TO_LOAD:6,MS_TO_WAIT_FOR_FACEBOOK_PER_TRY:500,
registrationCampaignId:"",registrationReason:"",registrationMode:"",registrationCampaignUrl:"",disabled:!1,postCreate:function(){this.mainForm.action=this.action;this.redirectPathInput.value=this.redirectPath;this.requestMethodInput.value=this.requestMethod;this.regAlertsDescInput.value=this.regAlertsDesc;this.regAlertsParamsInput.value=this.regAlertsParams;this.regAlertsTypeInput.value=this.regAlertsType;this.bypassAcctCreatedPageInput.value=this.bypassAcctCreatedPage;this.useFacebookButtonMedium?
b.connect(this.fbLogoNode,"onclick",this,"onFacebookLogin"):b.connect(this.loginLink,"onclick",this,"onFacebookLogin");window.name||(window.name="");this.useFacebookButton?this.useFacebookButtonBig?(this.fbLogoNode.src=g_imageServerUrl+"/images/login/login_fb_button_big.png",b.removeClass(this.fbLogoNode,"float-left")):this.useFacebookButtonMedium?(this.fbLogoNode.src=g_imageServerUrl+"/images/login/login_fb_button_medium.png",b.addClass(this.loginTextNode,"hidden"),b.removeClass(this.loginLink,"link"),
b.removeClass(this.fbLogoNode,"float-left"),this.connect(this.fbLogoNode,"onmouseover",function(){this.fbLogoNode.src=g_imageServerUrl+"/images/login/login_fb_button_medium_hover.png"}),this.connect(this.fbLogoNode,"onmouseout",function(){this.fbLogoNode.src=g_imageServerUrl+"/images/login/login_fb_button_medium.png"}),this.connect(this.fbLogoNode,"onmousedown",function(){this.fbLogoNode.src=g_imageServerUrl+"/images/login/login_fb_button_medium_click.png"}),this.connect(this.fbLogoNode,"onmouseup",
function(){this.fbLogoNode.src=g_imageServerUrl+"/images/login/login_fb_button_medium_hover.png"})):this.useFacebookButtonSmall?(this.fbLogoNode.src=g_imageServerUrl+"/images/login/facebook_112x31-reg.png",b.addClass(this.loginTextNode,"hidden"),b.removeClass(this.fbLogoNode,"float-left")):(this.loginLink.innerHTML="\x3cspan class\x3d'fb_button_text'\x3e"+this.facebookButtonText+"\x3c/span\x3e",b.addClass(this.loginLink,"fb_button fb_button_medium"),b.removeClass(this.loginLink,"link")):this.fbLogoNode.src=
g_imageServerUrl+"/images/login/login_popup_fb_icon.png";this.facepileEnabled&&(this.facepile.style.display="block",this.facepile.innerHTML="\x3cfb:facepile\x3e\x3c/fb:facepile\x3e");this.inherited(arguments)},facebookLoaded:function(){this.isFacebookLoaded=!0;redfin.facebook.login.haveAttemptedAutoLogin||(redfin.facebook.login.haveAttemptedAutoLogin=!0,0===document.location.pathname.indexOf("/stingray/do/my-redfin-pw-change")||(0===document.location.pathname.indexOf("/stingray/do/logout")||0===document.location.pathname.indexOf("/stingray/do/password-reset")||
0===document.location.pathname.indexOf("/stingray/do/forgot-password")||0===document.location.pathname.indexOf("/stingray/do/login"))||("undefined"===typeof g_bouncer||"undefined"===typeof g_feature||g_bouncer().isOn(g_feature.ALLOW_FACEBOOK_AUTOLOGIN))&&FB.getLoginStatus(b.hitch(this,function(a){"connected"===a.status&&FB.api("/me/permissions",b.hitch(this,function(b){var d=[],e;for(e in b.data[0])b.data[0].hasOwnProperty(e)&&d.push(e);this.sendFacebookInfoToRedfin(a.authResponse.userID,a.authResponse.accessToken,
a.authResponse.expiresIn,d.join(),!0)}))})))},onFacebookRequestWritePerms:function(){if(!this.disabled)if(!this.isFacebookLoaded&&this.numTimesWaitedForFacebookToLoad<this.MAX_NUM_TIMES_TO_WAIT_FOR_FACEBOOK_TO_LOAD)setTimeout(b.hitch(this,"onFacebookLogin"),this.MS_TO_WAIT_FOR_FACEBOOK_PER_TRY),this.numTimesWaitedForFacebookToLoad++;else if(this.numTimesWaitedForFacebookToLoad>=this.MAX_NUM_TIMES_TO_WAIT_FOR_FACEBOOK_TO_LOAD)this.showErrorText("Sorry, we are unable to contact Facebook at this time.  Please try again later.");
else{var a=this;FB.login(function(b){a.loginResponse(b)},{scope:"publish_actions"});return!1}},onFacebookLogin:function(){if(!this.disabled)if(!this.isFacebookLoaded&&this.numTimesWaitedForFacebookToLoad<this.MAX_NUM_TIMES_TO_WAIT_FOR_FACEBOOK_TO_LOAD)setTimeout(b.hitch(this,"onFacebookLogin"),this.MS_TO_WAIT_FOR_FACEBOOK_PER_TRY),this.numTimesWaitedForFacebookToLoad++;else if(this.numTimesWaitedForFacebookToLoad>=this.MAX_NUM_TIMES_TO_WAIT_FOR_FACEBOOK_TO_LOAD)this.showErrorText("Sorry, we are unable to contact Facebook at this time.  Please try again later.");
else{if(("undefined"===typeof g_bouncer||"undefined"===typeof g_feature||g_bouncer().isOn(g_feature.REQUEST_FACEBOOK_PUBLISH_ACTIONS_PERMISSION_ON_ACTION_TAKEN))&&"add-favorite"==this.registrationReason&&-1==this.permsRequested.indexOf("publish_actions"))this.permsRequested+=",publish_actions";var a=this;FB.login(function(b){a.loginResponse(b)},{scope:this.permsRequested});return!1}},loginResponse:function(a){a.authResponse?this.sendFacebookInfoToRedfin(a.authResponse.userID,a.authResponse.accessToken,
a.authResponse.expiresIn,this.permsRequested,!1):b.publish("onSocialLoginError",!1)},sendFacebookInfoToRedfin:function(a,c,d,e,f){this.facebookUidInput.value=a;this.facebookAccessTokenInput.value=c;this.facebookExpirationTimeInput.value=d;this.facebookPermsInput.value=e;this.registrationCampaignIdInput.value=this.registrationCampaignId;this.registrationReasonInput.value=this.registrationReason;this.registrationModeInput.value=this.registrationMode;this.registrationCampaignUrlInput.value=this.registrationCampaignUrl;
var k=this.optInUpdatesNode&&!this.optInUpdatesNode.checked?!1:!0;this.optInUpdatesInput.value=k;this.autoLogin.value=f;this.fromUserMenu||this.bypassAcctCreatedPage&&-1==this.mainForm.action.indexOf("displayStyle\x3dpopup")?b.request.script(this.mainForm.action,{query:{facebook_uid:a,facebook_access_token:c,facebook_expiration_time:d,facebook_perms:e,bypassAcctCreatedPage:this.bypassAcctCreatedPage,registration_campaign_id:this.registrationCampaignId,registration_reason:this.registrationReason,registration_mode:this.registrationMode,
registration_campaign_url:this.registrationCampaignUrl,optInUpdates:k,autoLogin:f,facebookLoginObjectId:this.id}}):this.mainForm.submit()},_onFinish:function(){1==redfin.ui.UserPreferences.getFacebookStatus()||2==redfin.ui.UserPreferences.getFacebookStatus()?b.publish("onSocialLoginSuccess"):3==redfin.ui.UserPreferences.getFacebookStatus()?(redfin.ui.UserPreferences.deleteFacebookStatus(),this.mainForm.submit()):b.publish("onSocialLoginError",!0)},showErrorText:function(a){""!=this.errorReporterId?
h.byId(this.errorReporterId).showErrorText(a):(b.style(this.errorDiv,"display","block"),this.errorDiv.innerHTML=a)},setDisabled:function(a){(this.disabled=a)?(b.style(this.domNode,"cursor","default"),b.style(this.loginLink,"cursor","default")):(b.style(this.domNode,"cursor","pointer"),b.style(this.loginLink,"cursor","pointer"))},isDisabled:function(){return this.disabled}});b.mixin(redfin.facebook.login,{haveAttemptedAutoLogin:!1})})},"dijit/form/_TextBoxMixin":function(){define("dijit/form/_TextBoxMixin",
"dojo/_base/array dojo/_base/declare dojo/dom dojo/_base/event dojo/keys dojo/_base/lang dojo/on ../main".split(" "),function(h,b,e,a,c,d,g,f){var k=b("dijit.form._TextBoxMixin",null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(a,b,c){var d;void 0!==a&&(d=this.filter(a),"string"!=typeof c&&(c=null!==d&&("number"!=typeof d||!isNaN(d))?this.filter(this.format(d,
this.constraints)):""));if(null!=c&&("number"!=typeof c||!isNaN(c))&&this.textbox.value!=c)this.textbox.value=c,this._set("displayedValue",this.get("displayedValue"));"auto"==this.textDir&&this.applyTextDir(this.focusNode,c);this.inherited(arguments,[d,b])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(a){null==a?a="":"string"!=typeof a&&(a=String(a));this.textbox.value=a;this._setValueAttr(this.get("value"),void 0);this._set("displayedValue",
this.get("displayedValue"));"auto"==this.textDir&&this.applyTextDir(this.focusNode,a)},format:function(a){return null==a?"":a.toString?a.toString():a},parse:function(a){return a},_refreshState:function(){},onInput:function(){},__skipInputEvent:!1,_onInput:function(a){"auto"==this.textDir&&this.applyTextDir(this.focusNode,this.focusNode.value);this._processInput(a)},_processInput:function(a){this._refreshState();this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",
this.textbox.value);this.inherited(arguments);this.own(g(this.textbox,"keydown, keypress, paste, cut, input, compositionend",d.hitch(this,function(a){var b;if("keydown"==a.type){b=a.keyCode;switch(b){case c.SHIFT:case c.ALT:case c.CTRL:case c.META:case c.CAPS_LOCK:case c.NUM_LOCK:case c.SCROLL_LOCK:return}if(!a.ctrlKey&&!a.metaKey&&!a.altKey){switch(b){case c.NUMPAD_0:case c.NUMPAD_1:case c.NUMPAD_2:case c.NUMPAD_3:case c.NUMPAD_4:case c.NUMPAD_5:case c.NUMPAD_6:case c.NUMPAD_7:case c.NUMPAD_8:case c.NUMPAD_9:case c.NUMPAD_MULTIPLY:case c.NUMPAD_PLUS:case c.NUMPAD_ENTER:case c.NUMPAD_MINUS:case c.NUMPAD_PERIOD:case c.NUMPAD_DIVIDE:return}if(65<=
b&&90>=b||48<=b&&57>=b||b==c.SPACE)return;b=!1;for(var f in c)if(c[f]===a.keyCode){b=!0;break}if(!b)return}}(b=32<=a.charCode?String.fromCharCode(a.charCode):a.charCode)||(b=65<=a.keyCode&&90>=a.keyCode||48<=a.keyCode&&57>=a.keyCode||a.keyCode==c.SPACE?String.fromCharCode(a.keyCode):a.keyCode);b||(b=229);if("keypress"==a.type){if("string"!=typeof b)return;if("a"<=b&&"z">=b||"A"<=b&&"Z">=b||"0"<=b&&"9">=b||" "===b)if(a.ctrlKey||a.metaKey||a.altKey)return}if("input"==a.type){if(this.__skipInputEvent){this.__skipInputEvent=
!1;return}}else this.__skipInputEvent=!0;var k={faux:!0},e;for(e in a)"layerX"!=e&&"layerY"!=e&&(f=a[e],"function"!=typeof f&&"undefined"!=typeof f&&(k[e]=f));d.mixin(k,{charOrCode:b,_wasConsumed:!1,preventDefault:function(){k._wasConsumed=!0;a.preventDefault()},stopPropagation:function(){a.stopPropagation()}});!1===this.onInput(k)&&(k.preventDefault(),k.stopPropagation());k._wasConsumed||this.defer(function(){this._onInput(k)})})))},_blankValue:"",filter:function(a){if(null===a)return this._blankValue;
if("string"!=typeof a)return a;this.trim&&(a=d.trim(a));this.uppercase&&(a=a.toUpperCase());this.lowercase&&(a=a.toLowerCase());this.propercase&&(a=a.replace(/[^\s]+/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}));return a},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(a){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd},_onFocus:function(a){!this.disabled&&
!this.readOnly&&(this.selectOnClick&&"mouse"==a&&(this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);this._selectOnClickHandle=null;this._isTextSelected()||k.selectInputText(this.textbox)}),this.defer(function(){this._selectOnClickHandle&&(this.disconnect(this._selectOnClickHandle),this._selectOnClickHandle=null)},500)),this.inherited(arguments),this._refreshState())},reset:function(){this.textbox.value="";this.inherited(arguments)},
_setTextDirAttr:function(a){if(!this._created||this.textDir!=a)this._set("textDir",a),this.applyTextDir(this.focusNode,this.focusNode.value)}});k._setSelectionRange=f._setSelectionRange=function(a,b,c){a.setSelectionRange&&a.setSelectionRange(b,c)};k.selectInputText=f.selectInputText=function(a,b,c){a=e.byId(a);isNaN(b)&&(b=0);isNaN(c)&&(c=a.value?a.value.length:0);try{a.focus(),k._setSelectionRange(a,b,c)}catch(d){}};return k})},"redfin/search/widget/search_results_status_box":function(){define("dojo dojo/dom-construct dojo/_base/array dojo/_base/declare dojo/on dojo/dom dojo/cache dojo/_base/lang dojo/_base/connect dojo/cookie dojo/dom-class dojo/dom-style dojo/has dojo/query dojo/request dojo/text!./templates/SearchResultsStatusBox.html dojo/topic dojo/when dijit/_Container dijit/_Widget dijit/_TemplatedMixin redfin/clicktracker redfin/common/login_popup redfin/common/data/SavedSearch redfin/search/data/Accessor redfin/search/map/util redfin/search/util/SavedSearchUtil redfin/search/util/search_results_util redfin/common/elements/Flyout redfin/search/common/OSXPushPermissionsUtil".split(" "),
function(h,b,e,a,c,d,g,f,k,l,m,p,n,q,r,t,u,w,v,x,s,y,C,A,z,G,F,B,K,D){e=a("redfin.search.widget.SearchResultsStatusBox",[x,s,v,D],{templateString:t,numResultsNode:null,numUnmappedLink:null,numUnmappedNode:null,srsbErrorNode:null,srsbErrorImageNode:null,srsbErrorStatusNode:null,srsbPropTypeIconsNode:null,srsbSearchingForNode:null,srsbSearchingForBlurbNode:null,srsbNumFiltersNodeContainer:null,srsbNumUnmappedNode:null,srsbChangeFiltersLink:null,srsbZoomInButton:null,srsbZoomOutButton:null,emailListingsButton:null,
removeOutlineButton:null,statsAndTrendsButton:null,schoolButton:null,redoSearchInAreaButton:null,regionNameNode:null,srsbLoginButton:null,srsbTermsButton:null,_searchParameters:null,_isShowing:!1,_hasValidStatus:!1,_numResults:0,IMAGE_SERVER:g_imageServerUrl,_setNumResultsAttr:function(a){this._numResults=a;this.numResultsNode.innerHTML=h.number.format(a)+" result";1!=a&&(this.numResultsNode.innerHTML+="s")},_setNumUnmappedAttr:function(a){this.numUnmappedNode.innerHTML=h.number.format(a);1>a?p.set(this.srsbNumUnmappedNode,
"display","none"):p.set(this.srsbNumUnmappedNode,"display","")},_setSearchParametersAttr:function(a){this._searchParameters=a;this.srsbPropTypeIconsNode.innerHTML=B.getPropTypeHTML(a);var b=[];a.beds&&a.beds.min&&!a.beds.max?b.push(a.beds.min+"+ bd"):a.beds&&a.beds.max&&b.push(B.getRangeDisplayString(a.beds,void 0,!0)+" bd");a.baths&&a.baths.min&&(0<b.length&&b.push(", "),b.push(a.baths.min+"+ ba"));0<b.length&&b.push("\x3cbr/\x3e");a.price&&(a.price.min||a.price.max)&&b.push(B.getRangeDisplayString(a.price,
B.formatPrice));0===b.length?p.set(this.srsbSearchingForBlurbNode,"display","none"):(this.srsbSearchingForBlurbNode.innerHTML=b.join(""),p.set(this.srsbSearchingForBlurbNode,"display",""));var b=0,c={beds:!0,baths:!0,price:!0,propertyTypes:!0,sourceAndForeclosureStatuses:!0,location:!0},d;for(d in a)a.hasOwnProperty(d)&&!c[d]&&null!==a[d]&&void 0!==a[d]&&(a[d].hasOwnProperty("min")&&a[d].min||a[d].hasOwnProperty("max")&&a[d].max||!a[d].hasOwnProperty("min")&&!a[d].hasOwnProperty("max"))&&b++;1>b?
p.set(this.srsbNumFiltersNodeContainer,"display","none"):(p.set(this.srsbNumFiltersNodeContainer,"display",""),this.srsbNumFiltersNodeContainer.innerHTML=1<b?"+"+b+" more filters":"+"+b+" more filter");this._updateEmailNewListingsDisplay();this._updateStatsTrendsOrSchoolDisplay(!1);this._updateRemoveOutlineDisplay(!1);this._hideErrorDisplay()},_updateEmailNewListingsDisplay:function(){if(g_searchController.getFindParticularProp())p.set(this.emailListingsButton,"display","none");else if(p.set(this.emailListingsButton,
"display",""),null==g_savedSearches)window.setTimeout(f.hitch(this,this._updateEmailNewListingsDisplay),100);else{for(var a=redfin.search.util.SavedSearchUtil.getCurrentViewAsSavedSearch(),b=null,c=!1,d=0;d<g_savedSearches.length;d++)if(g_savedSearches[d].approximatelyEquals(a)){b=g_savedSearches[d];alertSettings=g_alertSettings[d];for(d=0;d<alertSettings.length;d++)if(1==alertSettings[d].alertsChannelType&&3==alertSettings[d].alertsFrequencyType){c=!0;break}break}null!==b?this.setEmailListingsButton(b,
c):this.setEmailListingsButton(!1)}},_hideErrorDisplay:function(){p.set(this.srsbErrorImageNode,"display","none");p.set(this.srsbErrorNode,"display","none");p.set(this.srsbZoomOutButton,"display","none");p.set(this.srsbZoomInButton,"display","none");p.set(this.srsbSearchingForNode,"display","")},_updateErrorDisplay:function(a){p.set(this.srsbNumUnmappedNode,"display","none");p.set(this.srsbSearchingForNode,"display","none");p.set(this.srsbNumUnmappedNode,"display","none");p.set(this.srsbErrorImageNode,
"display","");p.set(this.srsbErrorNode,"display","");p.set(this.srsbZoomOutButton,"display","none");p.set(this.srsbZoomInButton,"display","none");(a==redfin.search.widget.SearchResultsStatusBox.OUT_OF_MARKET_ERROR||a==redfin.search.widget.SearchResultsStatusBox.SEARCH_FAILED_ERROR||a==redfin.search.widget.SearchResultsStatusBox.NO_LISTINGS)&&p.set(this.srsbZoomOutButton,"display","");(a==redfin.search.widget.SearchResultsStatusBox.SEARCH_TIMED_OUT_ERROR||a==redfin.search.widget.SearchResultsStatusBox.SEARCH_TIMED_OUT_NO_PAST_SALES_ERROR||
a.title==redfin.search.widget.SearchResultsStatusBox.TOO_MANY_LIST.title)&&g_searchController.map.getZoom()<redfin.search.GMap3.MAX_ZOOM&&p.set(this.srsbZoomInButton,"display","");this._updateEmailNewListingsDisplay();this._updateStatsTrendsOrSchoolDisplay(!1);this._updateRemoveOutlineDisplay(!1)},_updateStatsTrendsOrSchoolDisplay:function(a){var b=g_searchController.getCurrentRegionInfo();!a&&g_searchController.getPerformingPolygonSearch()&&null!==b&&!b.isBoundingBox?(a=redfin.util.truncateString(b.name,
redfin.search.widget.SearchResultsStatusBox.REGION_SHORT_LENGTH,redfin.search.widget.SearchResultsStatusBox.ELLIPSIS),b.school?(this.schoolNameNode.innerHTML=a,p.set(this.schoolButton,"display",""),p.set(this.statsAndTrendsButton,"display","none")):(this.regionNameNode.innerHTML=a,p.set(this.schoolButton,"display","none"),p.set(this.statsAndTrendsButton,"display",""))):(p.set(this.statsAndTrendsButton,"display","none"),p.set(this.schoolButton,"display","none"))},_updateRemoveOutlineDisplay:function(a){if(!a){if(g_searchController.getFindParticularProp()){p.set(this.redoSearchInAreaButton,
"display","");p.set(this.removeOutlineButton,"display","none");return}if(g_searchController.getPerformingPolygonSearch()){p.set(this.removeOutlineButton,"display","");p.set(this.redoSearchInAreaButton,"display","none");return}}p.set(this.removeOutlineButton,"display","none");p.set(this.redoSearchInAreaButton,"display","none")},hide:function(){p.set(this.domNode,"display","none");6==n("ie")&&(this.domNode.className=this.domNode.className);this._isShowing=!1},show:function(){this.hasValidStatus()||
console.warn("calling SearchResultsStatusBox.show() without a valid status!");p.set(this.domNode,"display","");6==n("ie")&&(this.srsbBackgroundNode.style.height=h.coords(this.srsbForegroundNode).h,this.domNode.className=this.domNode.className);this._isShowing=!0},isShowing:function(){return this._isShowing},hasValidStatus:function(){return this._hasValidStatus},createSearchMessage:function(a){var b=redfin.search.widget.SearchResultsStatusBox.SEARCHING.status;null!==a&&""!==a&&(b=redfin.search.widget.SearchResultsStatusBox.SEARCHING_LOC.status+
redfin.util.escapeXml(a)+'."');return b},showResultsStatus:function(a,b,c,f){this._hideErrorDisplay();this.set("numResults",a+c);this.set("numUnmapped",b);this.set("searchParameters",f);d.byId("status_results_found_text").innerHTML=this.getResultsFoundString(a,b,c);a=B.getSearchDescriptionString(f,!0);this.srsbSearchingForNode.title=a;this._hasValidStatus=!0;this.show()},showErrorStatus:function(a){this._updateErrorDisplay(a);this.numResultsNode.innerHTML=a.title;this.srsbErrorStatusNode.innerHTML=
a.status;this._hasValidStatus=!0;this.show()},getSearchNameForAlerts:function(a){var b=[];a&&(a.beds&&a.beds.min&&!a.beds.max?b.push(a.beds.min+"+ beds"):a.beds&&a.beds.max&&b.push(B.getRangeDisplayString(a.beds,void 0,!0)+" beds"),a.baths&&a.baths.min&&b.push(a.baths.min+"+ baths"),a.price&&(a.price.min||a.price.max)&&b.push(B.getRangeDisplayString(a.price,B.formatPrice)));b=b.join(", ");a=a.location;if(!a||""==a)a="My Saved Search";return b=redfin.util.htmlEscape(""!==b?a+" - "+b:a)},getResultsFoundString:function(a,
b,c){a=new Number(a);b=new Number(b);c=new Number(c);0==a&&0==c?a=redfin.search.widget.SearchResultsStatusBox.NO_LISTINGS:(a=1==a+c?"1 result":a+c+" results",b&&0<b&&(a=a+' \x3cspan style\x3d"font-weight:normal !important;"\x3e('+b+' \x3cspan class\x3d"status_box_link" onclick\x3d\'dijit.byId("status_unmapped_description").show();\'\x3eunmapped\x3c/span\x3e)\x3c/span\x3e'));return a},onClickRegion:function(){u.publish(redfin.search.TOPIC_HOME_STATE,{select:!1,deselecting:!0});(new redfin.common.GoogleAnalytics).trackEvent("search_region_show_sidebar",
{source:"statusbox"});return!1},hideListOnlyStatusBox:function(){d.byId("list_only_status_box").style.display="none"},showListOnlyStatusBox:function(){d.byId("list_only_status_box").style.display="inline"},hideTermsButton:function(){p.set(this.srsbTermsButton,"display","none")},showTermsButton:function(){p.set(this.srsbTermsButton,"display","")},hideLoginButton:function(){p.set(this.srsbLoginButton,"display","none")},showLoginButton:function(){p.set(this.srsbLoginButton,"display","")},_clearPolygonSearch:function(){redfin.search.widget.SearchResultsStatusBox.clearPolygonSearch()},
_changeFilters:function(){dijit.byId("search_controls_extended").show()},getNumResults:function(){return this._numResults},_newInstantAlert:function(a,b){redfin.common.AccessLevelUtil.isLoggedIn()&&("undefined"!==typeof l("RF_SECURE_KEY")||"undefined"!==typeof l("RF_AUTH")||"undefined"!==typeof l("RF_SECURE_AUTH"))?(k.disconnect(this.emailListingsConnect),this._newInstantAlertGetName(b)):B.getRegionName(f.hitch(this,function(a){a=redfin.search.widget.ListingAlertsAwarenessDialog.createDialogWithName(a);
h.global._gaq&&h.global._gaq.push(["_trackEvent","Listing Alerts Prompt","Dialog Shown","Unreg Switch Click"]);a._guts.subscribeClick()}))},_newInstantAlertGetName:function(a){B.getRegionName(f.hitch(this,function(b){var c=redfin.search.g_searchForm.getParameters(!0);c.location=b;this._newInstantAlertCreate(redfin.util.htmlUnescape(this.getSearchNameForAlerts(c)),a)}))},_newInstantAlertCreate:function(a,b){var c=redfin.search.util.SavedSearchUtil.getSaveSearchQuery();r("/stingray/do/api-save-search",
{method:"POST",handleAs:"json",query:{name:a,frequency:redfin.search.widget.SaveSearchTooltipDialog.FREQUENCY_INSTANT,query:c,createdVia:b||g_savedSearchCreatedVia.SWITCH_ON_MAP},sync:!1}).then(f.hitch(this,function(a){if(a.resultCode===g_apiResultCode.NO_ERROR&&null!=a.payload.savedSearch){a=a.payload.savedSearch;var b=redfin.search.util.SavedSearchUtil.getCurrentViewAsSavedSearch();b.setId(a.id);b.setSearchName(a.name);g_savedSearches.push(b);g_alertSettings.push([{alertsChannelType:1,alertsFrequencyType:3}]);
this.setEmailListingsButton(b,!0);this._showSuccessfulInstantAlertCreate(a.name,a.id);return!0}return!1}),function(a){a&&(a.status&&403===a.status)&&redfin.search.widget.ErrorDialog.showError("We can't save your search.","Sorry! Looks like our security features stopped you from saving this search. \x3cbr\x3e\x3cbr\x3e"+G.CSRF_ERROR_HTML)})},handleSuccess:function(a){this._showInstantAlertFlyout("Success!","\x3cspan\x3eUpdates for this search (\x3cb\x3e"+this._lastSearchName+"\x3c/b\x3e) are on their way to your inbox and the OS X Notification Center.\x3c/span\x3e")},
handleError:function(a){this._showInstantAlertFlyout("Success!","\x3cspan\x3eUpdates for this search (\x3cb\x3e"+this._lastSearchName+"\x3c/b\x3e) are on their way to your inbox.\x3c/span\x3e")},deniedPermissions:function(){this._showInstantAlertFlyout("Success!","\x3cspan\x3eUpdates for this search (\x3cb\x3e"+this._lastSearchName+"\x3c/b\x3e) are on their way to your inbox.\x3c/span\x3e")},_showSuccessfulInstantAlertCreate:function(a,b){this.shouldAskForSafariPushPermissions()?this.askForSafariPushPermissionsForSavedSearch(a,
b):this._showInstantAlertFlyout("Success!","\x3cspan\x3eUpdates for this search (\x3cb\x3e"+a+"\x3c/b\x3e) are on their way to your inbox.\x3c/span\x3e")},_showInstantAlertFlyout:function(a,d){var f=new K({title:a,content:d,position:"right",closeOnBlur:!0,"class":"instantAlertsFlyout"});p.set(q(".arrow",f.domNode)[0],"top","-30px");c(f,"Hide",function(){b.destroy(f.domNode)});b.place(f.domNode,this.emailListingsButton,"after");f.show();return f},_deleteInstantAlert:function(a){k.disconnect(this.emailListingsConnect);
r("/stingray/do/update-saved-search",{method:"POST",handleAs:"text",query:{"saved-search-id":a.getId(),remove:"remove","search-name":a.getSearchName(),"frequency-type":"Instant"}}).then(f.hitch(this,function(b){this.setEmailListingsButton(!1);for(b=0;b<g_savedSearches.length;b++)if(g_savedSearches[b].getId()==a.getId()){g_savedSearches.splice(b,1);g_alertSettings.splice(b,1);break}}),f.hitch(this,function(a){a&&(a.status&&403===a.status)&&redfin.search.widget.ErrorDialog.showError("Unable to delete saved search.",
"Sorry! Looks like our security features stopped you from deleting this search. \x3cbr\x3e\x3cbr\x3e"+G.CSRF_ERROR_HTML)}))},_deactivateInstantAlert:function(a){this._changeInstantAlertState(a,1,!1)},_reactivateInstantAlert:function(a){this._changeInstantAlertState(a,3,!0)},_changeInstantAlertState:function(a,d,e){k.disconnect(this.emailListingsConnect);r("/stingray/do/api-change-save-search-frequency",{method:"POST",handleAs:"json",query:{id:a.getId(),emailFreq:d}}).then(f.hitch(this,function(k){if(k.resultCode===
g_apiResultCode.NO_ERROR){k=null;for(var g=0;g<g_savedSearches.length;g++)if(g_savedSearches[g].getId()==a.getId()){k=g;for(var l=!1,m=0;m<g_alertSettings[g].length;m++)if(1==g_alertSettings[g][m].alertsChannelType){l=!0;g_alertSettings[g][m].alertsFrequencyType=d;break}l||g_alertSettings[g].push({alertsChannelType:1,alertsFrequencyType:d});break}this.setEmailListingsButton(g_savedSearches[k],e);e&&this._showSuccessfulInstantAlertCreate(g_savedSearches[k].getSearchName(),g_savedSearches[k].getId())}else if(k.resultCode===
g_apiResultCode.NOT_LOGGED_IN){var p=this._showInstantAlertFlyout("Oops!","\x3cspan id\x3d'instantAlertLoginErrorFlyout'\x3eYou must be signed in to do this. \x3c/span\x3e");k=b.create("a");k.innerHTML="Sign in";c(k,"click",f.hitch(this,function(){w(redfin.common.LoginPopup.showNewDialog(),f.hitch(this,function(){p.hide();document.location.reload()}))}));b.place(k,"instantAlertLoginErrorFlyout","last");this.setEmailListingsButton(a,!e)}}),f.hitch(this,function(a){a&&(a.status&&403===a.status)&&redfin.search.widget.ErrorDialog.showError("Unable to deactivate saved search.",
"Sorry! Looks like our security features stopped you from deleting this search. \x3cbr\x3e\x3cbr\x3e"+G.CSRF_ERROR_HTML)}))},setEmailListingsButton:function(a,b){a&&b?(m.contains(this.emailListingsButtonToggle,"emailListingsSwitchOffV2")&&(m.remove(this.emailListingsButtonToggle,"emailListingsSwitchOffV2"),m.add(this.emailListingsButtonToggle,"emailListingsSwitchOnV2")),k.disconnect(this.emailListingsConnect),this.emailListingsConnect=this.connect(this.emailListingsButton,"onclick",function(){this._deactivateInstantAlert(a)})):
(m.contains(this.emailListingsButtonToggle,"emailListingsSwitchOnV2")&&(m.remove(this.emailListingsButtonToggle,"emailListingsSwitchOnV2"),m.add(this.emailListingsButtonToggle,"emailListingsSwitchOffV2")),k.disconnect(this.emailListingsConnect),this.emailListingsConnect=a?this.connect(this.emailListingsButton,"onclick",function(){this._reactivateInstantAlert(a)}):this.connect(this.emailListingsButton,"onclick",this._newInstantAlert))},_zoomIn:function(){g_searchController.getMap().zoomIn()},_zoomOut:function(){g_searchController.getMap().zoomOut()},
_showLogin:function(){g_searchController.onVowLoginWarnOK()},_termsOkay:function(){g_searchController.onVowTermsWarnOK()},_showStatsTrendsOrSchool:function(){var a=g_searchController.currentRegionInfo,b=a.url;a.school&&(b=z.get(a.school,"url"));window.open(b,"_blank")}});f.mixin(e.prototype,B);f.mixin(e,{TOO_MANY_LIST_PREFIX:"Over ",TOO_MANY_LIST_SUFFIX:" results.  Try zooming in or modifying your search options.",TOO_MANY_LIST_SUFFIX_NO_ZOOM:" results.  Try modifying your search options to be more selective.",
TOO_MANY_LIST:{status:void 0,title:"Too many results"},UNABLE_FIND_PREFIX:'We were unable to find "',UNABLE_FIND_SUFFIX:".\"  It might be outside \x3ca href\x3d'out-of-area-signup'\x3eour search area\x3c/a\x3e.",UNABLE_FIND:{status:void 0,title:"No results"},LOC_SEARCH_ERROR_STR_PREFIX:"An error occurred while searching for '",LOC_SEARCH_ERROR_STR_SUFFIX:"'.  Please try again later.",LOC_SEARCH_ERROR_STR:{status:void 0,title:"Search error"},NO_LISTINGS:{status:"No homes matched your search",title:"No results"},
NO_RES_ID_SEARCH:{status:"The listing or property you were looking for is no longer available or is not accessible.",title:"Not available"},ID_ERROR:{status:"An error occurred while searching for a listing or property.  Please try again later.",title:"Search error"},THROTTLED:{status:"The server is busy at this time.  Please try again later.",title:"Server busy"},SEARCHING:{status:"\x26nbsp;Searching thousands of listings...",title:"Searching"},SEARCHING_LOC:{status:'\x26nbsp;Searching for "',title:"Searching"},
OUT_OF_MARKET_ERROR:{status:"Try zooming out, moving the map or modifying your search location.",title:"Out of Redfin Area"},SEARCH_FAILED_ERROR:{status:"An error occurred while searching.  Please try again later.",title:"Search error"},SEARCH_TIMED_OUT_ERROR:{status:"Your search is taking too long.  Try zooming in or turning off sales records.",title:"Search Error"},SEARCH_TIMED_OUT_NO_PAST_SALES_ERROR:{status:"Your search is taking too long.  Try zooming in.",title:"Search error"},SCHOOL_SEARCH_FAILED_ERROR:{status:"An error occurred while searching for schools.  Please try again later.",
title:"Search error"},SEARCH_FAILED_WITH_SUGGESTIONS:{status:"An error occurred while searching. Please try either refreshing or closing and reopening your browser.",title:"Search error"},CACHE_MARKETS_ERROR:{status:"An error occurred while getting information on Redfin service areas.  Please try again later.",title:"Search error"},REGION_SHORT_LENGTH:13,TEXT_SHORT_LENGTH:50,ELLIPSIS:"...",clearPolygonSearch:function(){g_searchController.clearPolygonSearch();g_searchController.clearParticularPropFields();
g_searchController.performSearch();(new redfin.common.GoogleAnalytics).trackEvent(redfin.search.GA_EVENT_MAP_UI,{action:"remove_outline"})}});return e})},"redfin/homepage/widgets/PriceYourHomeWidget":function(){define("dojo/_base/declare dijit/_Widget dijit/_TemplatedMixin dojo/text!./templates/PriceYourHomeWidget.html dojo/dom-style dojo/_base/lang dojo/cookie dojo/on dojo/when dojo/dom redfin/common/testing/ABTestController".split(" "),function(h,b,e,a,c,d,g,f,k,l,m){return h("redfin.homepage.widgets.PriceYourHomeWidget",
[b,e],{templateString:a,_arePlaceholderEventsSetUp:!1,_isSubmissionBegun:!1,_isExperimentComplete:!1,_SEARCH_DELAY_MSEC:50,_ADDRESS_INPUT_PLACEHOLDER:"Enter your home address",postCreate:function(){this.inherited(arguments);this.setAddressPlaceholder(this._ADDRESS_INPUT_PLACEHOLDER);this.experimentController=new m;this.experimentController.initialize({experimentId:g_feature.HOMEPAGE_SELL_MY_HOME_EXPERIMENT,experimentInstanceId:g("RF_BROWSER_ID"),target:["homepageSubmitButton","hvtPage1SellerConsultationFormSubmitButton",
"hvtPage2ContactAgentButton","hvtPage3ContactAgentButton","sellerConsultationFormSubmitButton"],category:"redfin.homepage"});var a=this.experimentController.whenLoaded();"undefined"!==typeof a&&null!==a&&a.then(d.hitch(this,function(){var a=this.experimentController.getVariant();"Home_Value_Tool"!==a&&"Sell_My_Home"===a&&(this.formNode.action="/sell-a-home/consultation");this.own(f(this.formNode,"submit",d.hitch(this,this.submitSearch)))},function(){this.own(f(this.formNode,"submit",d.hitch(this,
this.submitSearch)))}))},submitSearch:function(a){if(this._isExperimentComplete)return!0;a&&(a.preventDefault(),a.stopPropagation());this._isSubmissionBegun||(this._isSubmissionBegun=!0,k(this.experimentController.whenLoaded(),d.hitch(this,function(){this.experimentController.completedGoal(d.hitch(this,function(){this._isExperimentComplete=!0;this.formNode.submit()}))}),d.hitch(this,function(){this._isExperimentComplete=!0;this.formNode.submit()})));return!1},setAddressPlaceholder:function(a){this._hasPlaceholderSupport()?
this.addressInput.placeholder=a:(this.addressInput.value=this._currentPlaceholder=a,c.set(this.addressInput,"color","#999"),this._arePlaceholderEventsSetUp||(f(this.addressInput,"focus",d.hitch(this,function(){this._currentPlaceholder==this.addressInput.value&&(this.addressInput.value="",c.set(this.addressInput,"color","#000"))})),f(this.addressInput,"blur",d.hitch(this,function(){""===this.addressInput.value&&(this.addressInput.value=this._currentPlaceholder,c.set(this.addressInput,"color","#999"))})),
this._arePlaceholderEventsSetUp=!0))},_hasPlaceholderSupport:function(){return"placeholder"in document.createElement("input")},experimentController:null,formNode:null,addressInput:null})})},"redfin/common/namespace":function(){define("redfin/common/namespace",["dijit","dojo","dojox"],function(h,b,e){b.provide("redfin.common.namespace");b.getObject("redfin",!0);b.getObject("redfin.controller",!0);b.getObject("redfin.datamodel",!0);b.getObject("redfin.datamodel.hometypes",!0);b.getObject("redfin.datamodel.sorttypes",
!0);b.getObject("redfin.datamodel.phototypes",!0);b.getObject("redfin.ui",!0);b.getObject("redfin.ui.controls",!0);b.getObject("redfin.ui.shapes",!0);b.getObject("redfin.ui.search",!0);b.getObject("redfin.ui.my_favorites",!0);b.getObject("redfin.ui.my_tours",!0);b.getObject("redfin.ui.my_cart",!0);b.getObject("redfin.geometry",!0);b.getObject("redfin.util",!0);b.getObject("redfin.relevantLinks",!0);b.getObject("redfin.search",!0)})},"dijit/a11y":function(){define("dijit/a11y","dojo/_base/array dojo/_base/config dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-style dojo/sniff ./main".split(" "),
function(h,b,e,a,c,d,g,f){var k=f._isElementShown=function(a){var b=d.get(a);return"hidden"!=b.visibility&&"collapsed"!=b.visibility&&"none"!=b.display&&"hidden"!=c.get(a,"type")};f.hasDefaultTabStop=function(a){switch(a.nodeName.toLowerCase()){case "a":return c.has(a,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var b;try{var d=a.contentDocument;if("designMode"in d&&"on"==d.designMode)return!0;b=d.body}catch(f){try{b=a.contentWindow.document.body}catch(k){return!1}}return b&&
("true"==b.contentEditable||b.firstChild&&"true"==b.firstChild.contentEditable);default:return"true"==a.contentEditable}};var l=f.isTabNavigable=function(a){return c.get(a,"disabled")?!1:c.has(a,"tabIndex")?0<=c.get(a,"tabIndex"):f.hasDefaultTabStop(a)};f._getTabNavigable=function(a){function b(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&a.name&&a.name.toLowerCase()}var d,f,e,h,u,w,v={},x=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(!(1!=a.nodeType||
g("ie")&&"HTML"!==a.scopeName||!k(a))){if(l(a)){var m=+c.get(a,"tabIndex");if(!c.has(a,"tabIndex")||0==m)d||(d=a),f=a;else if(0<m){if(!e||m<h)h=m,e=a;if(!u||m>=w)w=m,u=a}m=b(a);c.get(a,"checked")&&m&&(v[m]=a)}"SELECT"!=a.nodeName.toUpperCase()&&x(a)}};k(a)&&x(a);return{first:v[b(d)]||d,last:v[b(f)]||f,lowest:v[b(e)]||e,highest:v[b(u)]||u}};f.getFirstInTabbingOrder=function(b,c){var d=f._getTabNavigable(a.byId(b,c));return d.lowest?d.lowest:d.first};f.getLastInTabbingOrder=function(b,c){var d=f._getTabNavigable(a.byId(b,
c));return d.last?d.last:d.highest};return{hasDefaultTabStop:f.hasDefaultTabStop,isTabNavigable:f.isTabNavigable,_getTabNavigable:f._getTabNavigable,getFirstInTabbingOrder:f.getFirstInTabbingOrder,getLastInTabbingOrder:f.getLastInTabbingOrder}})},"url:dijit/templates/Dialog.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"${id}_title"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\n\t\t\t\trole\x3d"header" level\x3d"1"\x3e\x3c/span\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"${buttonCancel}" role\x3d"button" tabIndex\x3d"-1"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"redfin/common/mixins/_Adopt":function(){define(["dojo/_base/array","dojo/_base/declare"],function(h,b){return b("redfin.common.mixins._Adopt",null,{parent:null,adopt:function(b,a,c){a=a||{};a.parent=this;b=new b(a,c);this._addItem(b);return b},orphan:function(b,a){this._addedItems=this._addedItems||[];var c=h.indexOf(this._addedItems,b);0<=c&&this._addedItems.splice(c,1);a&&this._kill(b)},_addItem:function(){this._addedItems=this._addedItems||[];this._addedItems.push.apply(this._addedItems,arguments)},
_kill:function(b){b&&b.destroyRecursive?b.destroyRecursive():b&&b.destroy&&b.destroy()},destroy:function(){h.forEach(this._addedItems,this._kill);this.inherited(arguments)}})})},"dijit/form/TextBox":function(){require({cache:{"url:dijit/form/templates/TextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n'}});
define("dijit/form/TextBox","dojo/_base/declare dojo/dom-construct dojo/dom-style dojo/_base/kernel dojo/_base/lang dojo/sniff ./_FormValueWidget ./_TextBoxMixin dojo/text!./templates/TextBox.html ../main".split(" "),function(h,b,e,a,c,d,g,f,k,l){h=h("dijit.form.TextBox",[g,f],{templateString:k,_singleNodeTemplate:'\x3cinput class\x3d"dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point\x3d"textbox,focusNode" autocomplete\x3d"off" type\x3d"${type}" ${!nameAttrSetting} /\x3e',_buttonInputDisabled:d("ie")?
"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var a=this.type.toLowerCase();if(this.templateString&&"input"==this.templateString.toLowerCase()||("hidden"==a||"file"==a)&&this.templateString==this.constructor.prototype.templateString)this.templateString=this._singleNodeTemplate;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);9>d("ie")&&this.defer(function(){try{var a=e.getComputedStyle(this.domNode);if(a){var b=a.fontFamily;if(b){var c=this.domNode.getElementsByTagName("INPUT");
if(c)for(a=0;a<c.length;a++)c[a].style.fontFamily=b}}}catch(d){}})},_onInput:function(a){this.inherited(arguments);this.intermediateChanges&&this.defer(function(){this._handleOnChange(this.get("value"),!1)})},_setPlaceHolderAttr:function(a){this._set("placeHolder",a);this._phspan||(this._attachPoints.push("_phspan"),this._phspan=b.create("span",{onmousedown:function(a){a.preventDefault()},className:"dijitPlaceHolder dijitInputField"},this.textbox,"after"));this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(a));
this._updatePlaceHolder()},_updatePlaceHolder:function(){this._phspan&&(this._phspan.style.display=this.placeHolder&&!this.focused&&!this.textbox.value?"":"none")},_setValueAttr:function(a,b,c){this.inherited(arguments);this._updatePlaceHolder()},getDisplayedValue:function(){a.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue")},setDisplayedValue:function(b){a.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.",
"","2.0");this.set("displayedValue",b)},_onBlur:function(a){this.disabled||(this.inherited(arguments),this._updatePlaceHolder(),d("mozilla")&&this.selectOnClick&&(this.textbox.selectionStart=this.textbox.selectionEnd=void 0))},_onFocus:function(a){!this.disabled&&!this.readOnly&&(this.inherited(arguments),this._updatePlaceHolder())}});d("ie")&&(h.prototype._isTextSelected=function(){var a=this.ownerDocument.selection.createRange();return a.parentElement()==this.textbox&&0<a.text.length},l._setSelectionRange=
f._setSelectionRange=function(a,b,c){a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),a.moveStart("character",-99999),a.moveStart("character",b),a.moveEnd("character",c-b),a.select())});return h})},"redfin/homepage/widgets/LastSearchWidget":function(){require({cache:{"url:redfin/homepage/widgets/templates/LastSearchWidget.html":'\x3cdiv class\x3d"lastSearchWidget"\x3e\n\t\x3cdiv dojoAttachPoint\x3d"lastSearchErrorMessageNode" class\x3d"errorNode collapsed"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"lastSearchItem clear-fix" dojoAttachPoint\x3d"lastSearchItem"\x3e\n\t\t\x3cspan class\x3d"search_item_icon"\x3e\x3c/span\x3e\n\t\t\x3ca class\x3d"lastSearchName" dojoAttachPoint\x3d"lastSearchNameNode"\x3e\x3c/a\x3e\n\t\t\x3cspan class\x3d"reminder hidden" dojoAttachPoint\x3d"reminderNode"\x3e(already saved)\x3c/span\x3e\n\t\t\x3cdiv dojoType\x3d"redfin.widget.Button" buttonType\x3d"tertiary" size\x3d"small" label\x3d"Save" class\x3d"saveButton hidden" dojoAttachPoint\x3d"saveButton"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e'}});
define("redfin/homepage/widgets/LastSearchWidget","dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/LastSearchWidget.html dojo/dom-attr dojo/dom-class dojo/when dojo/on dojo/request dojo/topic dojo/aspect dojo/_base/lang dojo/_base/event redfin/search/widget/search_results_status_box redfin/common/data/ObjectGraph redfin/common/data/SavedSearch redfin/homepage/widgets/SearchItem redfin/search/SearchStorage".split(" "),function(h,b,e,a,
c,d,g,f,k,l,m,p,n,q,r,t,u,w,v){return h("redfin.homepage.widgets.LastSearchWidget",[b,e,a],{templateString:c,savedSearchesData:null,GAEvent:!1,CREATE_SAVED_SEARCH_URL:"/stingray/do/api-save-search",MY_SEARCHES_URL:redfin.serviceEndpoints.apiGetMySearches,searchName:null,searchTerm:null,polygonString:null,marketId:null,postCreate:function(){this.inherited(arguments);this.searchTerm=dojo.cookie("lastSearch");var a={};this.searchTerm&&(a=redfin.util.NameValue.deconstructQueryString(this.searchTerm));
this.renderLastSearchItem(this.searchTerm,a)},renderLastSearchItem:function(a,b){if(this.savedSearchesData)return f(this.savedSearchesData,n.hitch(this,function(c){var f=c&&c.payload&&(new t(c.payload)).getRoot().lastSearchString||"Your last search";this.searchName=this.appendExtraNameParameters(a,b,f);d.set(this.lastSearchNameNode,"innerHTML",this.searchName);d.set(this.lastSearchNameNode,"href",g_webServerUrl+"/homes-for-sale#!"+a);f=new redfin.search.SearchStorage;this.polygonString=this.getPolygonString(f.getBoundingBox());
null===this.polygonString&&(c&&c.payload&&(new t(c.payload)).getRoot().polygonString)&&(this.polygonString=(new t(c.payload)).getRoot().polygonString);this.polygonString&&0<this.polygonString.length&&(this.marketId=(new t(c.payload)).getRoot().marketId,c=this.findDuplicateSearch(c),null===c?(g.remove(this.saveButton.domNode,"hidden"),k(this.saveButton,"click",n.hitch(this,this.onClickSaveButton))):(d.set(this.lastSearchNameNode,"innerHTML",c.savedSearch.getSearchName()),g.remove(this.reminderNode,
"hidden")));k(this.lastSearchNameNode,"click",n.hitch(this,this.onClickLastSearchName,this.lastSearchNameNode))}))},appendExtraNameParameters:function(a,b,c){a=b.num_baths;var d={min:b.num_beds,max:b.max_num_beds};b={min:b.min_price,max:b.max_price};var f=new redfin.search.widget.SearchResultsStatusBox;if(a||d.min||d.max||b.min||b.max)c+=" - ";d.min&&!d.max?c+=d.min+"+ beds":d.max&&(c+=f.getRangeDisplayString(d,void 0,!0)+" beds");if("undefined"!==typeof a&&null!==a){if(d.min||d.max)c+=", ";c+=a+
"+ baths"}if(b.min||b.max){if(d.min||d.max||a)c+=", ";c+=f.getRangeDisplayString(b,f.formatPrice)}return c},onClickLastSearchName:function(a,b){q.stop(b);this.GAEvent&&dojo.global._gaq&&dojo.global._gaq.push(["_trackEvent","Homepage","Most_Recent_Search_Clicked",null,null]);if("_blank"==a.target)return!0;setTimeout(function(){window.location=a.href},250);return!1},onClickSaveButton:function(){this.GAEvent&&dojo.global._gaq&&dojo.global._gaq.push(["_trackEvent","Homepage","Save_Most_Recent_Search_Clicked",
null,null]);-1==this.searchTerm.indexOf("uipt")&&(this.searchTerm+="\x26uipt\x3d1,2,3,4,5,6");this.searchTerm.indexOf("status"==-1)&&(this.searchTerm+="\x26status\x3d1");this.searchTerm.indexOf("sf"==-1)&&(this.searchTerm+="\x26sf\x3d1,2,3");redfin.common.AccessLevelUtil.isLoggedIn()?this.createSavedSearch():(redfin.common.LoginPopup.showNewDialogIfNeeded({message:"homepage-save-search",view:"signin"}).addCallback(n.hitch(this,this.getMySavedSearches)),p.after(this,"handleSavedSearchesResponse",function(){setTimeout(function(){window.location=
g_webServerUrl},1E3)}))},getMySavedSearches:function(){l(this.MY_SEARCHES_URL,{method:"POST",handleAs:"json-squiggly"}).then(n.hitch(this,this.handleSavedSearchesResponse),n.hitch(this,this.createSavedSearch))},handleSavedSearchesResponse:function(a){null===this.findDuplicateSearch(a)?this.createSavedSearch():this.displayMessage("We're sorry, you have already saved this search.")},createSavedSearch:function(){m.publish("loadSpinner");g.add(this.saveButton.domNode,"disabled");l(this.CREATE_SAVED_SEARCH_URL,
{query:{name:this.searchName,emailFreq:g_alertFrequencyType.INSTANT,query:this.searchTerm+(this.polygonString?"\x26"+this.polygonString:""),createdVia:g_savedSearchCreatedVia.HOMEPAGE},method:"GET",handleAs:"json-squiggly"}).then(n.hitch(this,this.handleCreateSearchResponse),n.hitch(this,this.handleCreateSearchErrorResponse))},handleCreateSearchResponse:function(a){m.publish("stopSpinner");"Success."==a.errorMessage?(this.saveButton.domNode.innerText="Saved",m.publish("lastSearchSaved",{ss:a.payload.savedSearch,
searchTerm:this.searchTerm})):this.handleCreateSearchError(a)},handleCreateSearchError:function(a){m.publish("stopSpinner");g.remove(this.saveButton.domNode,"disabled");this.displayMessage("We're sorry, there was an error saving your most recent search.\x3cbr/\x3ePlease try again later.")},findDuplicateSearch:function(a){var b=redfin.search.util.SavedSearchUtil.getQueryAsSavedSearch(this.searchTerm+(this.polygonString?"\x26"+this.polygonString:"")+(this.marketId?"\x26marketId\x3d"+this.marketId:""));
a=a&&(new t(a.payload)).getRoot().savedSearches||[];for(var c=0;c<a.length;c++)if(a[c].savedSearch.approximatelyEquals(b))return a[c];return null},getPolygonString:function(a){if(a){var b=a.split(",");a=b[0];var c=b[1],d=b[2],b=b[3];return"poly\x3d"+a+" "+c+","+d+" "+c+","+d+" "+b+","+a+" "+b+","+a+" "+c}return null},displayMessage:function(a){this.lastSearchErrorMessageNode.innerHTML=a;g.remove(this.lastSearchErrorMessageNode,"hidden");g.remove(this.lastSearchErrorMessageNode,"collapsed");setTimeout(n.hitch(this,
function(){g.add(this.lastSearchErrorMessageNode,"collapsed")}),2E3);setTimeout(n.hitch(this,function(){g.add(this.lastSearchErrorMessageNode,"hidden")}),2500)},saveButton:null,lastSearchItem:null,lastSearchNameNode:null,lastSearchUpdatesToggleNode:null,lastSearchErrorMessageNode:null,reminderNode:null})})},"dijit/form/_RadioButtonMixin":function(){define("dijit/form/_RadioButtonMixin","dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/event dojo/_base/lang dojo/query ../registry".split(" "),
function(h,b,e,a,c,d,g){return b("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var a=[];d("input[type\x3dradio]",this.focusNode.form||this.ownerDocument).forEach(c.hitch(this,function(b){b.name==this.name&&b.form==this.focusNode.form&&(b=g.getEnclosingWidget(b))&&a.push(b)}));return a},_setCheckedAttr:function(a){this.inherited(arguments);this._created&&a&&h.forEach(this._getRelatedWidgets(),c.hitch(this,function(a){a!=this&&a.checked&&a.set("checked",!1)}))},_getSubmitValue:function(a){return null===
a?"on":a},_onClick:function(b){return this.checked||this.disabled?(a.stop(b),!1):this.readOnly?(a.stop(b),h.forEach(this._getRelatedWidgets(),c.hitch(this,function(a){e.set(this.focusNode||this.domNode,"checked",a.checked)})),!1):this.inherited(arguments)}})})},"redfin/search/map/SearchSummary":function(){define("dijit/_TemplatedMixin dijit/_WidgetBase dijit/registry dojo/_base/declare dojo/_base/lang dojo/dom dojo/text!./templates/SearchSummary.html dojo/topic redfin/search/map/topics redfin/search/util/NumberUtil redfin/search/util/search_results_util".split(" "),
function(h,b,e,a,c,d,g,f,k,l,m){return a("redfin.search.map.SearchSummary",[b,h],{templateString:g,numResults:0,searchParams:null,regionName:null,numResultsNode:null,resultsWordNode:null,searchDescription:null,constructor:function(){this.own(f.subscribe(k.TOPIC_REGION_STATE,c.hitch(this,"onRegionStateAvailable")))},_setNumResultsAttr:function(a){this._set("numResults",a);var b=l.format(a);this.numResultsNode.innerHTML=b+(500<=b?"+":"");this.resultsWordNode.innerHTML="result";1!=a&&(this.resultsWordNode.innerHTML+=
"s");this.updateData()},updateData:function(){this._updateSearchParams();this.searchDescription.innerHTML="Searching for: "+m.getSearchDescriptionString(this.searchParams)},onRegionStateAvailable:function(a){a&&a.regionInfo?this.regionName.innerHTML=(a.regionInfo.cleanedName||a.regionInfo.name)+" Homes":(this._updateSearchParams(),m.getRegionName(c.hitch(this,function(a){this.regionName.innerHTML=a+" Homes"}),this.searchParams))},_updateSearchParams:function(){if(!this.searchParams){var a=e.byId("search_controls_form");
a&&(this.searchParams=a.getParameters(!0))}}})})},"dojo/cldr/nls/number":function(){define({root:{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",perMille:"\u2030",infinity:"\u221e",nan:"NaN",decimalFormat:"#,##0.###","decimalFormat-short":"000T",scientificFormat:"#E0",percentFormat:"#,##0%","currencySpacing-beforeCurrency-currencyMatch":"[:letter:]","currencySpacing-beforeCurrency-surroundingMatch":"[:digit:]","currencySpacing-beforeCurrency-insertBetween":"\u00a0",
"currencySpacing-afterCurrency-currencyMatch":"[:letter:]","currencySpacing-afterCurrency-surroundingMatch":"[:digit:]","currencySpacing-afterCurrency-insertBetween":"\u00a0",currencyFormat:"\u00a4\u00a0#,##0.00"},ar:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,"en-gb":!0,es:!0,fi:!0,fr:!0,"fr-ch":!0,he:!0,hu:!0,it:!0,ja:!0,ko:!0,nb:!0,nl:!0,pl:!0,pt:!0,"pt-pt":!0,ro:!0,ru:!0,sk:!0,sl:!0,sv:!0,th:!0,tr:!0,zh:!0,"zh-hant":!0,"zh-hk":!0,"zh-tw":!0})},"dojo/cldr/nls/en/number":function(){define({decimal:".",
group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",perMille:"\u2030",infinity:"\u221e",nan:"NaN",decimalFormat:"#,##0.###","decimalFormat-short":"000T",scientificFormat:"#E0",percentFormat:"#,##0%",currencyFormat:"\u00a4#,##0.00;(\u00a4#,##0.00)"})},"redfin/search/util/search_results_util":function(){define(["dojo/_base/array","dojo/request","dojo/has"],function(h,b,e){function a(a,b){return c(a,"",b)}function c(a,b,c){return a?c?c(a):a:b}function d(b,c,d){return b.min&&
!b.max?"\x3e"+a(b.min,c):b.max&&!b.min&&!d?"\x3c"+a(b.max,c):(b.min?a(b.min,c):a("0",c))+"-"+a(b.max,c)}function g(b,c,d){var f=d(b.min);d=d(b.max);var k="";b.min&&b.max&&f==d?(k=" "+f,d=f=""):(f=" "+f,d=" "+d);return b.min&&!b.max?"\x3e"+a(b.min,c)+f:b.max&&!b.min?"\x3c"+a(b.max,c)+d:a(b.min,c)+f+"-"+a(b.max,c)+d+k}function f(a){return 1E6<=a?"$"+a/1E6+"M":1E3<=a?"$"+a/1E3+"K":"$"+a}function k(a){return 365<=a&&0==a%365?1==a/365?"1 year's":a/365+" years'":30<=a&&0==a%30?1==a/30?"1 month's":a/30+
" months'":7<=a&&0==a%7?1==a/7?"1 week's":a/7+" weeks'":1==a?"1 day's":a+" days'"}function l(a){return 10890<=a?(a/43560).toString().replace(/^0+/,""):a}function m(a){return 10890<=a?"a":"sf"}function p(a){return a}return{getPropTypeHTML:function(a){a=a.propertyTypes?a.propertyTypes.split(",").reverse():[g_uiPropertyTypes.HOUSE,g_uiPropertyTypes.CONDO,g_uiPropertyTypes.TOWNHOUSE,g_uiPropertyTypes.MULTI_FAMILY,g_uiPropertyTypes.LAND,g_uiPropertyTypes.OTHER];return h.map(a,function(a){var b=g_uiPropertyTypes.idToObj[a].iconSuffix,
c="ico_list_for_sale";b&&(c+="_"+b);return"\x3cimg src\x3d'"+g_imageServerUrl+"/images/clear.gif' class\x3d'"+c+"' title\x3d'"+g_uiPropertyTypes.idToObj[a].displayLabel+"'/\x3e"}).join("")},getRegionName:function(a,c){c||(c=redfin.search.g_searchForm.getParameters(!0));if(c.location&&c.location!=redfin.search.g_searchForm.NO_LOCATION_MSG)return a(c.location);var d=g_searchController.getMap().getCenter();if(d){d={latitude:d.lat(),longitude:d.lng()};if(!e("mobile-enabled")){var f=g_searchController.getMap().calculateNonClusterBbox(),
k=redfin.util.roundDecimals(f.minlat,redfin.search.SearchBootstrap.ROUND_LAT_LONG_DECIMALS),g=redfin.util.roundDecimals(f.minlong,redfin.search.SearchBootstrap.ROUND_LAT_LONG_DECIMALS),l=redfin.util.roundDecimals(f.maxlat,redfin.search.SearchBootstrap.ROUND_LAT_LONG_DECIMALS),f=redfin.util.roundDecimals(f.maxlong,redfin.search.SearchBootstrap.ROUND_LAT_LONG_DECIMALS);d.poly=g+" "+k+","+f+" "+k+","+f+" "+l+","+g+" "+l+","+g+" "+k}b("/stingray/do/query-latlong",{method:"GET",query:d,handleAs:"json"}).then(function(b){return b&&
b.name?a(b.name):a("My Saved Search")},function(a){})}},getDisplayValue:a,getValueWithDefault:c,getRangeDisplayString:d,getRangeDisplayStringUnits:g,formatPrice:f,formatDays:k,formatLotSize:l,formatLotUnits:m,formatYearBuilt:p,getSearchDescriptionString:function(a,b){var c=[],e="",h=!0,w=!0;if(a){a.statusParam&&(a.statusParam&g_searchStatuses.ACTIVE||(h=!1),a.statusParam&g_searchStatuses.PENDING||a.statusParam&g_searchStatuses.CONTINGENT||(w=!1));!h&&w&&(e="Under contract/pending: ");if(""!=a.sourceAndForeclosureStatuses)if(a.sourceAndForeclosureStatuses){var v=
a.sourceAndForeclosureStatuses.split(","),x;for(x in v)g_sourceAndForeclosureStatuses.idToObj[v[x]].textDesc&&c.push(g_sourceAndForeclosureStatuses.idToObj[v[x]].textDesc)}else c.push("All listings");a.soldWithinDays&&(36500<=a.soldWithinDays?c.push("All sale records"):c.push(k(a.soldWithinDays)+" sale records"));a.price&&(a.price.min||a.price.max)&&c.push(d(a.price,f));a.beds&&a.beds.min&&!a.beds.max?c.push(a.beds.min+"+ beds"):a.beds&&a.beds.max&&c.push(d(a.beds,void 0,!0)+" beds");a.baths&&a.baths.min&&
c.push(a.baths.min+"+ baths");a.size&&(a.size.min||a.size.max)&&c.push(d(a.size)+" sf");a.lotSize&&(a.lotSize.min||a.lotSize.max)&&c.push("lot: "+g(a.lotSize,l,m));a.parking&&a.parking.min&&!a.parking.max?c.push(a.parking.min+"+ parking spots"):a.parking&&a.parking.max&&c.push(d(a.parking)+" parking spots",void 0,!0);a.yearBuilt&&(a.yearBuilt.min||a.yearBuilt.max)&&c.push("built: "+d(a.yearBuilt,p));a.timeOnMarket&&(a.timeOnMarket.min||a.timeOnMarket.max)&&c.push(d(a.timeOnMarket)+" days old");a.hoa&&
c.push("hoa \x3c\x3d $"+a.hoa+"/m");v=[];if(a.propertyTypes){x=a.propertyTypes.split(",");for(var s=0;s<x.length;s++){var y=x[s];y==g_uiPropertyTypes.HOUSE?v.push("Houses"):y==g_uiPropertyTypes.CONDO?v.push("Condos"):y==g_uiPropertyTypes.TOWNHOUSE?v.push("Townhouses"):y==g_uiPropertyTypes.MULTI_FAMILY?v.push("Multi-family"):y==g_uiPropertyTypes.LAND?v.push("Land"):y==g_uiPropertyTypes.OTHER&&v.push("Other types")}}switch(a.openHouse){case "1":v.push("With open house");break;case "2":v.push("Open this weekend")}if(a.reducedByDay){x=
"Price reduced ";switch(a.reducedByDay){case "-0":x+="at any time";break;case "1-":x+="in the last day";break;default:s=/[0-9]+\-/,/\-[0-9]+/.test(a.reducedByDay)?(s=a.reducedByDay.substring(1),x+="more than "+s+" days ago"):s.test(a.reducedByDay)&&(s=a.reducedByDay.substring(0,a.reducedByDay.length-1),x+="in the last "+s+" days")}c.push(x)}a.isFixer&&v.push("Fixer-uppers");a.isNewConstruction&&v.push("New construction");a.isWaterfront&&v.push("Waterfront");a.isView&&v.push("Has view");a.hasGarage&&
v.push("Has garage");a.isFavorite&&v.push("Favorite");0<v.length&&c.push("show only: "+v.join(", "))}v=[];w||v.push("under contract");h||v.push("active");a.excludeShortSales&&v.push("short sales");0<v.length&&c.push("exclude: "+v.join(", "));a.ftSearch&&c.push("remarks include: '"+a.ftSearch+"'");c=e+c.join(", ");b||(c=redfin.util.htmlEscape(c));return c}}})},"url:redfin/common/elements/templates/OldDialog.html":'\x3cdiv class\x3d\'OldDialog dialog\'\x3e\n\t\x3c!-- Old implementation of redfin/common/elements/templates/Dialog.html --\x3e\n\t\x3cdiv class\x3d\'cell\' align\x3d\'center\'\x3e\n\t\t\x3cdiv class\x3d"guts primary" align\x3d\'left\' dojoAttachPoint\x3d"dialogGutsNode"\x3e\n\t\t\t\x3cdiv class\x3d"header" dojoAttachPoint\x3d"titleBar"\x3e\n\t\t\t\t\x3cbutton class\x3d"close hidden" dojoAttachPoint\x3d"closeButtonNode"\x3e\x3c/button\x3e\n\t\t\t\t\x3ch3 dojoAttachPoint\x3d"titleNode"\x3e${title}\x3c/h3\x3e\n\t\t\t\t\x3cspan class\x3d"actions" dojoAttachPoint\x3d"actionsNode"\x3e\x3c/span\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv dojoAttachPoint\x3d"containerNode" class\x3d"content"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"redfin/common/external/Spinner":function(){define(["dojo/_base/lang","dojo/_base/declare","dijit/_WidgetBase"],function(h,b,e){function a(a,b){var c=document.createElement(a||"div"),d;for(d in b)c[d]=b[d];return c}function c(a){for(var b=1,c=arguments.length;b<c;b++)a.appendChild(arguments[b]);return a}function d(a,b,c,d){var f=["opacity",b,~~(100*a),c,d].join("-");c=0.01+100*(c/d);d=Math.max(1-(1-a)/b*(100-c),a);var k=p.substring(0,p.indexOf("Animation")).toLowerCase();m[f]||(n.insertRule("@"+(k&&
"-"+k+"-"||"")+"keyframes "+f+"{0%{opacity:"+d+"}"+c+"%{opacity:"+a+"}"+(c+0.01)+"%{opacity:1}"+(c+b)%100+"%{opacity:"+a+"}100%{opacity:"+d+"}}",0),m[f]=1);return f}function g(a,b){var c=a.style,d,f;if(void 0!==c[b])return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(f=0;f<l.length;f++)if(d=l[f]+b,void 0!==c[d])return d}function f(a,b){for(var c in b)a.style[g(a,c)||c]=b[c];return a}function k(a){for(var b={x:a.offsetLeft,y:a.offsetTop};a=a.offsetParent;)b.x+=a.offsetLeft,b.y+=a.offsetTop;return b}
var l=["webkit","Moz","ms","O"],m={},p,n=function(){var b=a("style");c(document.getElementsByTagName("head")[0],b);return b.sheet||b.styleSheet}(),q={lines:12,length:7,width:5,radius:10,color:"#000",speed:1,trail:100,opacity:0.25,fps:20,zIndex:2E9,className:"spinner",top:"auto",left:"auto"},r=function(a){};r.defaults={};r.prototype={spin:function(b){this.stop();var c=this,d=c.opts,e=c.el=f(a(0,{className:d.className}),{position:"relative",zIndex:d.zIndex}),g=d.radius+d.length+d.width,l,m;b&&(b.insertBefore(e,
b.firstChild||null),m=k(b),l=k(e),f(e,{left:("auto"==d.left?m.x-l.x+(b.offsetWidth>>1):d.left+g)+"px",top:("auto"==d.top?m.y-l.y+(b.offsetHeight>>1):d.top+g)+"px"}));e.setAttribute("aria-role","progressbar");c.getLines(e,c.opts);if(!p){var h=0,n=d.fps,r=n/d.speed,q=(1-d.opacity)/(r*d.trail/100),F=r/d.lines;!function K(){h++;for(var a=d.lines;a;a--){var b=Math.max(1-(h+a*F)%r*q,d.opacity);c.setOpacity(e,d.lines-a,b,d)}c.timeout=c.el&&setTimeout(K,~~(1E3/n))}()}return c},stop:function(){var a=this.el;
a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=void 0);return this},getLines:function(b,k){function e(b,c){return f(a(),{position:"absolute",width:k.length+k.width+"px",height:k.width+"px",background:b,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/k.lines*g)+"deg) translate("+k.radius+"px,0)",borderRadius:(k.width>>1)+"px"})}for(var g=0,l;g<k.lines;g++)l=f(a(),{position:"absolute",top:1+~(k.width/2)+"px",transform:k.hwaccel?"translate3d(0,0,0)":"",
opacity:k.opacity,animation:p&&d(k.opacity,k.trail,g,k.lines)+" "+1/k.speed+"s linear infinite"}),k.shadow&&c(l,f(e("#000","0 0 4px #000"),{top:"2px"})),c(b,c(l,e(k.color,"0 0 1px rgba(0,0,0,.1)")));return b},setOpacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}};(function(){var b=f(a("group"),{behavior:"url(#default#VML)"});if(!g(b,"transform")&&b.adj){for(b=4;b--;)n.addRule(["group","roundrect","fill","stroke"][b],"behavior:url(#default#VML)");r.prototype.getLines=
function(b,d){function k(){return f(a("group",{coordsize:l+" "+l,coordorigin:-g+" "+-g}),{width:l,height:l})}function e(b,l,m){c(h,c(f(k(),{rotation:360/d.lines*b+"deg",left:~~l}),c(f(a("roundrect",{arcsize:1}),{width:g,height:d.width,left:d.radius,top:-d.width>>1,filter:m}),a("fill",{color:d.color,opacity:d.opacity}),a("stroke",{opacity:0}))))}var g=d.length+d.width,l=2*g,m=2*-(d.width+d.length)+"px",h=f(k(),{position:"absolute",top:m,left:m});if(d.shadow)for(m=1;m<=d.lines;m++)e(m,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius\x3d2,makeshadow\x3d1,shadowopacity\x3d.3)");
for(m=1;m<=d.lines;m++)e(m);return c(b,h)};r.prototype.setOpacity=function(a,b,c,d){a=a.firstChild;d=d.shadow&&d.lines||0;if(a&&b+d<a.childNodes.length&&(a=(a=(a=a.childNodes[b+d])&&a.firstChild)&&a.firstChild))a.opacity=c}}else p=g(b,"animation")})();h.mixin(r.defaults,{hwaccel:!0});return b("Spinner",[e,r],{constructor:function(a){this.opts=h.mixin({},q,r.defaults,a)},destroy:function(){this.inherited(arguments);this.stop()}})})},"redfin/common/testing/BaseABTestController":function(){define("redfin/common/testing/BaseABTestController",
"dojo/_base/declare dojo/_base/lang dojo/cookie dojo/Deferred redfin/clicktracker redfin/bouncer/Bouncer".split(" "),function(h,b,e,a,c,d){return h("redfin.common.testing.BaseABTestController",[],{action:null,defaultClicktrackerParams:null,variant:null,target:null,category:null,loaded:null,initialize:function(b){null===this.loaded&&(this.loaded=new a,"undefined"===typeof b||null===b?this.loaded.reject("No params defined!"):"undefined"===typeof b.target||null===b.target?this.loaded.reject("No target defined!"):
"undefined"===typeof b.category||null===b.category?this.loaded.reject("No category defined!"):(this.defaultClicktrackerParams={},this.category=b.category,this.target="string"===typeof b.target?[b.target]:b.target))},completedGoal:function(){},canRunTest:function(){var a=Math.floor(100*Math.random());return 1>a&&g_bouncer().isOn(g_feature.AB_TEST_ONE_PERCENT)?!0:5>a&&g_bouncer().isOn(g_feature.AB_TEST_FIVE_PERCENT)?!0:5>a&&g_bouncer().isOn(g_feature.AB_TEST_FIVE_PERCENT)?!0:10>a&&g_bouncer().isOn(g_feature.AB_TEST_TEN_PERCENT)?
!0:20>a&&g_bouncer().isOn(g_feature.AB_TEST_TWENTY_PERCENT)?!0:35>a&&g_bouncer().isOn(g_feature.AB_TEST_THIRTY_FIVE_PERCENT)?!0:50>a&&g_bouncer().isOn(g_feature.AB_TEST_FIFTY_PERCENT)?!0:75>a&&g_bouncer().isOn(g_feature.AB_TEST_SEVENTY_FIVE_PERCENT)?!0:100>a&&g_bouncer().isOn(g_feature.AB_TEST_HUNDRED_PERCENT)?!0:!1},whenLoaded:function(){return this.loaded.promise},getVariant:function(){return this.variant},findTarget:function(a){for(var b=0;b<this.target.length;b++)if(this.target[b]===a)return b;
return-1},recordClicktrackerInitSuccess:function(){for(var a=0;a<this.target.length;a++)c.track({action:c.START,category:this.category,target:this.target[a],params:this.defaultClicktrackerParams})},recordClicktrackerSuccess:function(a,d){var k=0,e=a.target;if("undefined"!==typeof e){var k=this.findTarget(e);if(0>k)throw"Supplied target not found in the experiment!";}return c.track({action:c.STOP,category:this.category,target:this.target[k],params:b.mixin(a,this.defaultClicktrackerParams)},d)},recordClicktrackerError:function(a){return c.track({action:c.USE,
category:this.category,target:this.target[0],params:b.mixin({experimentState:"ServerError",error:a},this.defaultClicktrackerParams)})},recordClicktrackerTimeout:function(a){return c.track({action:c.USE,category:this.category,target:this.target[0],params:b.mixin({experimentState:"Timeout",error:a},this.defaultClicktrackerParams)})}})})},"dijit/form/_FormWidgetMixin":function(){define("dijit/form/_FormWidgetMixin","dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/sniff dojo/window ../a11y".split(" "),
function(h,b,e,a,c,d,g,f,k){return b("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(a){this._set("disabled",a);e.set(this.focusNode,"disabled",a);this.valueNode&&e.set(this.valueNode,"disabled",a);this.focusNode.setAttribute("aria-disabled",a?"true":"false");a?(this._set("hovering",!1),this._set("active",!1),a="tabIndex"in this.attributeMap?
this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",h.forEach(c.isArray(a)?a:[a],function(a){a=this[a];g("webkit")||k.hasDefaultTabStop(a)?a.setAttribute("tabIndex","-1"):a.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(a){if("mouse"==a&&this.isFocusable())var b=this.connect(this.focusNode,"onfocus",function(){this.disconnect(c);this.disconnect(b)}),c=this.connect(this.ownerDocumentBody,"onmouseup",function(){this.disconnect(c);
this.disconnect(b);this.focused&&this.focus()});this.scrollOnFocus&&this.defer(function(){f.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=a.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},compare:function(a,b){return"number"==typeof a&&"number"==typeof b?isNaN(a)&&isNaN(b)?0:a-b:a>b?1:a<b?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(a,
b){if(void 0==this._lastValueReported&&(null===b||!this._onChangeActive))this._resetValue=this._lastValueReported=a;this._pendingOnChange=this._pendingOnChange||typeof a!=typeof this._lastValueReported||0!=this.compare(a,this._lastValueReported);if((this.intermediateChanges||b||void 0===b)&&this._pendingOnChange)this._lastValueReported=a,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=
null;this.onChange(a)}))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"dojox/date/timezone":function(){define("dojox/date/timezone",["dojo","dojo/date","dojo/date/locale","dojo/_base/array","dojo/_base/xhr"],function(h,b,e){function a(a){a=a||{};x=h.mixin(x,a.zones||{});y=h.mixin(y,a.rules||{})}function c(b){v[b]=!0;var c=h.getObject("dojox.date.ext."+
b);c?a(h._contentHandlers["olson-zoneinfo"]({responseText:c})):h.xhrGet({url:require.toUrl((r.timezoneFileBasePath||"dojox/date/zoneinfo")+"/"+b),sync:!0,handleAs:"olson-zoneinfo",load:a,error:function(a){console.error("Error loading zone file:",a);throw a;}})}function d(a){throw Error('Timezone "'+a+'" is either incorrect, or not loaded in the timezone registry.');}function g(a){var b=F[a];if(!b&&(b=a.split("/")[0],b=G[b],!b)){var f=x[a];if("string"==typeof f)return g(f);if(v.backward)d(a);else return c("backward"),
g(a)}return b}function f(a){a=a.match(/(\d+)(?::0*(\d*))?(?::0*(\d*))?([su])?$/);if(!a)return null;a[1]=parseInt(a[1],10);a[2]=a[2]?parseInt(a[2],10):0;a[3]=a[3]?parseInt(a[3],10):0;return a}function k(a,b,c,d,f,k,e){return Date.UTC(a,b,c,d,f,k)+6E4*(e||0)}function l(a){var b=f(a);if(null===b)return 0;b=(0===a.indexOf("-")?-1:1)*1E3*(60*(60*b[1]+b[2])+b[3]);return-b/60/1E3}function m(a,c,d){var e=A[a[3].substr(0,3).toLowerCase()],g=a[4],l=f(a[5]);"u"==l[4]&&(d=0);if(isNaN(g)){if("last"==g.substr(0,
4))return g=z[g.substr(4,3).toLowerCase()],a=new Date(k(c,e+1,1,l[1]-24,l[2],l[3],d)),d=b.add(a,"minute",-d).getUTCDay(),g=g>d?g-d-7:g-d,0!==g&&(a=b.add(a,"hour",24*g)),a;g=z[g.substr(0,3).toLowerCase()];if("undefined"!=g){if("\x3e\x3d"==a[4].substr(3,2))return a=new Date(k(c,e,parseInt(a[4].substr(5),10),l[1],l[2],l[3],d)),d=b.add(a,"minute",-d).getUTCDay(),g=g<d?g-d+7:g-d,0!==g&&(a=b.add(a,"hour",24*g)),a;if("\x3c\x3d"==g.substr(3,2))return a=new Date(k(c,e,parseInt(a[4].substr(5),10),l[1],l[2],
l[3],d)),d=b.add(a,"minute",-d).getUTCDay(),g=g>d?g-d-7:g-d,0!==g&&(a=b.add(a,"hour",24*g)),a}}else return a=new Date(k(c,e,parseInt(g,10),l[1],l[2],l[3],d));return null}function p(a,b){var c=[];h.forEach(y[a[1]]||[],function(d){for(var f=0;2>f;f++)switch(d[f]){case "min":d[f]=u;break;case "max":d[f]=w;break;case "only":break;default:if(d[f]=parseInt(d[f],10),isNaN(d[f]))throw Error("Invalid year found on rule");}"string"==typeof d[6]&&(d[6]=l(d[6]));(d[0]<=b&&d[1]>=b||d[0]==b&&"only"==d[1])&&c.push({r:d,
d:m(d,b,a[0])})});return c}function n(a,c){for(var d=s[a]=[],e=0;e<c.length;e++){var g=c[e],n=d[e]=[],r=null,q=null,v=[];"string"==typeof g[0]&&(g[0]=l(g[0]));0===e?n[0]=Date.UTC(u,0,1,0,0,0,0):(n[0]=d[e-1][1],r=c[e-1],q=d[e-1],v=q[2]);for(var t=(new Date(n[0])).getUTCFullYear(),y=g[3]?parseInt(g[3],10):w,x=[];t<=y;t++)x=x.concat(p(g,t));x.sort(function(a,c){return b.compare(a.d,c.d)});var z,t=0;for(z;z=x[t];t++)y=0<t?x[t-1]:null,0>z.r[5].indexOf("u")&&0>z.r[5].indexOf("s")&&(0===t&&0<e?v.length?
z.d=b.add(z.d,"minute",v[v.length-1].r[6]):0===b.compare(new Date(q[1]),z.d,"date")?z.d=new Date(q[1]):z.d=b.add(z.d,"minute",l(r[1])):0<t&&(z.d=b.add(z.d,"minute",y.r[6])));n[2]=x;if(g[3]){var q=parseInt(g[3],10),v=A[(g[4]||"Jan").substr(0,3).toLowerCase()],y=parseInt(g[5]||"1",10),r=f(g[6]||"0"),C=n[1]=k(q,v,y,r[1],r[2],r[3],"u"==r[4]?0:g[0]);isNaN(C)&&(C=n[1]=m([0,0,0,g[4],g[5],g[6]||"0"],q,"u"==r[4]?0:g[0]).getTime());q=h.filter(x,function(a,b){var c=0<b?6E4*x[b-1].r[6]:0;return a.d.getTime()<
C+c});"u"!=r[4]&&"s"!=r[4]&&(n[1]=q.length?n[1]+6E4*q[q.length-1].r[6]:n[1]+6E4*l(g[1]))}else n[1]=Date.UTC(w,11,31,23,59,59,999)}}function q(a,b){for(var f=b,k=x[f];"string"==typeof k;)f=k,k=x[f];if(!k){if(!v.backward)return c("backward",!0),q(a,b);d(f)}s[b]||n(b,k);for(var f=s[b],e=a.getTime(),g=0,l;l=f[g];g++)if(e>=l[0]&&e<l[1])return{zone:k[g],range:f[g],idx:g};throw Error('No Zone found for "'+b+'" on '+a);}h.experimental("dojox.date.timezone");h.getObject("date.timezone",!0,dojox);var r=h.config,
t="africa antarctica asia australasia backward etcetera europe northamerica pacificnew southamerica".split(" "),u=1835,w=2038,v={},x={},s={},y={},C=r.timezoneLoadingScheme||"preloadAll",t=r.defaultZoneFile||("preloadAll"==C?t:"northamerica");h._contentHandlers["olson-zoneinfo"]=function(a){a=h._contentHandlers.text(a).split("\n");for(var b=[],c="",d=null,c=null,f={zones:{},rules:{}},k=0;k<a.length;k++)if(b=a[k],b.match(/^\s/)&&(b="Zone "+d+b),b=b.split("#")[0],3<b.length)switch(b=b.split(/\s+/),c=
b.shift(),c){case "Zone":d=b.shift();b[0]&&(f.zones[d]||(f.zones[d]=[]),f.zones[d].push(b));break;case "Rule":c=b.shift();f.rules[c]||(f.rules[c]=[]);f.rules[c].push(b);break;case "Link":if(f.zones[b[1]])throw Error("Error with Link "+b[1]);f.zones[b[1]]=b[0]}return f};var A={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11},z={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6},G={EST:"northamerica",MST:"northamerica",HST:"northamerica",EST5EDT:"northamerica",CST6CDT:"northamerica",
MST7MDT:"northamerica",PST8PDT:"northamerica",America:"northamerica",Pacific:"australasia",Atlantic:"europe",Africa:"africa",Indian:"africa",Antarctica:"antarctica",Asia:"asia",Australia:"australasia",Europe:"europe",WET:"europe",CET:"europe",MET:"europe",EET:"europe"},F={"Pacific/Honolulu":"northamerica","Atlantic/Bermuda":"northamerica","Atlantic/Cape_Verde":"africa","Atlantic/St_Helena":"africa","Indian/Kerguelen":"antarctica","Indian/Chagos":"asia","Indian/Maldives":"asia","Indian/Christmas":"australasia",
"Indian/Cocos":"australasia","America/Danmarkshavn":"europe","America/Scoresbysund":"europe","America/Godthab":"europe","America/Thule":"europe","Asia/Yekaterinburg":"europe","Asia/Omsk":"europe","Asia/Novosibirsk":"europe","Asia/Krasnoyarsk":"europe","Asia/Irkutsk":"europe","Asia/Yakutsk":"europe","Asia/Vladivostok":"europe","Asia/Sakhalin":"europe","Asia/Magadan":"europe","Asia/Kamchatka":"europe","Asia/Anadyr":"europe","Africa/Ceuta":"europe","America/Argentina/Buenos_Aires":"southamerica","America/Argentina/Cordoba":"southamerica",
"America/Argentina/Tucuman":"southamerica","America/Argentina/La_Rioja":"southamerica","America/Argentina/San_Juan":"southamerica","America/Argentina/Jujuy":"southamerica","America/Argentina/Catamarca":"southamerica","America/Argentina/Mendoza":"southamerica","America/Argentina/Rio_Gallegos":"southamerica","America/Argentina/Ushuaia":"southamerica","America/Aruba":"southamerica","America/La_Paz":"southamerica","America/Noronha":"southamerica","America/Belem":"southamerica","America/Fortaleza":"southamerica",
"America/Recife":"southamerica","America/Araguaina":"southamerica","America/Maceio":"southamerica","America/Bahia":"southamerica","America/Sao_Paulo":"southamerica","America/Campo_Grande":"southamerica","America/Cuiaba":"southamerica","America/Porto_Velho":"southamerica","America/Boa_Vista":"southamerica","America/Manaus":"southamerica","America/Eirunepe":"southamerica","America/Rio_Branco":"southamerica","America/Santiago":"southamerica","Pacific/Easter":"southamerica","America/Bogota":"southamerica",
"America/Curacao":"southamerica","America/Guayaquil":"southamerica","Pacific/Galapagos":"southamerica","Atlantic/Stanley":"southamerica","America/Cayenne":"southamerica","America/Guyana":"southamerica","America/Asuncion":"southamerica","America/Lima":"southamerica","Atlantic/South_Georgia":"southamerica","America/Paramaribo":"southamerica","America/Port_of_Spain":"southamerica","America/Montevideo":"southamerica","America/Caracas":"southamerica"},B={US:"S",Chatham:"S",NZ:"S",NT_YK:"S",Edm:"S",Salv:"S",
Canada:"S",StJohns:"S",TC:"S",Guat:"S",Mexico:"S",Haiti:"S",Barb:"S",Belize:"S",CR:"S",Moncton:"S",Swift:"S",Hond:"S",Thule:"S",NZAQ:"S",Zion:"S",ROK:"S",PRC:"S",Taiwan:"S",Ghana:"GMT",SL:"WAT",Chicago:"S",Detroit:"S",Vanc:"S",Denver:"S",Halifax:"S",Cuba:"S",Indianapolis:"S",Starke:"S",Marengo:"S",Pike:"S",Perry:"S",Vincennes:"S",Pulaski:"S",Louisville:"S",CA:"S",Nic:"S",Menominee:"S",Mont:"S",Bahamas:"S",NYC:"S",Regina:"S",Resolute:"ES",DR:"S",Toronto:"S",Winn:"S"};h.setObject("dojox.date.timezone",
{getTzInfo:function(a,b){if("lazyLoad"==C){var d=g(b);if(d)v[d]||c(d);else throw Error("Not a valid timezone ID.");}var f=q(a,b),d=f.zone[0],k;var e=-1;k=f.range[2]||[];for(var m=a.getTime(),h=0,p;p=k[h];h++)m>=p.d.getTime()&&(e=h);k=0<=e?k[e].r:null;d=k?d+k[6]:y[f.zone[1]]&&0<f.idx?d+l(x[b][f.idx-1][1]):d+l(f.zone[1]);m=f.zone;e=m[2];-1<e.indexOf("%s")?(k?(f=k[7],"-"==f&&(f="")):m[1]in B?f=B[m[1]]:0<f.idx?(f=x[b][f.idx-1][2],f=0>f.indexOf("%s")?e.replace("%s","S")==f?"S":"":""):f="",f=e.replace("%s",
f)):-1<e.indexOf("/")?(f=e.split("/"),f=k?f[0===k[6]?0:1]:f[0]):f=e;return{tzOffset:d,tzAbbr:f}},loadZoneData:function(b){a(b)},getAllZones:function(){var a=[],b;for(b in x)a.push(b);a.sort();return a}});"string"==typeof t&&t&&(t=[t]);h.isArray(t)&&h.forEach(t,c);var K=e.format,D=e._getZone;e.format=function(a,b){b=b||{};b.timezone&&!b._tzInfo&&(b._tzInfo=dojox.date.timezone.getTzInfo(a,b.timezone));if(b._tzInfo){var c=a.getTimezoneOffset()-b._tzInfo.tzOffset;a=new Date(a.getTime()+6E4*c)}return K.call(this,
a,b)};e._getZone=function(a,b,c){return c._tzInfo?b?c._tzInfo.tzAbbr:c._tzInfo.tzOffset:D.call(this,a,b,c)}})},"redfin/common/widgets/TopBanner":function(){define("dojo/_base/declare dijit/_Widget dijit/_TemplatedMixin redfin/common/mixins/_Adopt dojo/text!./templates/TopBanner.html dojo/_base/lang dojo/dom-class dojo/dom-style dojo/cookie dojo/on".split(" "),function(h,b,e,a,c,d,g,f,k,l){var m={iOS:{appName:"Real Estate by Redfin",minorText:"Redfin\x3cbr\x3eFREE in the App Store \x3cb\x3e\x26gt;\x3c/b\x3e",
appUrl:"http://c.tapsense.com/c/track/website/5192c285e4b03ea802d118ff?cid\x3dhome_topbanner","class":"ios"},android:{appName:"Redfin Real Estate",minorText:"Redfin\x3cbr\x3eFREE in the Play Store \x3cb\x3e\x26gt;\x3c/b\x3e",appUrl:"https://play.google.com/store/apps/details?id\x3dcom.redfin.android\x26referrer\x3dutm_source%3Dredfinwebsite%26utm_medium%3Dhomepage%26utm_content%3Ddesktop%26utm_campaign%3Dtopbanner","class":"android"}};h=h("redfin.common.widgets.TopBanner",[b,e,a],{templateString:c,
appName:m.iOS.appName,minorText:m.iOS.minorText,buttonText:"View",appUrl:m.iOS.appUrl,iconUrl:null,iconGloss:!0,"class":m.iOS.cssClass,onClick:function(){},onDismiss:function(){},_onClick:function(){this.onClick()},buildRendering:function(){this.inherited(arguments);this.appNameNode.innerHTML=this.iconNode.title=this.appName;this.minorNode.innerHTML=this.minorText||"";this.buttonNode.innerHTML=this.buttonText;this.iconUrl&&f.set(this.iconNode,"background-image","url("+this.iconUrl+")");this.appUrl&&
(this.appNameNode.href=this.iconNode.href=this.buttonNode.href=this.appUrl);this.iconGloss&&g.add(this.iconNode,"gloss")},postCreate:function(){this.inherited(arguments);for(var a=[this.appNameNode,this.iconNode,this.buttonNode],b=0;b<a.length;b++)l(a[b],"click",d.hitch(this,this._onClick));l(this.dismissNode,"click",d.hitch(this,this.dismiss));g.add(document.body,"hijackBG")},dismiss:function(){g.add(this.domNode,"hidden");k("RF_HIDE_MOBILE_BANNER","true",{expires:30,path:"/"});g.remove(document.body,
"hijackBG");this.onDismiss()},appNameNode:null,minorNode:null,iconNode:null,buttonNode:null,dismissNode:null});return d.mixin(h,m)})},"dojox/main":function(){define("dojox/main",["dojo/_base/kernel"],function(h){return h.dojox})},"redfin/common/elements/form/_PasteHandler":function(){define(["dijit","dojo","dojox"],function(h,b,e){b.provide("redfin.common.elements.form._PasteHandler");b.declare("redfin.common.elements.form._PasteHandler",[],{buildRendering:function(){this.inherited(arguments);this._attachPasteHandlerEvents()},
_attachPasteHandlerEvents:function(){this.connect(this.focusNode,"paste",this._onPaste)},_onPaste:function(a){this.onPaste(a)},onPaste:function(){}})})},"redfin/search/common/OSXPushPermissionsUtil":function(){define("redfin/search/common/OSXPushPermissionsUtil","dojo dojo/dom-construct dojo/_base/array dojo/_base/declare dojo/on dojo/dom dojo/cache dojo/_base/lang dojo/_base/connect dojo/cookie dojo/dom-class dojo/dom-style dojo/request".split(" "),function(h,b,e,a,c,d,g,f,k,l,m,p,n){return a("redfin.search.common.OSXPushPermissionsUtil",
[],{_lastSearchName:null,_lastSavedSearchId:null,_checkSafariPushRemotePermission:function(a){"default"===a.permission?window.safari.pushNotification.requestPermission(g_secureWebServerUrl+"/stingray/osxpush",g_osxNotificationWebsiteId,{},f.hitch(this,this._checkSafariPushRemotePermission)):"denied"===a.permission?this.deniedPermissions():"granted"===a.permission&&n("/stingray/do/enable-push-for-saved-search",{method:"POST",handleAs:"json",query:{savedSearchId:this._lastSavedSearchId},sync:!1}).then(f.hitch(this,
this.handleSuccess),f.hitch(this,this.handleError))},askForSafariPushPermissionsForSavedSearch:function(a,b){this._lastSearchName=a;this._lastSavedSearchId=b;if(this.shouldAskForSafariPushPermissions()){var c=window.safari.pushNotification.permission(g_osxNotificationWebsiteId);this._checkSafariPushRemotePermission(c)}},shouldAskForSafariPushPermissions:function(){return g_bouncer().isOn(g_feature.PUSH_NOTIFICATIONS)&&g_bouncer().isOn(g_feature.SAFARI_PUSH_NOTIFICATIONS)&&"undefined"!=typeof window.safari&&
"undefined"!=typeof window.safari.pushNotification},handleSuccess:function(a){},handleError:function(a){},deniedPermissions:function(){}})})},"url:redfin/search/common/dialogs/templates/FixedDialog.html":'\x3cdiv class\x3d"OldFixedDialog transition-opaque basic-border-radius"\x3e\n\t\x3cdiv class\x3d"hidden close-button sprite-icon-close-x clickable" data-dojo-attach-point\x3d"closeButton"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"header clickable" data-dojo-attach-point\x3d"titleBar"\x3e\n\t\t\x3cdiv class\x3d"inline-block icon hidden" data-dojo-attach-point\x3d"headerIconNode"\x3e\x3c/div\x3e\n\t\t\x3ch3 class\x3d"inline-block" data-dojo-attach-point\x3d"titleNode"\x3e\x3c/h3\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"content grey-pattern-bg" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"redfin/common/widgets/contactBox/ContactBoxCall":function(){define("dojo dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/text!redfin/common/widgets/contactBox/templates/ContactBoxCall.html dijit/_Widget dijit/_TemplatedMixin redfin/common/widgets/contactBox/ContactBoxComponentMixin".split(" "),function(h,b,e,a,c,d,g,f){return b("redfin.common.widgets.contactBox.ContactBoxCall",[d,g,f],{templateString:c,data:null,postCreate:function(){this.data&&e.forEach(this.data.classes,a.hitch(this,function(a){h.addClass(this.content,
a)}))}})})},"redfin/search/common/dialogs/EmailVerificationDialog":function(){define("dojo/_base/lang dojo/_base/declare dojo/dom-class dojo/query dojo/request dojo/has dojo/text!redfin/search/common/dialogs/templates/EmailVerificationDialogBody.html dijit/_TemplatedMixin dijit/_Widget redfin/search/common/dialogs/BasicDialogActions redfin/search/common/dialogs/ConfirmDialog redfin/search/util/DateUtil dojo/NodeList-html".split(" "),function(h,b,e,a,c,d,g,f,k,l,m,p){l=b("redfin.search.common.dialogs.EmailVerificationDialog",
m,{title:"Verify Your Email Address",positive:"OK",postCreate:function(){this.inherited(arguments);this.adopt(redfin.search.common.dialogs.EmailVerificationDialogBody).placeAt(this.containerNode)}});b("redfin.search.common.dialogs.EmailVerificationDialogBody",[k,f],{templateString:g,sendVerificationUrl:"/myredfin/json/send-verification-email",buildRendering:function(){this.inherited(arguments)},postCreate:function(){this.inherited(arguments);c(this.sendVerificationUrl,{method:"GET",handleAs:"json-squiggly",
sync:!1}).then(h.hitch(this,this.onSendVerificationEmailDone),h.hitch(this,this.onSendVerificationEmailError))},onSendVerificationEmailDone:function(b){e.add(this.sendingNode,"hidden");b&&(b.payload&&b.payload.email)&&a(".verificationEmail",this.domNode).html(b.payload.email);b.resultCode===g_apiResultCode.NO_ERROR?e.remove(this.successNode,"hidden"):b.resultCode===g_apiResultCode.NOT_LOGGED_IN?e.remove(this.notLoggedInNode,"hidden"):b.resultCode===g_apiResultCode.EMAIL_ALREADY_SENT?(this.timeSentNode.innerHTML=
redfin.util.date.elapsed(b.payload.sentDateMsAgo),e.remove(this.alreadySentNode,"hidden")):b.resultCode===g_apiResultCode.USER_ALREADY_VERIFIED?e.remove(this.alreadyVerifiedNode,"hidden"):b.resultCode===g_apiResultCode.ERROR_SENDING_EMAIL?e.remove(this.errorMessageNode,"hidden"):e.remove(this.unknownErrorNode,"hidden");d("mobile-enabled")&&(this.parent&&this.parent.resize)&&this.parent.resize()},onSendVerificationEmailError:function(a){e.add(this.sendingNode,"hidden");e.remove(this.unknownErrorNode,
"hidden");d("mobile-enabled")&&(this.parent&&this.parent.resize)&&this.parent.resize()}});return l})},"redfin/common/elements/OldDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-style dojo/dom-geometry dojo/window dijit/Dialog dijit/DialogUnderlay dijit/TooltipDialog dijit/main redfin/common/elements/DialogUnderlay dojo/text!./templates/OldDialog.html".split(" "),function(h,b,e,a,c,d,g,f,k,l,m,p){return h("redfin.common.elements.Dialog",[g],{title:"",templateString:p,
draggable:!1,cssStateNodes:{},dialogIdentifyingClass:null,hideOnUnderlayClick:!1,showCloseButton:!1,destroyOnHide:!0,showHeader:!0,titleBar:null,titleNode:null,actionsNode:null,containerNode:null,dialogGutsNode:null,closeButtonNode:null,postCreate:function(){this.inherited(arguments);this.dialogIdentifyingClass&&e.add(this.domNode,this.dialogIdentifyingClass);this.showCloseButton&&this.closeButtonNode&&(this.connect(this.closeButtonNode,"onclick",this.hide),e.remove(this.closeButtonNode,"hidden"));
this.showHeader||e.add(this.titleBar,"hidden");this.connect(window,"scroll",this._checkDialogState)},_setup:function(){this.inherited(arguments);var a=f._singleton;!a||a._destroyed?a=l._underlay=f._singleton=new m(this.underlayAttrs):a.set(this.underlayAttrs);this.content.onHide&&this.connect(this.content,"onHide",this.hide);this.hideOnUnderlayClick&&this.dialogGutsNode&&(this.connect(this.dialogGutsNode,"onclick",function(a){a.stopPropagation()}),this.connect(this,"onClick",this.hide))},hide:function(){var a=
this.inherited(arguments);a&&this.destroyOnHide&&a.then(b.hitch(this,function(){this.destroyRecursive()}));return a},_position:function(){if(!e.contains(document.body,"dojoMove")){var b=c.position(this.domNode),f=d.getBox();!e.contains(this.domNode,"unfixed")&&(b.h>f.h||b.w>f.w)?(e.add(this.domNode,"unfixed"),a.set(this.domNode,{top:f.t+"px",left:f.l+"px"})):e.contains(this.domNode,"unfixed")&&b.h<=f.h&&b.w<=f.w?(e.remove(this.domNode,"unfixed"),e.remove(this.domNode,"smoothPositioning"),a.set(this.domNode,
{top:"0px",left:"0px"})):b.h<=f.h&&b.w<=f.w&&this.inherited(arguments)}},_size:function(){},_checkDialogState:function(){if(e.contains(this.domNode,"unfixed")){e.contains(this.domNode,"smoothPositioning")||e.add(this.domNode,"smoothPositioning");var b=d.getBox(),f=b.l,k=b.t,g=c.position(this.domNode),l=g.x+f,m=g.y+k;k<=m?a.set(this.domNode,{top:k+"px"}):k+b.h>=m+g.h&&a.set(this.domNode,{top:k+b.h-g.h+"px"});f<=l?a.set(this.domNode,{left:f+"px"}):f+b.w>=l+g.w&&a.set(this.domNode,{left:f+b.w-g.w+"px"})}}})})},
"url:dijit/form/templates/TextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',"dojo/fx":function(){define("./_base/lang ./Evented ./_base/kernel ./_base/array ./_base/connect ./_base/fx ./dom ./dom-style ./dom-geometry ./ready require".split(" "),
function(h,b,e,a,c,d,g,f,k,l,m){e.isAsync||l(0,function(){m(["./fx/Toggler"])});e=e.fx={};l={_fire:function(a,b){this[a]&&this[a].apply(this,b||[]);return this}};var p=function(b){this._index=-1;this._animations=b||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;a.forEach(this._animations,function(a){this.duration+=a.duration;a.delay&&(this.duration+=a.delay)},this)};p.prototype=new b;h.extend(p,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){c.disconnect(this._onAnimateCtx);
c.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;this._index+1==this._animations.length?this._fire("onEnd"):(this._current=this._animations[++this._index],this._onAnimateCtx=c.connect(this._current,"onAnimate",this,"_onAnimate"),this._onEndCtx=c.connect(this._current,"onEnd",this,"_onEnd"),this._current.play(0,!0))},play:function(a,b){this._current||(this._current=this._animations[this._index=0]);if(!b&&"playing"==this._current.status())return this;var d=c.connect(this._current,
"beforeBegin",this,function(){this._fire("beforeBegin")}),f=c.connect(this._current,"onBegin",this,function(a){this._fire("onBegin",arguments)}),k=c.connect(this._current,"onPlay",this,function(a){this._fire("onPlay",arguments);c.disconnect(d);c.disconnect(f);c.disconnect(k)});this._onAnimateCtx&&c.disconnect(this._onAnimateCtx);this._onAnimateCtx=c.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx&&c.disconnect(this._onEndCtx);this._onEndCtx=c.connect(this._current,"onEnd",this,
"_onEnd");this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var a=c.connect(this._current,"onPause",this,function(b){this._fire("onPause",arguments);c.disconnect(a)});this._current.pause()}return this},gotoPercent:function(b,c){this.pause();var d=this.duration*b;this._current=null;a.some(this._animations,function(a){if(a.duration<=d)return this._current=a,!0;d-=a.duration;return!1});this._current&&this._current.gotoPercent(d/this._current.duration,c);
return this},stop:function(a){if(this._current){if(a){for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(!0);this._current=this._animations[this._index]}var b=c.connect(this._current,"onStop",this,function(a){this._fire("onStop",arguments);c.disconnect(b)});this._current.stop()}return this},status:function(){return this._current?this._current.status():"stopped"},destroy:function(){this._onAnimateCtx&&c.disconnect(this._onAnimateCtx);this._onEndCtx&&c.disconnect(this._onEndCtx)}});
h.extend(p,l);e.chain=function(a){return new p(a)};var n=function(b){this._animations=b||[];this._connects=[];this.duration=this._finished=0;a.forEach(b,function(a){var b=a.duration;a.delay&&(b+=a.delay);this.duration<b&&(this.duration=b);this._connects.push(c.connect(a,"onEnd",this,"_onEnd"))},this);this._pseudoAnimation=new d.Animation({curve:[0,1],duration:this.duration});var f=this;a.forEach("beforeBegin onBegin onPlay onAnimate onPause onStop onEnd".split(" "),function(a){f._connects.push(c.connect(f._pseudoAnimation,
a,function(){f._fire(a,arguments)}))})};h.extend(n,{_doAction:function(b,c){a.forEach(this._animations,function(a){a[b].apply(a,c)});return this},_onEnd:function(){++this._finished>this._animations.length&&this._fire("onEnd")},_call:function(a,b){var c=this._pseudoAnimation;c[a].apply(c,b)},play:function(a,b){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(b,
c){var d=this.duration*b;a.forEach(this._animations,function(a){a.gotoPercent(a.duration<d?1:d/a.duration,c)});this._call("gotoPercent",arguments);return this},stop:function(a){this._doAction("stop",arguments);this._call("stop",arguments);return this},status:function(){return this._pseudoAnimation.status()},destroy:function(){a.forEach(this._connects,c.disconnect)}});h.extend(n,l);e.combine=function(a){return new n(a)};e.wipeIn=function(a){var b=a.node=g.byId(a.node),k=b.style,e;a=d.animateProperty(h.mixin({properties:{height:{start:function(){e=
k.overflow;k.overflow="hidden";if("hidden"==k.visibility||"none"==k.display)return k.height="1px",k.display="",k.visibility="",1;var a=f.get(b,"height");return Math.max(a,1)},end:function(){return b.scrollHeight}}}},a));var l=function(){k.height="auto";k.overflow=e};c.connect(a,"onStop",l);c.connect(a,"onEnd",l);return a};e.wipeOut=function(a){var b=(a.node=g.byId(a.node)).style,f;a=d.animateProperty(h.mixin({properties:{height:{end:1}}},a));c.connect(a,"beforeBegin",function(){f=b.overflow;b.overflow=
"hidden";b.display=""});var k=function(){b.overflow=f;b.height="auto";b.display="none"};c.connect(a,"onStop",k);c.connect(a,"onEnd",k);return a};e.slideTo=function(a){var b=null,e=null,l=function(a){return function(){var c=f.getComputedStyle(a),d=c.position;b="absolute"==d?a.offsetTop:parseInt(c.top)||0;e="absolute"==d?a.offsetLeft:parseInt(c.left)||0;"absolute"!=d&&"relative"!=d&&(c=k.position(a,!0),b=c.y,e=c.x,a.style.position="absolute",a.style.top=b+"px",a.style.left=e+"px")}}(a.node=g.byId(a.node));
l();a=d.animateProperty(h.mixin({properties:{top:a.top||0,left:a.left||0}},a));c.connect(a,"beforeBegin",a,l);return a};return e})},"redfin/common/data/DataModelUtil":function(){define(["dijit","dojo","dojox","dojo/require!redfin/search/common/loader/LoaderCache"],function(h,b,e){b.provide("redfin.common.data.DataModelUtil");b.require("redfin.search.common.loader.LoaderCache");redfin.common.data.DataModelUtil={methodMap:{create:b.xhrPost,update:b.xhrPut,"delete":b.xhrDelete,read:b.xhrGet},getValue:function(a,
c){return!a||!a[c]?null:b.isFunction(a[c])?a[c]():a[c]},wrapError:function(a,c,d,e){return function(f,k){e=e||{};!e.wait&&e.resetOnError&&(c.clear(b.mixin(b.mixin({},e),{silent:!0})),c.set(d,e));a?a(c,f,e):c.emit("error",c,f,e)}},sync:function(a,c,d){var e=redfin.common.data.DataModelUtil.methodMap[a];d||(d={});var f={handleAs:"json"};if(!d.url&&(f.url=b.isFunction(c.url)?c.url(a,d):c.url,!f.url))throw Error('A "url" property or function must be specified');var k=redfin.search.common.loader.LoaderCache.getData(f.url);
if(k)return a=new b.Deferred,a.then(d.load),a.resolve(k),a;if("create"===a||"update"===a){f.contentType="application/json";var l;d.content?l=b.toJson(d.content):c&&(l=c.toJSON());"create"===a?f.postData=l:f.putData=l}return e(b.mixin(f,d))},shallowClone:function(a){return!b.isObject(a)?a:b.isArray(a)?a.slice():b.mixin({},a)},_eq:function(a,b,d){return a==b},has:function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},isEmpty:function(a){if(null==a)return!0;if(b.isArray(a)||b.isString(a))return 0===
a.length;for(var c in a)if(redfin.common.data.DataModelUtil.has(a,c))return!1;return!0},deepIsEqual:function(a,b){return redfin.common.data.DataModelUtil._eq(a,b,[])},keys:Object.keys||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],d;for(d in a)redfin.common.data.DataModelUtil.has(a,d)&&(b[b.length]=d);return b}}})},"redfin/facebook/FacebookLoader":function(){define(["dijit","dojo","dojox","dojo/require!redfin/common/PhantomUtils"],function(h,b,e){b.provide("redfin.facebook.FacebookLoader");
b.require("redfin.common.PhantomUtils");b.declare("redfin.facebook.FacebookLoader",null,{loaded:null,load:function(a,c){if("undefined"!==typeof this.loaded&&null!==this.loaded)return this.loaded;this.loaded=new b.Deferred;if(!redfin.utils.isPhantom())if(this.appId){if(this.appId!=a)throw"Someone else already requested for FB to be loaded and with a different Facebook app ID.";if((!0===c||!1===c)&&c!=this.parseXfbml)throw"Someone else already requested for FB to be loaded but they specified a different value for parseXfbml (or they took the default, which is different than what you want).";
}else{if(window.fbAsyncInit)throw"Someone else already defined the fbAsyncInit method.";this.appId=a;this.parseXfbml=!0===c||!1===c?c:!0;window.fbAsyncInit=b.hitch(this,this.fbAsyncInit);this.addFacebookScriptAfterPageLoad()}},appId:null,delayInMillis:50,constructor:function(){this.inherited(arguments)},addFacebookScriptAfterPageLoad:function(){b.addOnLoad(function(){setTimeout(function(){var a=document.createElement("div");a.id="fb-root";var c=document.createElement("script");c.type="text/javascript";
c.src=document.location.protocol+"//connect.facebook.net/en_US/all.js";c.async=!0;b.query("body")[0].appendChild(a);a.appendChild(c)},this.delayInMillis)})},fbAsyncInit:function(){FB.init({appId:this.appId,status:!0,cookie:!0,xfbml:this.parseXfbml,oauth:!0,channelUrl:window.location.protocol+"//"+g_webServerUrl+"/stingray/do/facebook-cross-domain"});this.loaded.callback()}});b.global.g_facebookLoader=function(){redfin.facebook.FacebookLoader.singleton||(redfin.facebook.FacebookLoader.singleton=new redfin.facebook.FacebookLoader);
return redfin.facebook.FacebookLoader.singleton}})},"redfin/common/data/VisibilityProfile":function(){define(["dijit","dojo","dojox","dojo/require!redfin/common/data/DataObject,redfin/search/common/RestrictedValueAccessor"],function(h,b,e){b.provide("redfin.common.data.VisibilityProfile");b.require("redfin.common.data.DataObject");b.require("redfin.search.common.RestrictedValueAccessor");b.declare("redfin.common.data.VisibilityProfile",[redfin.common.data.DataObject],{})})},"redfin/header/TopMenus":function(){define("redfin/header/TopMenus",
["dijit","dojo","dojox","dojo/require!dijit/_Widget,dojo/io/script,redfin/header/HoverDelayManager"],function(h,b,e){b.provide("redfin.header.TopMenus");b.require("dijit._Widget");b.require("dojo.io.script");b.require("redfin.header.HoverDelayManager");b.declare("redfin.header.TopMenus",[h._Widget],{postCreate:function(){this.inherited(arguments);this._fetchSettings();for(var a=redfin.header.HoverDelayManager.getInstance(),c=["li.searchHomes","li.agents","li.buying","li.selling","li.forums"],d=0;d<
c.length;d++){var e=b.query(c[d],this.domNode);0<e.length&&a.registerMenu(e[0])}},_fetchSettings:function(){var a="/stingray/do/api-get-header-menu-settings";"undefined"!=typeof g_webServerUrl&&(a=g_webServerUrl+a);b.io.script.get({url:a,callbackParamName:"callback",content:{__rf_secure:b.cookie("RF_AUTH")},load:b.hitch(this,this._fetchSettingsSuccess),error:b.hitch(this,this._fetchSettingsError),handleAs:"json"})},_fetchSettingsSuccess:function(a,c){if(0==a.resultCode){var d=a.payload.data;b.byId("localAgentLinks");
var e=b.byId("localForumLinks"),d=d.forumLinks,f;for(f in d){var k=b.create("li",null,e);b.create("a",{href:d[f],innerHTML:"\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;"+f,target:"_top"},k)}}},_fetchSettingsError:function(a,b){},createBreakerBar:function(a,c){var d=c;"undefined"===typeof c&&(d="last");var e=b.create("li",{className:"breaker"});b.place(e,a,d);d=b.create("hr",null,e);7==b.isIE&&(b.style(e,"padding-top","0px"),b.style(e,"padding-bottom","0px"),b.style(d,"display","block"),b.style(d,"margin",
"-7px 0"))}})})},"redfin/search/data/Accessor":function(){define(["dijit","dojo","dojox"],function(h,b,e){b.provide("redfin.search.data.Accessor");b.declare("redfin.search.data.Accessor",null,{get:function(a,b){return redfin.search.data.Accessor.get(this,a,b)},set:function(a,b){redfin.search.data.Accessor.set(this,a,b)}});b.mixin(redfin.search.data.Accessor,{userAccessLevel:1,setDefaultAccessLevel:function(a){redfin.search.data.Accessor.userAccessLevel=a},getLast:function(a,b){for(var d=b.split("."),
e=a,f=d.length-1,k=0;k<f&&e;k++)e=redfin.search.data.Accessor.getField(e,d[k]);return{object:e,field:d[f]}},getterName:function(a){return"get"+redfin.common.data.MethodGenerator._getFieldNameCapitalized(a)},getterFunction:function(a,c){var d;d=a[redfin.search.data.Accessor.getterName(c)];if(b.isFunction(d))return d;d=a[c];return b.isFunction(d)?d:null},getField:function(a,b){var d=void 0;a&&(d=a["_"+b],"undefined"===typeof d&&(d=a["get"+redfin.common.data.MethodGenerator._getFieldNameCapitalized(b)],
"function"==typeof d?d=d.call(a):(d=a[b],"function"==typeof d?d=d.call(a):"undefined"===typeof d&&a._attributes&&(d=a._attributes[b],"function"==typeof d&&(d=d.call(a))))));return d},get:function(a,b){for(var d=b.split("."),e=a,f=0;f<d.length&&e;f++)e=redfin.search.data.Accessor.getField(e,d[f]);return e},setterName:function(a){return"set"+redfin.common.data.MethodGenerator._getFieldNameCapitalized(a)},set:function(a,c,d){if(c&&(a=redfin.search.data.Accessor.getLast(a,c),a.object&&a.field))if(c=redfin.search.data.Accessor.setterName(a.field),
b.isFunction(a.object[c]))a.object[c](d);else a.object.hasOwnProperty(a.field)?a.object[a.field]=d:a.object["_"+a.field]=d}})})},"redfin/search/common/RestrictedValue":function(){define(["dijit","dojo","dojox"],function(h,b,e){b.provide("redfin.search.common.RestrictedValue");b.declare("redfin.search.common.RestrictedValue",null,{data:null,constructor:function(a){this.data=a?a:{}},value:function(){return this.data.value},isValueEmpty:function(){return redfin.search.common.RestrictedValue.isValueEmpty(this.data)},
requiredAccessLevel:function(){return this.data.accessLevel},valueIfHasAccess:function(){return redfin.search.common.RestrictedValue.valueIfHasAccess(this.data)},valueIfNotOptional:function(){return redfin.search.common.RestrictedValue.valueIfNotOptional(this.data)},hasAccess:function(){return redfin.search.common.RestrictedValue.hasAccess(this.data)},isAchievable:function(){return redfin.search.common.RestrictedValue.isAchievable(this.data)},isAgentOnly:function(){return redfin.search.common.RestrictedValue.isAgentOnly(this.data)},
needLogin:function(){return redfin.search.common.RestrictedValue.needLogin(this.data)},needEmail:function(){return redfin.search.common.RestrictedValue.needEmail(this.data)},needAgent:function(){return redfin.search.common.RestrictedValue.needAgent(this.data)}});b.safeMixin(redfin.search.common.RestrictedValue,{valueIfHasAccess:function(a){return redfin.search.common.RestrictedValue.hasAccess(a)?a.value:null},valueIfNotOptional:function(a){return redfin.search.common.RestrictedValue.hasAccess(a)?
null:a.value},hasAccess:function(a){return a.userAccessLevel>=a.accessLevel},isAchievable:function(a){return a.accessLevel<g_accessLevels.REDFIN_AGENT},isAgentOnly:function(a){return a.accessLevel===g_accessLevels.REDFIN_AGENT},isValueEmpty:function(a){return null==a.value||void 0==a.value||0===a.value.length},needLogin:function(a){return redfin.search.common.RestrictedValue.isValueEmpty(a)?!1:a.userAccessLevel<a.accessLevel&&a.userAccessLevel<g_accessLevels.REGISTERED&&a.accessLevel<g_accessLevels.REDFIN_AGENT},
needEmail:function(a){return redfin.search.common.RestrictedValue.isValueEmpty(a)?!1:a.userAccessLevel<a.accessLevel&&a.accessLevel===g_accessLevels.EMAIL_VERIFIED&&a.accessLevel<g_accessLevels.REDFIN_AGENT},needAgent:function(a){return a.userAccessLevel<a.accessLevel&&a.accessLevel===g_accessLevels.REDFIN_AGENT}})})},"redfin/common/School":function(){define("redfin/common/School",["dijit","dojo","dojox","dojo/require!redfin/common/data/MethodGenerator,redfin/common/data/DataObject"],function(h,b,
e){b.provide("redfin.common.School");b.require("redfin.common.data.MethodGenerator");b.require("redfin.common.data.DataObject");b.declare("redfin.common.School",[redfin.common.data.DataObject],{getAddressSecondLine:function(){var a=[],b=this.getCityState();b&&a.push(b);this.getZip()&&a.push(this.getZip());return a.join(" ")},getCityState:function(){var a=[];this.getCity()&&a.push(this.getCity());this.getState()&&a.push(this.getState());return a.join(", ")},getLatitude:function(){return this.getCentroid().latitude},
getLongitude:function(){return this.getCentroid().longitude}});b.forEach("id name address institutionType centroid numberOfStudents districtName studentToTeacherRatioAsInt city state zip lowestGradeLevel highestGradeLevel url greatSchoolsRating mostRecentReviews rating elementary middle high nearbyHomesUrl parcel averageReviewScore schoolPolygonSearchUrl".split(" "),function(a){redfin.common.data.MethodGenerator.generateMethods(redfin.common.School,a)})})},"dojo/data/util/sorter":function(){define(["../../_base/lang"],
function(h){var b={};h.setObject("dojo.data.util.sorter",b);b.basicComparator=function(b,a){var c=-1;null===b&&(b=void 0);null===a&&(a=void 0);if(b==a)c=0;else if(b>a||null==b)c=1;return c};b.createSortFunction=function(e,a){function c(a,b,c,d){return function(f,k){var e=d.getValue(f,a),g=d.getValue(k,a);return b*c(e,g)}}for(var d=[],g,f=a.comparatorMap,k=b.basicComparator,l=0;l<e.length;l++){g=e[l];var m=g.attribute;if(m){g=g.descending?-1:1;var h=k;f&&("string"!==typeof m&&"toString"in m&&(m=m.toString()),
h=f[m]||k);d.push(c(m,g,h,a))}}return function(a,b){for(var c=0;c<d.length;){var f=d[c++](a,b);if(0!==f)return f}return 0}};return b})},"redfin/search/common/RestrictedValueAccessor":function(){define(["dijit","dojo","dojox","dojo/require!redfin/search/data/Accessor,redfin/common/data/MethodGenerator,redfin/search/common/RestrictedValue,redfin/search/util/LoginUtil"],function(h,b,e){b.provide("redfin.search.common.RestrictedValueAccessor");b.require("redfin.search.data.Accessor");b.require("redfin.common.data.MethodGenerator");
b.require("redfin.search.common.RestrictedValue");b.require("redfin.search.util.LoginUtil");b.declare("redfin.search.common.RestrictedValueAccessor",null,{});b.mixin(redfin.search.common.RestrictedValueAccessor,{newRestrictedValue:function(a,b,d){d||(d=redfin.util.login.accessLevel());b||(b=1);return new redfin.search.common.RestrictedValue({value:a,accessLevel:b,userAccessLevel:d})},getRestrictedValue:function(a,b,d){d||(d=redfin.util.login.accessLevel());var e=a,f=1,k=redfin.search.data.Accessor;
b?(a=k.getLast(a,b),a.object&&a.field?(e=k.getField(a.object,a.field),f=redfin.search.common.RestrictedValueAccessor.getMaxAcccessLevel(a.object,a.field)):e=a.object):a&&(e=a,f=redfin.search.common.RestrictedValueAccessor.getMaxAcccessLevel(e));return new redfin.search.common.RestrictedValue({value:e,accessLevel:f,userAccessLevel:d})},getWithHigherRestrictions:function(a,b,d){for(var e={},f=0;f<b.length;f++){var k=b[i],l=redfin.search.common.RestrictedValueAccessor.getRestrictedValue(a,k,d);l.value()&&
l.accessLevel()>d&&(e[k]=l)}return e},getAccessLevelValue:function(a,b,d){var e=null;if(null===e){if("function"===typeof b)return b.apply(d);if("number"===typeof b)return b;e=redfin.search.data.Accessor.get(d,b)}e||(e=a?a.getAccessLevel(b,d):null);return e},getMaxAcccessLevel:function(a,c){c||(c="this");var d=a._accessLevels;if(!d)return 1;var e=null;a.getAccessLevelWrapper&&(e=a.getAccessLevelWrapper());var f="_"+c,k=f+"CalculatedMaxAccessLevelCache",l=a[k];if(!l){var m=b.getObject(f,!1,d);"_this"!==
f&&(l=b.getObject("_this",!1,d))&&(m=m?l.concat(m):l);if(!m)return 1;l=1;for(d=0;d<m.length;d++)(f=redfin.search.common.RestrictedValueAccessor.getAccessLevelValue(e,m[d],a))&&f>l&&(l=f);a[k]=l}return l}})})},"dojo/window":function(){define("./_base/lang ./sniff ./_base/window ./dom ./dom-geometry ./dom-style".split(" "),function(h,b,e,a,c,d){var g={getBox:function(a){a=a||e.doc;var d="BackCompat"==a.compatMode?e.body(a):a.documentElement,l=c.docScroll(a);if(b("touch")){var m=g.get(a);a=m.innerWidth||
d.clientWidth;d=m.innerHeight||d.clientHeight}else a=d.clientWidth,d=d.clientHeight;return{l:l.x,t:l.y,w:a,h:d}},get:function(a){if(b("ie")&&g!==document.parentWindow){a.parentWindow.execScript("document._parentWindow \x3d window;","Javascript");var c=a._parentWindow;a._parentWindow=null;return c}return a.parentWindow||a.defaultView},scrollIntoView:function(f,k){try{f=a.byId(f);var g=f.ownerDocument||e.doc,m=e.body(g),h=g.documentElement||m.parentNode,n=b("ie"),q=b("webkit");if((!b("mozilla")&&!n&&
!q&&!b("opera")||f==m||f==h)&&"undefined"!=typeof f.scrollIntoView)f.scrollIntoView(!1);else{var r="BackCompat"==g.compatMode,t=9<=n&&"frameElement"in f.ownerDocument.parentWindow?0<h.clientHeight&&0<h.clientWidth&&(0==m.clientHeight||0==m.clientWidth||m.clientHeight>h.clientHeight||m.clientWidth>h.clientWidth)?h:m:r?m:h,q=q?m:t,u=t.clientWidth,w=t.clientHeight,v=!c.isBodyLtr(g),x=k||c.position(f),s=f.parentNode,g=function(a){return 6>=n||n&&r?!1:"fixed"==d.get(a,"position").toLowerCase()};if(!g(f))for(;s;){s==
m&&(s=q);var y=c.position(s),C=g(s);if(s==q){y.w=u;y.h=w;q==h&&(n&&v)&&(y.x+=q.offsetWidth-y.w);if(0>y.x||!n)y.x=0;if(0>y.y||!n)y.y=0}else{var A=c.getPadBorderExtents(s);y.w-=A.w;y.h-=A.h;y.x+=A.l;y.y+=A.t;var z=s.clientWidth,G=y.w-z;0<z&&0<G&&(y.w=z,y.x+=v&&(n||s.clientLeft>A.l)?G:0);z=s.clientHeight;G=y.h-z;0<z&&0<G&&(y.h=z)}C&&(0>y.y&&(y.h+=y.y,y.y=0),0>y.x&&(y.w+=y.x,y.x=0),y.y+y.h>w&&(y.h=w-y.y),y.x+y.w>u&&(y.w=u-y.x));var F=x.x-y.x,B=x.y-Math.max(y.y,0),K=F+x.w-y.w,D=B+x.h-y.h;if(0<K*F){var M=
Math[0>F?"max":"min"](F,K);if(v&&(8==n&&!r||9<=n))M=-M;x.x+=s.scrollLeft;s.scrollLeft+=M;x.x-=s.scrollLeft}0<D*B&&(x.y+=s.scrollTop,s.scrollTop+=Math[0>B?"max":"min"](B,D),x.y-=s.scrollTop);s=s!=q&&!C&&s.parentNode}}}catch(J){console.error("scrollIntoView: "+J),f.scrollIntoView(!1)}}};h.setObject("dojo.window",g);return g})},"dojo/DeferredList":function(){define(["./_base/kernel","./_base/Deferred","./_base/array"],function(h,b,e){h.DeferredList=function(a,c,d,g,f){var k=[];b.call(this);var l=this;
0===a.length&&!c&&this.resolve([0,[]]);var m=0;e.forEach(a,function(b,f){function e(b,c){k[f]=[b,c];m++;m===a.length&&l.resolve(k)}b.then(function(a){c?l.resolve([f,a]):e(!0,a)},function(a){d?l.reject(a):e(!1,a);if(g)return null;throw a;})})};h.DeferredList.prototype=new b;h.DeferredList.prototype.gatherResults=function(a){a=new h.DeferredList(a,!1,!0,!1);a.addCallback(function(a){var b=[];e.forEach(a,function(a){b.push(a[1])});return b});return a};return h.DeferredList})},"redfin/search/details/ImageCard":function(){require({cache:{"url:redfin/search/details/templates/ImageCard.html":'\x3cdiv class\x3d"image-card-window"\x3e\t\t\t\t\n\t\x3cdiv style\x3d"position:relative;overflow: hidden;" class\x3d"image-card" data-dojo-attach-point\x3d"viewPort"\x3e\n\t\t\x3ca target\x3d"_top" data-dojo-attach-point\x3d"linkNode"\x3e\x3cimg class\x3d"not-loaded" style\x3d"position:absolute;" alt\x3d"${imageAlt}" title\x3d"${imageTitle}" data-dojo-attach-point\x3d"imgNode"\x3e\x3c/a\x3e\n\t\x3c/div\x3e\t\n\x3c/div\x3e'}});
define("redfin/search/details/ImageCard","dojo dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/dom-style dojo/text!redfin/search/details/templates/ImageCard.html redfin/common/PhantomUtils redfin/search/common/_PhasedWidget".split(" "),function(h,b,e,a,c,d,g,f,k){return b("redfin.search.details.ImageCard",k,{photoId:null,windowSize:null,image:null,imageUrl:null,imageAlt:"",imageTitle:"",onImageLoadHandler:null,onErrorHandler:null,imageSize:null,viewPortSize:null,templateString:g,
postCreate:function(){this.resize(this.windowSize);this.onClickHandler&&this.connect(this.viewPort,"onclick",this.onClick);h.style(this.domNode,"width",this.windowSize.width+"px");h.style(this.domNode,"height",this.windowSize.height+"px");redfin.utils.isSEO()&&this.showImage()},_setImageUrlAttr:function(a,b){this.imageUrl=a;!0===b&&this.load()},load:function(a){if(null==this.image)a&&(this.onImageLoadHandler=a.onload,this.onErrorHandler=a.onerror),this.image=new Image,this.image.onload=h.hitch(this,
this.onImageLoad),this.image.onerror=h.hitch(this,this.onError),this.image.src=this.imageUrl;else this.onImageLoad()},isLoaded:function(){return null!=this.image},showImage:function(){h.attr(this.imgNode,"src",this.imageUrl);h.removeClass(this.imgNode,"not-loaded")},onImageLoad:function(){this.imageSize=0==this.image.width&&0==this.image.height?this.windowSize:{width:this.image.width,height:this.image.height};this.resize(this.windowSize);this.showImage();if(this.onImageLoadHandler)this.onImageLoadHandler()},
onError:function(){this.imageSize=this.windowSize;this.resize(this.windowSize);this.showImage();if(this.onErrorHandler)this.onErrorHandler()},deselected:function(){h.removeClass(this.domNode,"image-selected")},selected:function(){h.addClass(this.domNode,"image-selected")},resize:function(a){"undefined"==typeof a||null==a||(this.windowSize=a,a=this.getViewSize(),this.setSize(this.viewPort,a),this.fitImageToView(a))},fitImageToView:function(a){this.imageSize||(this.imageSize=this.windowSize);this.imageSize&&
(a=this.getScaleSize(),this.setSize(this.imgNode,a),this.setSize(this.viewPort,a),this.centerViewPort(a))},getViewSize:function(){return this.viewPortSize?this.viewPortSize:this.windowSize},centerViewPort:function(a){var b=Math.ceil((this.windowSize.width-a.width)/2);a=Math.ceil((this.windowSize.height-a.height)/2);h.style(this.viewPort,"left",b+"px");h.style(this.viewPort,"top",a+"px")},moveImage:function(a,b){h.style(this.imgNode,"marginLeft",-a+"px");h.style(this.imgNode,"marginTop",-b+"px")},
setSize:function(a,b){h.style(a,"width",b.width+"px");h.style(a,"height",b.height+"px")},getScaleSize:function(){var a=this.getViewSize(),b=this.imageSize.width,c=this.imageSize.height,a=Math.min(a.width/b,a.height/c,1);return{width:Math.floor(a*b),height:Math.floor(a*c),factor:a}},setLinkAttribute:function(a,b){h.attr(this.linkNode,a,b)}})})},"redfin/common/data/Events":function(){define(["dojo/Evented","dojo/_base/declare"],function(h,b){return b("redfin.common.data.Events",h,{on:function(b,a){var c=
this.inherited(arguments),d=this._getImmediateEventCallArgs&&this._getImmediateEventCallArgs(b);d&&a.apply(this,d);return c},emitted:function(b){this._emitted=this._emitted||[];this._emitted[b]=Array.prototype.slice.call(arguments,1)},hasEmitted:function(b){return this._getImmediateEventCallArgs(b)},_getImmediateEventCallArgs:function(b){return this._emitted&&this._emitted[b]}})})},"url:redfin/common/widgets/contactBox/templates/ContactBoxQuestionForm.html":'\x3cdiv class\x3d"contactBoxQuestionForm" data-dojo-attach-point\x3d"content"\x3e\n\t\x3cdiv class\x3d"basic-padding"\x3e\n\t\t\x3cspan class\x3d"askAQuestionIcon icon help"\x3e\x3c/span\x3e\n\t\t\x3ctextarea rows\x3d"1" class\x3d"text-input basic-input" data-dojo-attach-point\x3d"textInputNode"\x3e\x3c/textarea\x3e\n\t\t\x3cdiv class\x3d"text-input-error hidden" data-dojo-attach-point\x3d"textInputErrorNode"\x3e\n\t\t\t5000 character limit. (Entered: \x3cspan data-dojo-attach-point\x3d"textInputLengthNode"\x3e\x3c/span\x3e chars)\n\t\t\x3c/div\x3e\t\n\t\t\x3cdiv class\x3d"clear-fix"\x3e\n\t\t\t\x3cdiv class\x3d"question-type hidden" data-dojo-attach-point\x3d"questionTypeContainer"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"hidden" data-dojo-attach-point\x3d"buttonNode"\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"submitButton" class\x3d"Button basic-border-radius clickable tertiary small submitButton"\x3eAsk Now\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"icon inline-block hidden" data-dojo-attach-point\x3d"spinnerNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cform method\x3d"POST" target\x3d"_top" data-dojo-attach-point\x3d"askQuestionForm"\x3e\n\t\t\x3cinput type\x3d"hidden" name\x3d"question" value\x3d"" data-dojo-attach-point\x3d"questionNode"\x3e\n\t\t\x3cinput type\x3d"hidden" name\x3d"fromLDP" value\x3d"true"\x3e\n\t\x3c/form\x3e\n\x3c/div\x3e',
"dijit/registry":function(){define("dijit/registry",["dojo/_base/array","dojo/sniff","dojo/_base/unload","dojo/_base/window","./main"],function(h,b,e,a,c){var d={},g={},f={length:0,add:function(a){if(g[a.id])throw Error("Tried to register widget with id\x3d\x3d"+a.id+" but that id is already registered");g[a.id]=a;this.length++},remove:function(a){g[a]&&(delete g[a],this.length--)},byId:function(a){return"string"==typeof a?g[a]:a},byNode:function(a){return g[a.getAttribute("widgetId")]},toArray:function(){var a=
[],b;for(b in g)a.push(g[b]);return a},getUniqueId:function(a){var b;do b=a+"_"+(a in d?++d[a]:d[a]=0);while(g[b]);return"dijit"==c._scopeName?b:c._scopeName+"_"+b},findWidgets:function(a,b){function c(a){for(a=a.firstChild;a;a=a.nextSibling)if(1==a.nodeType){var f=a.getAttribute("widgetId");f?(f=g[f])&&d.push(f):a!==b&&c(a)}}var d=[];c(a);return d},_destroyAll:function(){c._curFocus=null;c._prevFocus=null;c._activeStack=[];h.forEach(f.findWidgets(a.body()),function(a){a._destroyed||(a.destroyRecursive?
a.destroyRecursive():a.destroy&&a.destroy())})},getEnclosingWidget:function(a){for(;a;){var b=a.getAttribute&&a.getAttribute("widgetId");if(b)return g[b];a=a.parentNode}return null},_hash:g};return c.registry=f})},"url:redfin/search/details/media/templates/MediaFlicker.html":'\x3cdiv\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"content"\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',"url:redfin/common/elements/templates/Dialog.html":'\x3cdiv class\x3d\'CommonDialog hidden\'\x3e\n\t\x3cdiv class\x3d\'cell\'\x3e\n\t\t\x3cdiv class\x3d"guts" tabindex\x3d"-1" data-dojo-attach-point\x3d"dialogGutsNode"\x3e\n\t\t\t\x3cdiv class\x3d"hidden close-button sprite-icon-dialog-close-x clickable" data-dojo-attach-point\x3d"closeButtonNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"header" data-dojo-attach-point\x3d"titleBar"\x3e\n\t\t\t\t\x3cdiv class\x3d"inline-block icon hidden" data-dojo-attach-point\x3d"headerIconNode"\x3e\x3c/div\x3e\n\t\t\t\t\x3ch3 data-dojo-attach-point\x3d"titleNode"\x3e${title}\x3c/h3\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"content"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"footerContainer" class\x3d"footer hidden clear-fix"\x3e\n\t\t\t\t\x3cdiv class\x3d"sprite-icon-dialog-info float-left icon"\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"text" data-dojo-attach-point\x3d"footerNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"dijit/form/_FormMixin":function(){define("dijit/form/_FormMixin","dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/on dojo/window".split(" "),function(h,b,e,a,c,d){return b("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(a){var b=[];h.forEach(a||this.getChildren(),function(a){"value"in a?b.push(a):b=b.concat(this._getDescendantFormWidgets(a.getChildren()))},this);return b},reset:function(){h.forEach(this._getDescendantFormWidgets(),function(a){a.reset&&
a.reset()})},validate:function(){var a=!1;return h.every(h.map(this._getDescendantFormWidgets(),function(b){b._hasBeenBlurred=!0;var c=b.disabled||!b.validate||b.validate();!c&&!a&&(d.scrollIntoView(b.containerNode||b.domNode),b.focus(),a=!0);return c}),function(a){return a})},setValues:function(a){e.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",a)},_setValueAttr:function(b){var c={};h.forEach(this._getDescendantFormWidgets(),
function(a){a.name&&(c[a.name]||(c[a.name]=[])).push(a)});for(var d in c)if(c.hasOwnProperty(d)){var e=c[d],m=a.getObject(d,!1,b);void 0!==m&&(a.isArray(m)||(m=[m]),"boolean"==typeof e[0].checked?h.forEach(e,function(a){a.set("value",-1!=h.indexOf(m,a.value))}):e[0].multiple?e[0].set("value",m):h.forEach(e,function(a,b){a.set("value",m[b])}))}},getValues:function(){e.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var b=
{};h.forEach(this._getDescendantFormWidgets(),function(c){var d=c.name;if(d&&!c.disabled){var e=c.get("value");"boolean"==typeof c.checked?/Radio/.test(c.declaredClass)?!1!==e?a.setObject(d,e,b):(e=a.getObject(d,!1,b),void 0===e&&a.setObject(d,null,b)):(c=a.getObject(d,!1,b),c||(c=[],a.setObject(d,c,b)),!1!==e&&c.push(e)):(c=a.getObject(d,!1,b),"undefined"!=typeof c?a.isArray(c)?c.push(e):a.setObject(d,[c,e],b):a.setObject(d,e,b))}});return b},isValid:function(){return""==this.state},onValidStateChange:function(){},
_getState:function(){var a=h.map(this._descendants,function(a){return a.get("state")||""});return 0<=h.indexOf(a,"Error")?"Error":0<=h.indexOf(a,"Incomplete")?"Incomplete":""},disconnectChildren:function(){},connectChildren:function(a){this._descendants=this._getDescendantFormWidgets();h.forEach(this._descendants,function(a){a._started||a.startup()});a||this._onChildChange()},_onChildChange:function(a){(!a||"state"==a||"disabled"==a)&&this._set("state",this._getState());if(!a||"value"==a||"disabled"==
a||"checked"==a)this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"))},10)},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var a=this;this.own(c(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(b){b.target!=a.domNode&&
a._onChildChange(b.type.replace("attrmodified-",""))}));this.watch("state",function(a,b,c){this.onValidStateChange(""==c)})},destroy:function(){this.inherited(arguments)}})})},"redfin/search/data/mixins/_SearchResultDisplayType":function(){define(["dijit","dojo","dojox"],function(h,b,e){b.provide("redfin.search.data.mixins._SearchResultDisplayType");redfin.search.data.mixins._SearchResultDisplayType={getSearchResultDisplayType:function(){var a=this.get("listing");return this.getSearchResultDisplayTypeHelper({property:this,
listing:a})},getSearchResultDisplayTypeHelper:function(a){var b=a.property,d=a.listing;a=a.hasSale||b._lastSaleDate||b._propertyTransaction;if(d){var e=redfin.search.common.RestrictedValueAccessor.getRestrictedValue(d),b=e.hasAccess(),e=e.isAchievable();if(b)return d.isActivish()?g_searchResultDisplayType.LISTING:a?g_searchResultDisplayType.MLS_SALE_WITH_COUNTY:g_searchResultDisplayType.MLS_SALE;if(e)return a?g_searchResultDisplayType.CENSORED_MLS_SALE_WITH_COUNTY:g_searchResultDisplayType.CENSORED_MLS_SALE}return a?
g_searchResultDisplayType.COUNTY_SALE:g_searchResultDisplayType.NONE}}})},"dijit/BackgroundIframe":function(){define("dijit/BackgroundIframe","require ./main dojo/_base/config dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/on dojo/sniff dojo/_base/window".split(" "),function(h,b,e,a,c,d,g,f,k){var l=new function(){var b=[];this.pop=function(){var d;b.length?(d=b.pop(),d.style.display=""):(9>f("ie")?(d="\x3ciframe src\x3d'"+(e.dojoBlankHtmlUrl||h.toUrl("dojo/resources/blank.html")||'javascript:""')+
"' role\x3d'presentation' style\x3d'position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity\x3d\"0\");'\x3e",d=k.doc.createElement(d)):(d=a.create("iframe"),d.src='javascript:""',d.className="dijitBackgroundIframe",d.setAttribute("role","presentation"),c.set(d,"opacity",0.1)),d.tabIndex=-1);return d};this.push=function(a){a.style.display="none";b.push(a)}};b.BackgroundIframe=function(a){if(!a.id)throw Error("no id");if(f("ie")||f("mozilla")){var b=this.iframe=l.pop();a.appendChild(b);
7>f("ie")||f("quirks")?(this.resize(a),this._conn=g(a,"resize",d.hitch(this,function(){this.resize(a)}))):c.set(b,{width:"100%",height:"100%"})}};d.extend(b.BackgroundIframe,{resize:function(a){this.iframe&&c.set(this.iframe,{width:a.offsetWidth+"px",height:a.offsetHeight+"px"})},destroy:function(){this._conn&&(this._conn.remove(),this._conn=null);this.iframe&&(l.push(this.iframe),delete this.iframe)}});return b.BackgroundIframe})},"url:redfin/header/templates/UserMenu.html":'\x3cdiv class\x3d\'UserMenu\' dojoType\x3d\'redfin.header.UserMenu\'\x3e\n\t\x3cdiv class\x3d\'menu\'\x3e\n\t\t\x3cspan dojoAttachPoint\x3d\'phoneNode\' class\x3d\'item Phone\'\x3e\n\t\t\t\x3cspan class\x3d"contents"\x3e\x3cspan class\x3d"text"\x3eCall: \x3cspan class\x3d"legibleNumber"\x3e877-973-3346\x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\t\n\t\t\x3cspan dojoAttachPoint\x3d\'facebookNode\' class\x3d\'hidden item\'\x3e\n\t\t  \x3cspan class\x3d"top"\x3e\n\t\t    \x3cspan class\x3d\'icon_facebook_v2\'\x3e\x3c/span\x3e\n\t\t  \x3c/span\x3e\n\t\t  \x3cspan class\x3d"drop socialDrop"\x3e\n\t\t      \x3ch3 class\x3d"smallHeader"\x3eLike Redfin\x3c/h3\x3e\n\t\t      \x3cdiv class\x3d"marginT1 noOverflow"\x3e\n\t\t          \x3cdiv class\x3d"fb-like" data-href\x3d"https://www.facebook.com/redfin" data-width\x3d"100" data-layout\x3d"button_count" data-show-faces\x3d"false" data-send\x3d"false"\x3e\x3c/div\x3e\n\t\t      \x3c/div\x3e\n\t\t  \x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\t\n\t\t\x3cspan dojoAttachPoint\x3d\'twitterNode\' class\x3d\'hidden item\'\x3e\n\t\t  \x3cspan class\x3d"top"\x3e\n\t\t    \x3cspan class\x3d\'icon_twitter\'\x3e\x3c/span\x3e\n\t\t  \x3c/span\x3e\n\t\t  \x3cspan class\x3d"drop socialDrop" style\x3d"width:170px"\x3e\n\t\t      \x3ch3 class\x3d"smallHeader"\x3eFollow Redfin\x3c/h3\x3e\n\t\t      \x3cdiv class\x3d"marginT1 marginL1"\x3e\n\t\t          \x3ca href\x3d"https://twitter.com/Redfin" class\x3d"twitter-follow-button" data-show-count\x3d"true" data-show-screen-name\x3d"false" data-lang\x3d"en"\x3e\x3c/a\x3e\n\t\t      \x3c/div\x3e\n\t\t  \x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\t\n\t\t\x3cspan dojoAttachPoint\x3d\'googlePlusNode\' class\x3d\'hidden marginR2 item\'\x3e\n\t\t  \x3cspan class\x3d"top"\x3e\n\t\t      \x3cspan class\x3d\'icon_googlePlus\'\x3e\x3c/span\x3e\n\t\t  \x3c/span\x3e\n\t\t  \x3cspan class\x3d"drop socialDrop"\x3e\n\t\t      \x3ch3 class\x3d"smallHeader"\x3eFollow Redfin\x3c/h3\x3e\n\t\t      \x3cdiv class\x3d"marginT1 marginL1"\x3e\n\t\t          \x3cdiv class\x3d"g-plusone" data-href\x3d"http://www.redfin.com" data-callback\x3d"UserMenuGooglePlusCallback"\x3e\x3c/div\x3e\n\t\t      \x3c/div\x3e\n\t\t  \x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\t\n\t\t\x3cspan dojoAttachPoint\x3d\'todoNotificationsNode\' class\x3d\'item\'\x3e\n\t\t\t\x3cspan class\x3d"top"\x3e\n\t\t\t\t\x3cspan dojoAttachPoint\x3d"todoNotificationImageNode" class\x3d"userNotificationIcon todo light sprt"\x3e\x3c/span\x3e\n\t\t\t\t\x3cspan dojoAttachPoint\x3d"todoNumberBubbleNode"\x3e\x3c/span\x3e\n\t\t\t\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"drop todoNotificationDrop" dojoAttachPoint\x3d"todoNotificationsDropdown"\x3e\n\t\t\t\t\x3ch3\x3eReminders\x3c/h3\x3e\n\t\t\t\t\x3cul dojoAttachPoint\x3d"todoNotificationsList" class\x3d"notificationsList"\x3e\n\t\t\t\t\t\x3c!-- Items are created in JS --\x3e\n\t\t\t\t\x3c/ul\x3e\n\t\t\t\t\x3cdiv dojoAttachPoint\x3d"todoNotificationsListEmptyMessage" class\x3d"emptyMessage hidden"\x3e\n\t\t\t\t\tCheck here to see reminders for items you need to complete when you work with a \x3ca href\x3d"${g_unsecureWebServerUrl}/real-estate-agents?src\x3dUserNotification-Dropdown-Default" target\x3d\'_top\'\x3eRedfin agent or partner agent\x3c/a\x3e to buy or sell a home.\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\t\n\t\t\x3cspan dojoAttachPoint\x3d\'nameAndThumbnail\' class\x3d\'item NameAndThumbnail\'\x3e\n\t\t\t\x3cspan class\x3d"top"\x3e\n\t\t\t\t\x3cspan class\x3d"text" dojoAttachPoint\x3d\'joinOrSignInNode\'\x3e\n\t\t\t\t\t\x3ca class\x3d\'link\' dojoAttachEvent\x3d\'onclick:_signInClick\' dojoAttachPoint\x3d\'signInLink\' target\x3d\'_top\'\x3eSign In\x3c/a\x3e\n\t\t\t\t\t or \x3ca class\x3d\'link\' dojoAttachEvent\x3d\'onclick:_joinClick\' dojoAttachPoint\x3d\'joinLink\' target\x3d\'_top\'\x3eJoin Redfin\x3c/a\x3e \n\t\t\t\t\x3c/span\x3e\n\t\t\t\t\x3cspan class\x3d"text" dojoAttachPoint\x3d\'joinOrSignInDisabledNode\'\x3eSign In or Join Redfin\x3c/span\x3e\n\t\t\t\t\x3cspan class\x3d"text" dojoAttachPoint\x3d\'nameNode\'\x3e\n\t\t\t\t\t\x3ca class\x3d\'NameLink\' dojoAttachPoint\x3d\'nameLink\' href\x3d\'${g_unsecureWebServerUrl}/myredfin\' target\x3d\'_top\'\x3e\x3c/a\x3e \n\t\t\t\t\t\x3cspan\x3e\x26#9660;\x3c/span\x3e\n\t\t\t\t\x3c/span\x3e\n\t\t\t\t\x3cspan class\x3d"image"\x3e\n\t\t\t\t\t\x3cimg dojoAttachPoint\x3d\'imageNode\' class\x3d\'userPhoto small\'\x3e\n\t\t\t\t\x3c/span\x3e\n\t\t\t\x3c/span\x3e\n\t\t\t\n\t\t\t\x3cspan class\x3d"drop" dojoAttachPoint\x3d"userMenuDropdown"\x3e\n\t\t\t\t\x3cspan dojoAttachPoint\x3d"userMenuOptions"\x3e\n\t\t\t\t\t\x3cul dojoAttachPoint\x3d"userMenuOptionsList"\x3e\n\t\t\t\t\t\t\x3c!-- Menu items are created in JS --\x3e\n\t\t\t\t\t\x3c/ul\x3e\n\t\t\t\t\x3c/span\x3e\n\t\t\t\t\x3cspan dojoAttachPoint\x3d"userMenuDescription" class\x3d"description"\x3e\n\t\t\t\t\tA My Redfin account helps you track your favorite homes, get custom alerts when new listings hit the market, and work with Redfin agents.\n\t\t\t\t\x3c/span\x3e\n\t\t\t\t\x3cdiv class\x3d"facebook_login_div" dojoAttachPoint\x3d"facebookLoginDiv"\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"google_login_div" dojoAttachPoint\x3d"googleLoginDiv"\x3e\x3c/div\x3e\n\t\t\t\t\x3cimg class\x3d"facebook_spinner" dojoAttachPoint\x3d"facebookSpinner" /\x3e\n\t\t\t\t\x3cdiv class\x3d\'clear\'\x3e\x3c/div\x3e\n\t\t\t\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"mobileControlButtons" dojoAttachPoint\x3d"mobileControlNode"\x3e\n\t\t\x3cdiv class\x3d"mobileNavMenuButton menuClosed hidden" dojoAttachPoint\x3d"mobileNavMenuButtonNode" dojoAttachEvent\x3d"onclick:toggleMobileHeader"\x3e\n\t\t\t\x3ca class\x3d"mobileNavMenuLink" dojoAttachPoint\x3d"mobileNavMenuLink"\x3e\x26nbsp;\x3c/a\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3ca class\x3d"Button tertiary med inline-block basic-border-radius clickable mobileLoginButtons" dojoAttachEvent\x3d"onclick:_signInClick" dojoAttachPoint\x3d"mobileSignInLink" target\x3d"_top"\x3eSign In\x3c/a\x3e\n\t\t\x3ca class\x3d"Button tertiary med inline-block basic-border-radius clickable mobileLoginButtons hidden" dojoAttachPoint\x3d"mobileSignOutLink" target\x3d"_top"\x3eSign Out\x3c/a\x3e\n\t\t\x3cdiv class\x3d"mobileSearchButton hamburger_search_icon hidden" dojoAttachPoint\x3d"mobileSearchHeaderNode"\x3e\n\t\t\t\x3ca class\x3d"mobileSearchButtonLink" dojoAttachPoint\x3d"mobileSearchHeaderLink"\x3e\x26nbsp;\x3c/a\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"mobileNavCanvas" dojoAttachPoint\x3d"mobileNavCanvasNode"\x3e\n\t\t\t\x3cul dojoAttachPoint\x3d"mobileNavCanvasItemsNode"\x3e\n\t\t        \x3cli class\x3d"userNode"\x3e\n\t\t        \t\x3cdiv class\x3d"image"\x3e\n\t\t\t\t\t\t\x3cimg dojoAttachPoint\x3d\'mobileHeaderImageNode\' class\x3d\'userPhoto small\'\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t        \x3cdiv dojoAttachPoint\x3d\'mobileHeaderJoinOrSignInNode\'\x3e\n\t\t\t        \t\x3ca dojoAttachEvent\x3d\'onclick:_signInClick\' dojoAttachPoint\x3d"mobileHeaderSignInLink" target\x3d\'_top\'\x3eSign In or Join Redfin\x3c/a\x3e\n\t\t\t        \x3c/div\x3e\n\t\t\t\t\t\x3cdiv dojoAttachPoint\x3d\'mobileHeaderNameNode\'\x3e\n\t\t\t\t\t\t\x3ca dojoAttachPoint\x3d\'mobileHeaderNameLink\' href\x3d\'${g_unsecureWebServerUrl}/myredfin\' target\x3d\'_top\'\x3e\x3c/a\x3e \n\t\t\t\t\t\x3c/div\x3e\n\n\t\t        \x3c/li\x3e\n\t\t        \x3c!-- Menu items are created in JS --\x3e\n\t\t        \n\t\t    \x3c/ul\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\x3c/div\x3e\n',
"redfin/search/data/PriceCalculator":function(){define("redfin/search/data/PriceCalculator",["dijit","dojo","dojox","dojo/require!redfin/search/common/RestrictedValueAccessor"],function(h,b,e){b.provide("redfin.search.data.PriceCalculator");b.require("redfin.search.common.RestrictedValueAccessor");b.declare("redfin.search.data.PriceCalculator",null,{listing:null,property:null,listingIsPrimary:!1,_source:0,_restrictedValuePrice:null,constructor:function(a){b.mixin(this,a)},isListingPrimary:function(){return this.listing.isPrimaryOfProperty(this.property)},
_isActivishListing:function(){var a=this.listing;return a&&a.isActivish()&&a.get("listingType")!=g_listingTypes.BANK_OWNED},_canUsePublicData:function(){if(this.listing){var a=redfin.search.common.RestrictedValueAccessor.getRestrictedValue(this.listing).hasAccess();return this.isListingPrimary()&&!a}return!0},calculate:function(){if(this.listing)if(this._isActivishListing())this._restrictedValuePrice=this.getListingPrice(),this._source=redfin.search.data.PriceCalculator.LIST_PRICE_SOURCE;else{var a=
!1;this._canUsePublicData()&&(this._restrictedValuePrice=this.getPropertyPrice(),this._source=redfin.search.data.PriceCalculator.PUBLIC_PRICE_SOURCE,a=this._restrictedValuePrice.value()?!0:!1);a||(this._restrictedValuePrice=this.getSalePrice(),this._restrictedValuePrice.value()&&this._restrictedValuePrice.isAchievable()?this._source=redfin.search.data.PriceCalculator.LAST_SALE_SOURCE:(this._restrictedValuePrice=this.getListingPrice(),this._source=redfin.search.data.PriceCalculator.LIST_PRICE_SOURCE))}else this._restrictedValuePrice=
this.getPropertyPrice(),this._source=redfin.search.data.PriceCalculator.PUBLIC_PRICE_SOURCE;return this},getLabel:function(){if(this._isActivishListing()){var a=redfin.search.common.RestrictedValueAccessor.getRestrictedValue(listing,"hoaDues").valueIfHasAccess();return this.listing.isPendingish()?redfin.search.data.PriceCalculator.LIST_PRICE_LABEL:a?"HOA Dues: "+redfin.util.num.dollars(a)+"/mo.":redfin.search.data.PriceCalculator.PRICE_LABEL}return redfin.search.data.PriceCalculator.LAST_LIST_PRICE_LABEL},
getRestrictedValuePrice:function(){return this._restrictedValuePrice},getPropertyPrice:function(){return redfin.search.common.RestrictedValueAccessor.newRestrictedValue(this.property.get("propertyTransaction.salePrice"))},getListingPrice:function(){return redfin.search.common.RestrictedValueAccessor.getRestrictedValue(this.listing,"listingPrice")},getSalePrice:function(){return redfin.search.common.RestrictedValueAccessor.getRestrictedValue(this.listing,"salePrice")}});b.mixin(redfin.search.data.PriceCalculator,
{UNKNOWN_SOURCE:0,PUBLIC_PRICE_SOURCE:1,LIST_PRICE_SOURCE:2,LAST_SALE_SOURCE:3,LIST_PRICE_LABEL:"Listed at Price",PRICE_LABEL:"Price",LAST_LIST_PRICE_LABEL:"Last List Price",LAST_SOLD_PRICE_LABEL:"Last Sold Price",calculatePrice:function(a){var b=a.get("listing");return b?this.calculateListingPrice(b,a):this.calculatePropertyPrice(a)},calculateListingPrice:function(a,b){var d={price:null,vowRestricted:!1,isListPrice:!1};if(a.isActivish()&&a.get("listingType")!=g_listingTypes.BANK_OWNED)d=this.caculateListingPriceWithListPrice(a);
else{var e=redfin.search.common.RestrictedValueAccessor.getRestrictedValue(a).hasAccess();if(e=a.isPrimaryOfProperty(b)&&!e)d=this.calculatePropertyPrice(b),e=d.price?!0:!1;e||(d=redfin.search.common.RestrictedValueAccessor.getRestrictedValue(a,"salePrice"),d=d.value()&&!d.needAgent()?{price:d.valueIfHasAccess(),isListPrice:!1,adminRestricted:!1,vowRestricted:!d.hasAccess()&&d.isAchievable()}:this.caculateListingPriceWithListPrice(a))}return d},caculateListingPriceWithListPrice:function(a){var b=
{price:null,vowRestricted:!1,isListPrice:!1,adminRestricted:!1};a=redfin.search.common.RestrictedValueAccessor.getRestrictedValue(a,"listingPrice");b.price=a.valueIfHasAccess();a.hasAccess()?(b.adminRestricted=!1,b.vowRestricted=!1,b.isListPrice=a.value()?!0:!1):a.isAchievable()?(b.adminRestricted=!1,b.vowRestricted=!0,b.isListPrice=!0):a.needAgent()&&(b.adminRestricted=!0,b.vowRestricted=!1,b.isListPrice=!1);return b},calculatePropertyPrice:function(a){return{price:a.get("propertyTransaction.salePrice"),
vowRestricted:!1,isListPrice:!1,adminRestricted:!1}},calculatePriceLabelFromPriceResult:function(a,b){if(b&&b.isActivish()){var d=redfin.search.common.RestrictedValueAccessor.getRestrictedValue(b,"hoaDues").valueIfHasAccess();return b.isPendingish()?redfin.search.data.PriceCalculator.LIST_PRICE_LABEL:d?"HOA Dues: "+redfin.util.num.dollars(d)+"/mo.":redfin.search.data.PriceCalculator.PRICE_LABEL}return a.isListPrice?redfin.search.data.PriceCalculator.LAST_LIST_PRICE_LABEL:redfin.search.data.PriceCalculator.LAST_SOLD_PRICE_LABEL}})})},
"redfin/common/elements/Spinner":function(){define("redfin/common/elements/Spinner",["dijit","dojo","dojox","dojo/require!dijit/_Widget,dijit/_TemplatedMixin"],function(h,b,e){b.provide("redfin.common.elements.Spinner");b.require("dijit._Widget");b.require("dijit._TemplatedMixin");b.declare("redfin.common.elements.Spinner",[h._Widget,h._TemplatedMixin],{templateString:b.cache("redfin.common.elements","templates/Spinner.html",'\x3cdiv class\x3d"Spinner spinner hidden" style\x3d"${style}"\x3e\n\t\x3cspan class\x3d"spinnerAnimation"\x3e\x3cimg dojoAttachPoint\x3d"spinnerImage"\x3e\x3c/img\x3e\x3c/span\x3e\n\t\x3cspan class\x3d\'label hidden\' data-dojo-attach-point\x3d\'_labelNode\'\x3e\x3c/span\x3e\n\x3c/div\x3e\n'),
showOnLoad:null,spinnerType:1,style:"",buildRendering:function(){this.inherited(arguments);this.spinnerImage.src=2==this.spinnerType?g_imageServerUrl+"/images/ajax-loader2.gif":g_imageServerUrl+"/images/ajax-loader.gif";!0==this.showOnLoad&&this.show()},_setShownAttr:function(a){this._set("shown",!0===a);this.shown?this.show():this.hide()},_setLabelAttr:function(a){this._set("label",a);this._labelNode.innerHTML=this.label?this.label:"";b.toggleClass(this._labelNode,"hidden",!this.label)},show:function(){b.removeClass(this.domNode,
"hidden")},hide:function(){b.addClass(this.domNode,"hidden")}})})},"redfin/search/browser_detect":function(){define("redfin/search/browser_detect",["dojo/_base/lang","dojo/window"],function(h,b){function e(a){for(var b=0;b<a.length;b++){var c=a[b].string,d=a[b].prop,e=a[b].pattern;f=a[b].versionSearch||a[b].identity;if(c){if(e&&c.match(e)||a[b].subString&&-1!=c.indexOf(a[b].subString))return a[b].identity}else if(d)return a[b].identity}}function a(a){var b=a.indexOf(f);return-1==b?null:parseFloat(a.substring(b+
f.length+1))}var c={browser:null,version:null,OS:null,device:null},d=navigator?navigator.userAgent:"",g=null,f=null,k=/Android|bb\d+|Kindle|Silk|blackberry|iemobile|ip(hone|od|ad)|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|symbian|treo|up\.(browser|link)|windows (ce|phone)|xda|xiino/i,l=/Googlebot/i,m=[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:d,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,
subString:"Linux",identity:"Linux"},{string:d,pattern:/Android (\d+(\.\d+)?(\.\d+)?)/g,identity:"Android"}],p=[{string:d,subString:"iPad",identity:"iPad"}];c.browser=e([{string:d,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:d,subString:"Android",identity:"Android"},{string:d,subString:"Chrome",identity:"Chrome"},{string:d,pattern:/Version\/(\d+(\.\d+)?)(\.\d+)* Mobile\/([a-zA-Z\d]+) Safari\/(\d+(\.\d+)?)/g,identity:"MobileSafari",versionSearch:"OS"},{string:d,pattern:/AppleWebKit\/?(\d+(\.\d+)?)?(\.\d+)? \(KHTML, like Gecko\) [a-zA-Z\/\d\.]* ?Mobile/g,
identity:"IOSWebview",versionSearch:"OS"},{string:d,subString:"Safari",identity:"Safari",versionSearch:"Version"},{string:d,pattern:/Redfin.*Darwin/g,identity:"IOSWebapp"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:d,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:d,subString:"Netscape",identity:"Netscape"},{string:d,
subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:d,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:d,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}])||"An unknown browser";c.version=a(d)||a(navigator.appVersion)||"an unknown version";c.OS=e(m)||"an unknown OS";c.device=e(p)||"an unknown device";h.mixin(c,{isMobileScreenSize:function(){return 768>=b.getBox().h},isMobileBrowser:function(){return k.test(d)?!0:!1},isGoogleBot:function(){return l.test(d)?
!0:!1},supportsVml:function(){if(null===g){var a=document.body.appendChild(document.createElement("div"));a.innerHTML='\x3cv:shape id\x3d"vml_flag1" adj\x3d"1" /\x3e';var b=a.firstChild;b.style.behavior="url(#default#VML)";g=b?"object"==typeof b.adj:!0;a.parentNode.removeChild(a)}return g},supportsCss3Property:function(a){var b=a.charAt(0).toLowerCase()+a.slice(1);if("Webkit"+a in document.body.style||"Moz"+a in document.body.style||"O"+a in document.body.style||b in document.body.style)return!0}});
h.setObject("BrowserDetect",c);return c})},"redfin/search/data/ExtendedListing":function(){define(["dijit","dojo","dojox","dojo/require!redfin/common/data/Listing,redfin/common/data/MethodGenerator,redfin/search/data/AccessLevelMethodGenerator,redfin/search/data/mixins/_AccessLevelMixin,redfin/search/data/PriceCalculator,redfin/search/common/RestrictedValueAccessor"],function(h,b,e){b.provide("redfin.search.data.ExtendedListing");b.require("redfin.common.data.Listing");b.require("redfin.common.data.MethodGenerator");
b.require("redfin.search.data.AccessLevelMethodGenerator");b.require("redfin.search.data.mixins._AccessLevelMixin");b.require("redfin.search.data.PriceCalculator");b.require("redfin.search.common.RestrictedValueAccessor");b.declare("redfin.search.data.ExtendedListing",[redfin.common.data.Listing],{getRestrictedValue:function(a){return redfin.search.common.RestrictedValueAccessor.getRestrictedValue(this,a)},getPriceDisplay:function(){this._calculatedPriceDisplay||(this._calculatedPriceDisplay=redfin.search.data.PriceCalculator.calculateListingPrice(this));
return this._calculatedPriceDisplay},setAccessToPhotos:function(){if(!this._applyAccessToPhotos){for(var a=this.get("photos"),b=0;b<a.length;b++){var d=a[b];d.photoAccessLevel=0==b?this.get("accessLevelWrapper.visibilityProfile.primaryPhotoVisibility"):this.get("accessLevelWrapper.visibilityProfile.allPhotosVisibility");d.listingAccessLevel=this.get("accessLevel")}this._applyAccessToPhotos=!0}},getAchievablePhotos:function(){this.setAccessToPhotos();if(!this._achievablePhotos){this._achievablePhotos=
[];for(var a=0;a<this._photos.length;a++){var b=this._photos[a],d=redfin.search.common.RestrictedValueAccessor.getRestrictedValue(b);(d.hasAccess()||d.isAchievable())&&this._achievablePhotos.push(b)}}return this._achievablePhotos},isForSale:function(){return g_searchStatus.idToObj[this._searchStatus].isForSale},isActivish:function(){return this._searchStatus?g_searchStatus.idToObj[this._searchStatus].isActivish:!1},isPendingish:function(){return redfin.search.common.RestrictedValueAccessor.newRestrictedValue(this._searchStatus===
g_searchStatus.PENDING||this._searchStatus===g_searchStatus.CONTINGENT,this.get("dataSource.pendingSashAccessLevel")).valueIfHasAccess()},hasOpenHouses:function(){var a=this.get("openHouses");return this.isActivish()&&a&&0<a.length},isShortSale:function(){var a=this.get("isShortSale");return this.isActivish()&&a},canGetDirectionsUrl:function(){return this.get("streetNumber")&&this.get("streetName")&&this.getStreetString().length?!0:!1},getPricePerSqFt:function(){var a=this.getPriceDisplay().price,
b=this._approxSqFt;return b&&0<b&&a&&0<a?a/b:null},isListingOfficeOptional:function(){return this.isActivish()?this._accessLevelWrapper.userHasAccess(this.get("dataSource.activishListingOfficeOptionalAccessLevel")):this._accessLevelWrapper.userHasAccess(this.get("dataSource.soldListingOfficeOptionalAccessLevel"))},isListingCoOfficeOptional:function(){return this.isActivish()?this._accessLevelWrapper.userHasAccess(this.get("dataSource.activishListingCoOfficeOptionalAccessLevel")):this._accessLevelWrapper.userHasAccess(this.get("dataSource.soldListingCoOfficeOptionalAccessLevel"))},
listingOfficeAccessLevel:function(){return this.isActivish()?this.get("dataSource.activishListingOfficeOptionalAccessLevel"):this.get("dataSource.soldListingOfficeOptionalAccessLevel")},listingCoOfficeAccessLevel:function(){return this.isActivish()?this.get("dataSource.activishListingCoOfficeOptionalAccessLevel"):this.get("dataSource.soldListingCoOfficeOptionalAccessLevel")},isSellingCoOfficeOptional:function(){return this._accessLevelWrapper.userHasAccess(this.get("dataSource.sellingCoOfficeOptionalAccessLevel"))},
canSocialShare:function(){return this._accessLevelWrapper.userHasAccess(this.get("dataSource.socialSharingAccessLevel"))},canShowActivityStats:function(){return this._accessLevelWrapper.userHasAccess(this.get("dataSource.activityStatsAccessLevel"))},isPrimaryOfProperty:function(a){return a&&(a.get("primarySaleListingId")===this._id||a.get("primaryListingId")===this._id)},isTourable:function(){return this.isActivish()},listingOfficeAccessLevel:function(){return this.isActivish()?this.get("dataSource.activishListingOfficeOptionalAccessLevel"):
this.get("dataSource.soldListingOfficeOptionalAccessLevel")},getLogoImageFilename:function(){return this.get("dataSource.logoImageFilename")}});b.mixin(redfin.search.data.ExtendedListing.prototype,redfin.search.data.mixins._AccessLevelMixin);(function(a){var c=redfin.common.data.Listing,d=redfin.common.data.MethodGenerator.generateMethods;b.forEach("listingType amenities soldRecommendation agentMarket accessLevelWrapper openHouses marketingRemarksAmenity".split(" "),function(a){d(c,a)},this);var e=
redfin.search.data.AccessLevelMethodGenerator.generateAccessLevelGetter;b.forEach("location lotSqFt streetNumber streetName streetType listingAddedDate listingPrice".split(" "),function(a){e(c,a)},this);a=redfin.search.data.AccessLevelMethodGenerator.addAccessLevelForField;var f=redfin.search.data.AccessLevelMethodGenerator.addAccessLevelForAllFields;f(c,["listingAccessLevel"]);a(c,"yearBuilt",["visibilityProfile.yearBuiltVisibility","listingAccessLevel"]);a(c,"location",["visibilityProfile.locationVisibility",
"listingAccessLevel"]);a(c,"streetNumber",["visibilityProfile.streetNumberVisibility","visibilityProfile.streetLineVisibility","listingAccessLevel"]);a(c,"streetName",["visibilityProfile.streetLineVisibility","listingAccessLevel"]);a(c,"streetType",["visibilityProfile.streetLineVisibility","listingAccessLevel"]);a(c,"hoaDues",["visibilityProfile.hoaDuesVisibility","listingAccessLevel"]);a(c,"listingAddedDate",["visibilityProfile.daysOnRedfinVisibility","listingAccessLevel"]);a(c,"dom",["visibilityProfile.daysOnRedfinVisibility",
"listingAccessLevel"]);a(c,"effectiveCdomDate",["visibilityProfile.cumulativeDaysOnRedfinVisibility","listingAccessLevel"]);a(c,"cdom",["visibilityProfile.cumulativeDaysOnRedfinVisibility","listingAccessLevel"]);a(c,"listingPrice",["visibilityProfile.listPriceVisibility","listingAccessLevel"]);a(c,"salePrice",["listingAccessLevel"]);a(c,"lotSqFt",["visibilityProfile.lotSqFtVisibility","listingAccessLevel"]);a(c,"photos",["visibilityProfile.allPhotosVisibility","listingAccessLevel"]);a(c,"achievablePhotos",
["visibilityProfile.allPhotosVisibility","listingAccessLevel"]);a(c,"marketingRemarks",["visibilityProfile.remarksVisibility","listingAccessLevel"]);a(c,"marketingRemarksAmenity",["visibilityProfile.remarksVisibility","listingAccessLevel"]);a(c,"mlsListingModifiedDate",["visibilityProfile.daysOnRedfinVisibility","listingAccessLevel"]);a(c,"isShortSale",["visibilityProfile.shortSaleVisibility","listingAccessLevel"]);a(c,"pricePerSqFt",["visibilityProfile.listPricePerSqFtVisibility","listingAccessLevel"]);
a(c,"streetString",["visibilityProfile.streetNumberVisibility","visibilityProfile.streetLineVisibility","listingAccessLevel"]);a(c,"streetOnlyString",["visibilityProfile.streetLineVisibility","listingAccessLevel"]);a(c,"streetNumberString",["visibilityProfile.streetNumberVisibility","visibilityProfile.streetLineVisibility","listingAccessLevel"]);a(c,"unitDisplayString",["visibilityProfile.streetLineVisibility","listingAccessLevel"]);a(c,"fullStreetString",["visibilityProfile.streetNumberVisibility",
"visibilityProfile.streetLineVisibility","listingAccessLevel"]);a(c,"fullAddressDisplayString",["visibilityProfile.streetNumberVisibility","visibilityProfile.streetLineVisibility","listingAccessLevel"]);a(c,"location",["visibilityProfile.locationVisibility","listingAccessLevel"]);a(c,"approxSqFt",["visibilityProfile.sqFtVisibility","listingAccessLevel"]);a(c,"isPendingish",["listingAccessLevel"]);a(c,"isShortSale",["listingAccessLevel"]);a(c,"hasOpenHouses",["listingAccessLevel"]);var k=function(a){return function(){if(this.get("redfinListingAgent"))return g_accessLevels.PUBLIC;
var b;this._accessLevelWrapper&&(b=this._accessLevelWrapper.getAccessLevel(a,this));b||(b=this.get(a));return b}},f=k("visibilityProfile.listingAgentVisibility"),k=k("visibilityProfile.listingBrokerVisibility");a(c,"redfinListingAgent",[f,"listingAccessLevel"]);a(c,"partnerListingAgent",[f,"listingAccessLevel"]);a(c,"listingAgent",[f,"listingAccessLevel"]);a(c,"listingBroker",[k,"listingAccessLevel"]);a(c,"listingCoAgent",[f,"listingAccessLevel"]);a(c,"listingCoBroker",[k,"listingAccessLevel"]);a(c,
"redfinSellingAgent",["visibilityProfile.sellingAgentVisibility","listingAccessLevel"]);a(c,"partnerSellingAgent",["visibilityProfile.sellingAgentVisibility","listingAccessLevel"]);a(c,"sellingAgent",["visibilityProfile.sellingAgentVisibility","listingAccessLevel"]);a(c,"sellingBroker",["visibilityProfile.sellingBrokerVisibility","listingAccessLevel"]);a(c,"sellingCoAgent",["visibilityProfile.sellingAgentVisibility","listingAccessLevel"]);a(c,"sellingCoBroker",["visibilityProfile.sellingBrokerVisibility",
"listingAccessLevel"]);a(c,"logoImageFilename",["dataSource.logoOptionalAccessLevel"]);a(c,"mlsId",["dataSource.mlsIdOptionalAccessLevel"]);a(c,"listingBrokerName",["listingOfficeAccessLevel"])})(this)})},"dijit/form/_ListMouseMixin":function(){define("dijit/form/_ListMouseMixin","dojo/_base/declare dojo/mouse dojo/on dojo/touch dojo/has ./_ListBase".split(" "),function(h,b,e,a,c,d){return h("dijit.form._ListMouseMixin",d,{postCreate:function(){this.inherited(arguments);this.own(e(this.domNode,"mousedown",
function(a){a.preventDefault()}));this._listConnect("click","_onClick");this._listConnect("mousedown","_onMouseDown");this._listConnect("mouseup","_onMouseUp");this._listConnect("mouseover","_onMouseOver");this._listConnect("mouseout","_onMouseOut")},_onMouseDown:function(a,b){var c=this.selected,d=this._hoveredNode;c&&b==c?this.defer(function(){this._onClick(a,c)}):d&&this.defer(function(){this._onClick(a,d)})},_onClick:function(a,b){this._setSelectedAttr(b);this._deferredClick&&this._deferredClick.remove();
this._deferredClick=this.defer(function(){this._deferredClick=null;this.onClick(b)})},_onMouseUp:function(a,b){this._isDragging=!1;var c=this.selected,d=this._hoveredNode;if(c&&b==c)this.onClick(c);else d&&b==d&&(this._setSelectedAttr(d),this.onClick(d))},_onMouseOut:function(a,b){this._hoveredNode&&(this.onUnhover(this._hoveredNode),this._hoveredNode=null);this._isDragging&&(this._cancelDrag=(new Date).getTime()+1E3)},_onMouseOver:function(a,b){this._cancelDrag&&((new Date).getTime()>this._cancelDrag&&
(this._isDragging=!1),this._cancelDrag=null);this._hoveredNode=b;this.onHover(b);this._isDragging&&this._setSelectedAttr(b)}})})},"url:dijit/form/templates/ValidationTextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"redfin/search/widget/error_dialog":function(){define(["dijit","dojo","dojox","dojo/require!redfin/search/widget/rf_base_dialog,redfin/widget/Button,dijit/_WidgetsInTemplateMixin"],function(h,b,e){b.provide("redfin.search.widget.error_dialog");b.require("redfin.search.widget.rf_base_dialog");b.require("redfin.widget.Button");b.require("dijit._WidgetsInTemplateMixin");b.declare("redfin.search.widget.ErrorDialogGuts",[redfin.search.widget.RfBaseDialogGuts,h._WidgetsInTemplateMixin],{errorMessage:"There was an unexpected error.",
style:"width:350px",widgetsInTemplate:!0,templateString:'\x3cdiv\x3e\x3cdiv id\x3d"${id}-error" class\x3d"error-message"\x3e${!errorMessage}\x3c/div\x3e\x3cdiv class\x3d"popButtons" style\x3d"padding-bottom: 20px; margin: 10px 10px 10px 0;"\x3e\x3cdiv dojoType\x3d"redfin.widget.Button" buttonType\x3d"tertiary" size\x3d"small" style\x3d"width:56px;" label\x3d"OK" dojoAttachPoint\x3d"okButton"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',startup:function(){this.inherited(arguments);b.connect(this.okButton,
"onClick",this.getParent(),"onExecute")}});b.mixin(b.getObject("redfin.search.widget.ErrorDialog",!0),{showError:function(a,b,d){var e={},f={title:"Let's Try Again"};null!==a&&void 0!==a&&(f.title=a);null!==b&&void 0!==b&&(e.errorMessage=b);null!==d&&void 0!==d&&(e.style="width:"+d);return redfin.search.widget.RfBaseDialog.showNewDialog((new redfin.search.widget.ErrorDialogGuts(e)).domNode,f)}})})},"redfin/search/common/_ProgressStateAction":function(){define(["dijit","dojo","dojox","dojo/require!redfin/search/util/LoginUtil"],
function(h,b,e){b.provide("redfin.search.common._ProgressStateAction");b.require("redfin.search.util.LoginUtil");b.declare("redfin.search.common._ProgressStateAction",null,{loginRequired:!0,stopEventOnAction:!1,_stateInProgress:!1,disabled:!1,message:null,connectOnClick:function(a,c){this.connect(a,"onclick",b.hitch(this,this._onButtonAction,c));return this},connectOnDijitClick:function(a,c){this.connect(a,"ondijitclick",b.hitch(this,this._onButtonAction,c));return this},getOnButtonAction:function(){return b.hitch(this,
this._onButtonAction)},_onButtonAction:function(a,c){if(this.disabled||this._stateInProgress)return!1;this._stateInProgress=!0;a&&b.publish(a);this.stopEventOnAction&&b.stopEvent(c);if(this.loginRequired){var d={};this.message&&(d.message=this.message);redfin.util.login.executeLoginAction(this,function(){return this._doButtonAction()},d)}else this._doButtonAction()},_doButtonAction:function(){this.onProgressStart();var a=[];this.onAction(a);if(0==a.length){var c=new b.Deferred;c.resolve({success:!0});
a.push(c)}this.deferredList=new b.DeferredList(a);this.deferredList.addBoth(b.hitch(this,this._endButtonProgress));a=b.hitch(this,this.onActionSuccess);c=b.hitch(this,this.onActionFailure);this.deferredList.then(a,c);return this.deferredList},_endButtonProgress:function(){this._stateInProgress=!1;this.onProgressEnd()},connectOnAction:function(a,c){var d=b.hitch(a,c);this.connect(this,"onAction",d);return this},wrapOnAction:function(a,c){var d=b.hitch(a,c);this.connectOnAction(a,function(a){var b=
d();b&&a.push(b)});return this},connectOnProgressStart:function(a,c){var d=b.hitch(a,c);this.connect(this,"onProgressStart",d);return this},connectOnProgressEnd:function(a,c){var d=b.hitch(a,c);this.connect(this,"onProgressEnd",d);return this},connectOnSuccess:function(a,c){var d=b.hitch(a,c);this.connect(this,"onActionSuccess",d);return this},connectOnFailure:function(a,c){var d=b.hitch(a,c);this.connect(this,"onActionFailure",d);return this},onAction:function(a){},onProgressStart:function(){},onProgressEnd:function(){},
onActionSuccess:function(){},onActionFailure:function(){}})})},"dijit/_OnDijitClickMixin":function(){define("dijit/_OnDijitClickMixin","dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has dojo/_base/unload dojo/_base/window ./a11yclick".split(" "),function(h,b,e,a,c,d,g,f){h=a("dijit._OnDijitClickMixin",null,{connect:function(a,b,c){return this.inherited(arguments,[a,"ondijitclick"==b?f:b,c])}});h.a11yclick=f;return h})},"redfin/common/has/input":function(){define(["dojo/_base/window",
"dojo/has"],function(h,b){function e(b){a.setAttribute("type",b);if(bool="text"!==a.type)a.value=":)",a.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(b)&&void 0!==a.style.WebkitAppearance?(h.body().appendChild(a),defaultView=document.defaultView,bool=defaultView.getComputedStyle&&"textfield"!==defaultView.getComputedStyle(input,null).WebkitAppearance&&0!==a.offsetHeight,h.body().removeChild(a)):/^(search|tel)$/.test(b)||(bool=/^(url|email)$/.test(b)?a.checkValidity&&!1===a.checkValidity():
":)"!=a.value);return bool}var a=document.createElement("input");b.add("input-checkvalidity",function(){return b.isHostType(a,"checkValidity")});b.add("input-type-color",function(){return e("color")});b.add("input-type-search",function(){return e("search")});b.add("input-type-tel",function(){return e("tel")});b.add("input-type-url",function(){return e("url")});b.add("input-type-email",function(){return e("email")});b.add("input-type-datetime",function(){return e("datetime")});b.add("input-type-date",
function(){return e("date")});b.add("input-type-month",function(){return e("month")});b.add("input-type-week",function(){return e("week")});b.add("input-type-time",function(){return e("time")});b.add("input-type-datetime-local",function(){return e("datetime-local")});b.add("input-type-number",function(){return e("number")});b.add("input-type-range",function(){return e("range")});b.add("input-placeholder",function(){return void 0!==a.placeholder});return b})},"redfin/search/widget/location_autocomplete_input_box":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/has dijit/form/ComboBox dijit/form/_ComboBoxMenu redfin/bouncer/Bouncer redfin/search/location_autocomplete_query_read_store".split(" "),
function(h,b,e,a,c,d,g,f){b=h([d],{baseClass:"dijitComboBoxMenu LocationAutocompleteDropdown"});return h("redfin.search.widget.LocationAutocompleteInputBox",[c],{baseClass:"dijitTextBox dijitComboBox LocationAutocomplete",dropDownClass:b,searchAttr:"_displayName",pageSize:10,queryExpr:"${0}",ignoreMarket:!1,mostRecentItem:null,postMixInProperties:function(){this.store=new redfin.search.LocationAutocompleteQueryReadStore;this.store.ignoreMarket=this.ignoreMarket;this.searchDelay=200;g.isOn(g_feature.LOCATION_AUTOCOMPLETE_0MS_DELAY)&&
(this.searchDelay=0);this.autoComplete=!a("mobile-enabled");this.forceWidth=a("mobile-enabled");a("mobile-enabled")&&(this.pageSize=6);this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.textbox.defaultValue=this.textbox.value;this._setHasDownArrowAttr(!1)},setIncludePolys:function(a){this.store.setIncludePolys(a)},_setItemAttr:function(a,b,c){this.mostRecentItem=a;this.inherited(arguments)},_startSearch:function(a){2>=a.length||/^[0-9]/.test(a)?(this._abortQuery(),this.closeDropDown()):
this.inherited(arguments)},onInput:function(a){e.publish("autocomplete:handleInput",a)},_onSelectOption:function(){e.publish("/autocompleteSelect")}})})},"dojox/fx/scroll":function(){define("dojox/fx/scroll","dojo/_base/kernel dojo/_base/lang dojo/_base/fx dojox/fx/_base dojox/fx/_core dojo/dom-geometry dojo/_base/sniff".split(" "),function(h,b,e,a,c,d,g){h.experimental("dojox.fx.scroll");h=b.getObject("dojox.fx",!0);a.smoothScroll=function(a){a.target||(a.target=d.position(a.node));var k=b[g("ie")?
"isObject":"isFunction"](a.win.scrollTo),l=a.target.x,h=a.target.y;if(!k)var p=d.position(a.win),l=l-p.x,h=h-p.y;var n=new e.Animation(b.mixin({beforeBegin:function(){this.curve&&delete this.curve;var b=k?dojo._docScroll():{x:a.win.scrollLeft,y:a.win.scrollTop};n.curve=new c([b.x,b.y],[b.x+l,b.y+h])},onAnimate:k?function(b){a.win.scrollTo(b[0],b[1])}:function(b){a.win.scrollLeft=b[0];a.win.scrollTop=b[1]}},a));return n};return h.smoothScroll=a.smoothScroll})},"redfin/search/map/SearchPageMobile":function(){define("dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-class dojo/text!./templates/SearchPageMobile.html dojo/topic redfin/search/map/topics redfin/search/map/HomeCardResults redfin/search/map/SearchSummary redfin/search/common/widgets/MlsDisclaimer redfin/search/common/widgets/footer/Navigation redfin/search/common/widgets/footer/Footer redfin/search/map/GisHashState".split(" "),
function(h,b,e,a,c,d,g,f,k,l,m,p,n,q,r,t){function u(a){var b=a.slice(0,50),c=[],f=[];d.forEach(b,function(a){a.hasPhotos()?c.push(a):f.push(a)});return c.concat(f,a.slice(50))}return a("redfin.search.map.SearchPageMobile",[b,h,e],{templateString:f,searchSummary:null,homeCardResults:null,postCreate:function(){this.initiateLoadingScreen();this.own(k.subscribe(l.TOPIC_PARCELS_AVAILABLE,c.hitch(this,"loadHomesFromParcels")),k.subscribe(l.TOPIC_MAP_LIST_DONE,c.hitch(this,"endLoadingScreen")))},loadHomesFromParcels:function(a){k.publish(l.TOPIC_PROGRESS_BAR,
{action:redfin.ui.controls.ProgressBar.ACTIONS.START_TASK,task:redfin.search.PROGRESS_BAR_TASKS.LIST});var b=a.parcels;a=[];for(var c=0;c<b.length;c++)for(var d=b[c].homes,f=0;f<d.length;f++)a.push(d[f]);b=t().get("isProximitySearch")?a:u(a);this.searchSummary.set("numResults",b.length);this.homeCardResults.set("homes",b);this.processDisclaimers(a);k.publish(l.TOPIC_PROGRESS_BAR,{action:redfin.ui.controls.ProgressBar.ACTIONS.COMPLETE_TASK,task:redfin.search.PROGRESS_BAR_TASKS.LIST});k.publish(l.TOPIC_PROGRESS_BAR,
{action:redfin.ui.controls.ProgressBar.ACTIONS.CONTINUE_TASK,task:redfin.search.PROGRESS_BAR_TASKS.MAP})},processDisclaimers:function(a){this.footer.destroyDescendants();var b={};if(g_mapMlses){d.forEach(a,function(a){var c=g_mapMlses[a.datasource_id];c&&c.showDisclaimerWithMlsInfo&&(b[a.datasource_id]=c)});for(var c in b)this.footer.addChild(new n({disclaimer:b[c].mlsDisclaimer}))}},initiateLoadingScreen:function(){g.add(this.domNode,"hidden")},endLoadingScreen:function(a){g.remove(this.domNode,
"hidden")}})})},"dojox/timing":function(){define("dojox/timing",["./timing/_base"],function(h){return h})},"redfin/search/data/AccessLevelMethodGenerator":function(){define("redfin/search/data/AccessLevelMethodGenerator",["dijit","dojo","dojox","dojo/require!redfin/common/data/DataObject,redfin/common/data/MethodGenerator"],function(h,b,e){b.provide("redfin.search.data.AccessLevelMethodGenerator");b.require("redfin.common.data.DataObject");b.require("redfin.common.data.MethodGenerator");b.setObject("redfin.search.data.AccessLevelMethodGenerator",
{addAccessLevelForAllFields:function(a,c,d){"undefined"===typeof a.prototype._accessLevels&&b.extend(a,{_accessLevels:{}});"undefined"===typeof a.prototype._accessLevels._this&&(a.prototype._accessLevels._this=[]);a.prototype._accessLevels._this=a.prototype._accessLevels._this.concat(b.isArray(c)?c:[c])},addAccessLevelForField:function(a,c,d,e){c=e?c:"_"+c;"undefined"===typeof a.prototype._accessLevels&&b.extend(a,{_accessLevels:{}});"undefined"===typeof a.prototype._accessLevels[c]&&(a.prototype._accessLevels[c]=
[]);a.prototype._accessLevels[c]=a.prototype._accessLevels[c].concat(b.isArray(d)?d:[d])},generateAccessLevelGetter:function(a,c){var d=redfin.common.data.MethodGenerator._getFieldNameCapitalized(c),e={};e["get"+d]=b.hitch(null,redfin.search.data.AccessLevelMethodGenerator.getFieldWithAccessCheck,c);b.extend(a,e)},getFieldWithAccessCheck:function(a,c){b.deprecated("AccessLevelMethodGenerator.getFieldWithAccessCheck: just use addAccessLevelForField() to setup access mapping, and use the accessor get() to get fields with access checking. Field: "+
a);c=c||{withRestriction:!0};var d="_"+a,e=this[d];if(!c.withRestriction)return e;var d=b.getObject(d,!1,this._accessLevels),f=1;this._accessLevelWrapper&&b.forEach(d,function(a){(a=this._accessLevelWrapper.getAccessLevel(a))&&a>f&&(f=a)},this);return this._accessLevelWrapper&&this._accessLevelWrapper.getUserAccessLevel()<f?null:e}})})},"redfin/common/login_popup":function(){define(["dijit","dojo","dojox","dojo/require!redfin/common/CrossFrameTopic,dojo/cookie,redfin/search/widget/error_dialog,redfin/common/access_level_util,redfin/search/browser_detect"],
function(h,b,e){b.provide("redfin.common.login_popup");b.require("redfin.common.CrossFrameTopic");b.require("dojo.cookie");b.require("redfin.search.widget.error_dialog");b.require("redfin.common.access_level_util");b.require("redfin.search.browser_detect");b.declare("redfin.common.LoginPopup",null,{loginPopupUrl:"",source:null,_deferredCallbacks:null,_loginPayload:null,_welcomeShown:!1,message:null,view:null,email:null,regAlertsDesc:null,regAlertsParams:null,regAlertsType:null,loginOnly:!1,skipUserMenuMultiGet:!1,
constructor:function(a){this.loginPopupUrl=g_secureWebServerUrl+"/stingray/do/login-popup";this.message=a.message;this.view=a.view;this.source=a.source;this.email=a.email;a.regAlertsDesc&&(this.regAlertsDesc=a.regAlertsDesc);a.regAlertsParams&&(this.regAlertsParams=a.regAlertsParams);a.regAlertsType&&(this.regAlertsType=a.regAlertsType);null!==a.loginOnly&&(this.loginOnly=a.loginOnly);"undefined"!==typeof a.skipUserMenuMultiGet&&a.skipUserMenuMultiGet&&(this.skipUserMenuMultiGet=!0)},show:function(){this._deferredCallbacks&&
this._deferredCallbacks.cancel();this._deferredCallbacks=new b.Deferred;if(!this.loginPopupUrl||""===this.loginPopupUrl)throw Error("loginPopupUrl must be set on the LoginPopup before calling show");this._loginTopic=new redfin.common.CrossFrameTopic(redfin.common.LoginPopup.LOGIN_TOPIC);this._loginTopic.subscribe(b.hitch(this,this.updateLogin));this.loginOnly||(this._welcomeShownTopic=new redfin.common.CrossFrameTopic(redfin.common.LoginPopup.WELCOME_SHOWN_TOPIC),this._welcomeShownTopic.subscribe(b.hitch(this,
this.updateWelcomeShown)));if(redfin.common.LoginPopup._singletonLoginWindow&&!redfin.common.LoginPopup._singletonLoginWindow.closed)try{redfin.common.LoginPopup._singletonLoginWindow.close()}catch(a){console.warn("Could not close previous login window.  Error follows in next log message.",a)}var c=this.loginPopupUrl,d=!1;this.message&&this.view?(c+="?message\x3d"+this.message+"\x26view\x3d"+this.view,d=!0):this.message?(c+="?message\x3d"+this.message,d=!0):this.view&&(c+="?view\x3d"+this.view,d=
!0);this.source&&0<this.source.length&&(d?c+="\x26ll\x3d"+this.source:(c+="?ll\x3d"+this.source,d=!0));this.regAlertsType&&(d?c+="\x26":(c+="?",d=!0),c+="regAlertsType\x3d"+this.regAlertsType,this.regAlertsParams&&(c+="\x26regAlertsParams\x3d"+this.regAlertsParams),this.regAlertsDesc&&(c+="\x26regAlertsDesc\x3d"+this.regAlertsDesc));this.loginOnly&&(d?c+="\x26":(c+="?",d=!0),c+="loginOnly\x3d"+this.loginOnly);this.email&&(c=(d?c+"\x26":c+"?")+("email\x3d"+encodeURIComponent(this.email)));d=460;if(b.isChrome||
b.isSafari)d=490;redfin.common.LoginPopup._singletonLoginWindow=window.open(c,"_blank","height\x3d"+d+",width\x3d690,scrollbars\x3dno");if(!redfin.common.LoginPopup._singletonLoginWindow)return redfin.search.widget.ErrorDialog.showError("Popup Blocker Detected","We have detected a popup blocker that makes it impossible for us to pop up a login window.  Click \x3ca href\x3d'"+g_secureWebServerUrl+"/stingray/do/login?redirect-path\x3d"+encodeURIComponent(window.location.href)+"'\x3ehere\x3c/a\x3e to log in and return to this page."),
null;redfin.common.LoginPopup._singletonAddedOnUnload||(redfin.common.LoginPopup._singletonAddedOnUnload=!0);return this._deferredCallbacks},updateLogin:function(a){if(!a||!a.payload)throw Error("loggedInUser must be non-null.");this._loggedInArgs=a;this._loginTopic&&(this._loginTopic.unsubscribe(),this._loginTopic=null);this.loginCallbackIfNeeded()},updateWelcomeShown:function(a){this._welcomeShown=!0;this._welcomeShownTopic&&(this._welcomeShownTopic.unsubscribe(),this._welcomeShownTopic=null);this.loginCallbackIfNeeded()},
loginCallbackIfNeeded:function(){var a="MobileSafari"==b.global.BrowserDetect.browser;if(this._loggedInArgs&&(this.loginOnly||!this._loggedInArgs.justRegistered||this._welcomeShown||a)){var a=this._loggedInArgs,c=a.payload;c.skipUserMenuMultiGet=this.skipUserMenuMultiGet;b.publish("onLogin",[c]);var d=[];if(this._deferredCallbacks)try{this._deferredCallbacks.callback({user:c,callbacks:d,justLoggedIn:!0,justRegistered:a.justRegistered})}catch(e){}var f=d.length;0===f?b.publish("onLoginDone",[c]):b.forEach(d,
function(a){a.addCallback(function(){f--;0>=f&&b.publish("onLoginDone",[c])})})}},onWindowUnload:function(a){if(redfin.common.LoginPopup._singletonLoginWindow&&!redfin.common.LoginPopup._singletonLoginWindow.closed)try{redfin.common.LoginPopup._singletonLoginWindow.close()}catch(b){console.warn("Could not close login popup window.",b)}},destroy:function(){this._loginTopic&&(this._loginTopic.unsubscribe(),this._loginTopic=null);this._welcomeShownTopic&&(this._welcomeShownTopic.unsubscribe(),this._welcomeShownTopic=
null);this._deferredCallbacks&&this._deferredCallbacks.cancel()}});b.mixin(redfin.common.LoginPopup,{LOGIN_TOPIC:"login_topic",WELCOME_SHOWN_TOPIC:"welcome_topic",_singletonLoginWindow:null,_singletonLogin:null,_singletonAddedOnUnload:null,regAlertsFunc:null,showNewDialog:function(a){redfin.common.LoginPopup.regAlertsDesc&&redfin.common.LoginPopup.regAlertsDesc()&&(a||(a={}),a.regAlertsDesc=encodeURIComponent(redfin.common.LoginPopup.regAlertsDesc()));redfin.common.LoginPopup.regAlertsParams&&redfin.common.LoginPopup.regAlertsParams()&&
(a||(a={}),a.regAlertsParams=encodeURIComponent(redfin.common.LoginPopup.regAlertsParams()));redfin.common.LoginPopup.regAlertsType&&redfin.common.LoginPopup.regAlertsType()&&(a||(a={}),a.regAlertsType=encodeURIComponent(redfin.common.LoginPopup.regAlertsType()));this._singletonLogin&&this._singletonLogin.destroy();this._singletonLogin=new redfin.common.LoginPopup(a);return this._singletonLogin.show()},showNewDialogIfNeeded:function(a){return redfin.common.AccessLevelUtil.isLoggedIn()&&("undefined"!==
typeof b.cookie("RF_SECURE_KEY")||"undefined"!==typeof b.cookie("RF_AUTH")||"undefined"!==typeof b.cookie("RF_SECURE_AUTH"))?(a=new b.Deferred,"undefined"!==typeof g_jsonLogin?a.callback({user:g_jsonLogin,callbacks:[],justLoggedIn:!1}):a.callback({callbacks:[],justLoggedIn:!1}),a):redfin.common.LoginPopup.showNewDialog(a)}})})},"redfin/tours/tour_util":function(){define("redfin/tours/tour_util",["dijit","dojo","dojox","dojo/require!redfin/commerce/choose_an_agent,redfin/common/util,redfin/common/access_level_util,redfin/search/common/dialogs/ConfirmDialog"],
function(h,b,e){b.provide("redfin.tours.tour_util");b.require("redfin.commerce.choose_an_agent");b.require("redfin.common.util");b.require("redfin.common.access_level_util");b.require("redfin.search.common.dialogs.ConfirmDialog");b.declare("redfin.tours.tour_util",null,{});b.mixin(redfin.tours.tour_util,{_agcConnectButtonURL:"",_contingentDialogRequired:!1,_listingID:"",_conversionExperimentID:"",setAGCConnectButtonURL:function(a){this._agcConnectButtonURL=a},getAGCConnectButtonURL:function(){return this._agcConnectButtonURL},
setValues:function(a,b,d){this._contingentDialogRequired=a;this._listingID=b;this._conversionExperimentID=d},onAddToCart:function(a,b,d,e){e?redfin.common.AccessLevelUtil.onlyHasRfPartyId()?redfin.common.LoginPopup.showNewDialogIfNeeded({message:"add-to-tour"}).addCallback(d):d():redfin.common.AccessLevelUtil.isLoggedIn()?d():redfin.common.LoginPopup.showNewDialogIfNeeded({message:"add-to-tour"}).addCallback(d)},onConnectGoSeeThisHome:function(a){""!==a&&(this._agcConnectButtonURL=a);redfin.commerce.choose_an_agent.resetForm();
setTimeout(b.hitch(this,function(){window.top.location=this._agcConnectButtonURL}),0);return!0},submitTourCallback:function(a,c,d,e,f){if(a){b.global.g_printableListingController&&b.global.g_printableListingController.setReloadOnLoginDone(!1);var k="tourHome";e&&(k+=e);b.subscribe("onLogin",null,function(){b.unsubscribe(redfin.search.common.LoginAction.prototype.onLoginDoneHandle)});redfin.tours.tour_util.onAddToCart(c,d,function(a){b.publish("commandExecuted:tour");setTimeout(function(){b.byId(k).submit()},
0,f)});return!0}return!1},confirmTour:function(a,c){if(this._contingentDialogRequired)return(new redfin.search.common.dialogs.ConfirmDialog({title:"Tour this home",positive:"Yes, I'd like to see the home anyway",negative:"No, do not tour this property",dialogContent:"You are requesting a tour for a home that is Contingent, which means that an offer has already been accepted on the property, contingent on items such as a successful inspection, financing, or the sale of the buyer's home.  Do you want to proceed anyway?",
onPositive:b.hitch(this,"submitTourCallback",!0,this._listingID,this._conversionExperimentID,a,c)})).show(),!1;this.submitTourCallback(!0,this._listingID,this._conversionExperimentID,a,c)},submitOfferCallback:function(a,b){return a?(setTimeout(function(){window.top.location=b},0),!0):!1},confirmOffer:function(a,c){if(this._contingentDialogRequired)return(new redfin.search.common.dialogs.ConfirmDialog({title:"Listing Status Warning",positive:"Yes, I'd like to make an offer anyway",negative:"No, do not make an offer",
dialogContent:"You are starting an offer on a listing that has a status of '"+c+"'. Listings that have a status of '"+c+"' have an accepted offer that is typically contingent on one or more items such as a successful inspection, buyer financing, or the sale of the buyer's current home. Sellers may in some cases still be interested in receiving a backup offer. \x3cbr /\x3e\x3cbr /\x3eAre you sure you want to continue?",onPositive:b.hitch(this,"submitOfferCallback",!0,a)})).show(),!1;this.submitOfferCallback(!0,
a)},confirmTourOrOnConnectGoSeeThisHome:function(a,b){if(a)this.confirmTour(1,b);else if(""!==this._agcConnectButtonURL)this.onConnectGoSeeThisHome(this._agcConnectButtonURL);else this.confirmTour(null,b)},trackTourButtonClick:function(a,c){b.publish("tourButton:onClick");b.global._gaq&&b.global._gaq.push(["_trackEvent","Tour",a,c?c:null,null])}})})},"dijit/form/_FormValueMixin":function(){define("dijit/form/_FormValueMixin",["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/sniff","./_FormWidgetMixin"],
function(h,b,e,a,c){return h("dijit.form._FormValueMixin",c,{readOnly:!1,_setReadOnlyAttr:function(a){b.set(this.focusNode,"readOnly",a);this.focusNode.setAttribute("aria-readonly",a);this._set("readOnly",a)},postCreate:function(){this.inherited(arguments);a("ie")&&this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.value)},_setValueAttr:function(a,b){this._handleOnChange(a,b)},_handleOnChange:function(a,
b){this._set("value",a);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1;this._setValueAttr(this._resetValue,!0)},_onKeyDown:function(b){if(b.keyCode==e.ESCAPE&&(!b.ctrlKey&&!b.altKey&&!b.metaKey)&&(9>a("ie")||a("ie")&&a("quirks"))){b.preventDefault();var c=b.srcElement,f=c.ownerDocument.createEventObject();f.keyCode=e.ESCAPE;f.shiftKey=b.shiftKey;c.fireEvent("onkeypress",f)}}})})},"dojo/date/stamp":function(){define(["../_base/lang",
"../_base/array"],function(h,b){var e={};h.setObject("dojo.date.stamp",e);e.fromISOString=function(a,c){e._isoRegExp||(e._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var d=e._isoRegExp.exec(a),g=null;if(d){d.shift();d[1]&&d[1]--;d[6]&&(d[6]*=1E3);c&&(c=new Date(c),b.forEach(b.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),function(a){return c["get"+a]()}),function(a,b){d[b]=d[b]||a}));g=new Date(d[0]||
1970,d[1]||0,d[2]||1,d[3]||0,d[4]||0,d[5]||0,d[6]||0);100>d[0]&&g.setFullYear(d[0]||1970);var f=0,k=d[7]&&d[7].charAt(0);"Z"!=k&&(f=60*(d[8]||0)+(Number(d[9])||0),"-"!=k&&(f*=-1));k&&(f-=g.getTimezoneOffset());f&&g.setTime(g.getTime()+6E4*f)}return g};e.toISOString=function(a,b){var d=function(a){return 10>a?"0"+a:a};b=b||{};var e=[],f=b.zulu?"getUTC":"get",k="";"time"!=b.selector&&(k=a[f+"FullYear"](),k=["0000".substr((k+"").length)+k,d(a[f+"Month"]()+1),d(a[f+"Date"]())].join("-"));e.push(k);if("date"!=
b.selector){k=[d(a[f+"Hours"]()),d(a[f+"Minutes"]()),d(a[f+"Seconds"]())].join(":");f=a[f+"Milliseconds"]();b.milliseconds&&(k+="."+(100>f?"0":"")+d(f));if(b.zulu)k+="Z";else if("time"!=b.selector)var f=a.getTimezoneOffset(),l=Math.abs(f),k=k+((0<f?"-":"+")+d(Math.floor(l/60))+":"+d(l%60));e.push(k)}return e.join("T")};return e})},"redfin/commerce/choose_an_agent":function(){define(["dijit","dojo","dojox"],function(h,b,e){b.provide("redfin.commerce.choose_an_agent");redfin.commerce.choose_an_agent.resetForm=
function(){b.cookie(redfin.commerce.choose_an_agent.AgentChooser.COOKIE_NAME,null,{expires:-1,path:"/",domain:cookieDomain})};redfin.commerce.choose_an_agent.AgentChooser=function(a,c,d,e,f){this.agentUrlContext=e;this.service=f;(e=b.byId("market_id"))&&b.connect(e,"onchange",this,"onChangeMarket");for(var k in allMarkets)(e=b.byId("service_region_id_"+k))&&b.connect(e,"onchange",this,"onClickServiceRegion");b.connect(h.byId("agent_chooser"),"onAgentChosen",this,"chooseAgent");b.connect(h.byId("agent_chooser"),
"onAgentClicked",this,"clickAgent");this.prePopulateFormFields(a,c,d)};redfin.commerce.choose_an_agent.AgentChooser.COOKIE_NAME="selected_values";redfin.commerce.choose_an_agent.AgentChooser.COOKIE_KEY_MARKET="selected_market_id";redfin.commerce.choose_an_agent.AgentChooser.COOKIE_KEY_SERVICE_REGIONS="selected_service_region_ids";redfin.commerce.choose_an_agent.AgentChooser.COOKIE_KEY_AGENT_SLUG="selected_agent_slug";redfin.commerce.choose_an_agent.AgentChooser.prototype.prePopulateFormFields=function(a,
c,d){var e=this.getPreselectedValues(redfin.commerce.choose_an_agent.AgentChooser.COOKIE_KEY_MARKET);e&&b.byId("market_"+e)?(b.byId("market_id").value=e,this.selectMarket(e),(a=this.getPreselectedValues(redfin.commerce.choose_an_agent.AgentChooser.COOKIE_KEY_SERVICE_REGIONS))&&""!=a?(a=a.split(","),b.byId("service_region_id_"+e).value=a[0],this.selectServiceRegions(a)):b.byId("service_region_id_"+e).value="-"):a&&""!=a&&b.byId("market_"+a)?(b.byId("market_id").value=a,this.selectMarket(a),c&&0<c.length?
(b.byId("service_region_id_"+a).value=c[0],this.selectServiceRegions(c)):b.byId("service_region_id_"+a).value="-"):d&&(""!=d&&b.byId("market_"+d))&&(this.clearServiceRegionsDisplay(),b.byId("market_id").value=d,this.selectMarket(d))};redfin.commerce.choose_an_agent.AgentChooser.prototype.getSelectedMarketId=function(){var a=b.byId("market_id");return a?(a=a.value)&&"-"!=a?a:null:null};redfin.commerce.choose_an_agent.AgentChooser.prototype.getSelectedServiceRegionId=function(){var a=b.byId("service_region_id_"+
this.getSelectedMarketId());return a?[a.value]:null};redfin.commerce.choose_an_agent.AgentChooser.prototype.onChangeMarket=function(a){this.clearServiceRegionsDisplay();this.selectMarket(a.target.value)};redfin.commerce.choose_an_agent.AgentChooser.prototype.selectMarket=function(a){if(a&&"-"!=a){this.setPreselectedValues(redfin.commerce.choose_an_agent.AgentChooser.COOKIE_KEY_MARKET,a);var c=b.byId("service_regions_"+a),d=b.query("option",c);2==d.length?(b.style(b.byId("service_region_chooser"),
"display","none"),c=d[1].value,b.byId("service_region_id_"+a).value=c,this.selectServiceRegions([c])):(b.style(b.byId("service_region_chooser"),"display","block"),c&&b.style(c,"display","block"))}else this.clearPreselectedValues(redfin.commerce.choose_an_agent.AgentChooser.COOKIE_KEY_MARKET)};redfin.commerce.choose_an_agent.AgentChooser.prototype.clearServiceRegionsDisplay=function(){this.clearPreselectedValues(redfin.commerce.choose_an_agent.AgentChooser.COOKIE_KEY_SERVICE_REGIONS);this.clearPreselectedValues(redfin.commerce.choose_an_agent.AgentChooser.COOKIE_KEY_AGENT_SLUG);
b.style(b.byId("service_region_chooser"),"display","none");for(var a in allMarkets){var c=b.byId("service_regions_"+a);c&&b.style(c,"display","none");b.byId("service_region_id_"+a)&&(b.byId("service_region_id_"+a).value="-")}this.setAgentSelectorDisplay(!1,!1)};redfin.commerce.choose_an_agent.AgentChooser.prototype.setAgentSelectorDisplay=function(a,c){var d=b.byId("agent_chooser");d&&(c?b.style(d,"visibility","visible"):b.style(d,"visibility","hidden"));(d=b.byId("agent_chooser_container"))&&(a?
b.style(d,"visibility","visible"):b.style(d,"visibility","hidden"))};redfin.commerce.choose_an_agent.AgentChooser.prototype.onClickServiceRegion=function(a){a=a.target.value;"-"!=a&&this.selectServiceRegions([a])};redfin.commerce.choose_an_agent.AgentChooser.prototype.selectServiceRegions=function(a){if(a&&0<a.length){this.setPreselectedValues(redfin.commerce.choose_an_agent.AgentChooser.COOKIE_KEY_SERVICE_REGIONS,a.join(","));this.setAgentSelectorDisplay(!0,!1);var c=b.byId("agent_chooser_loading");
c&&(c.innerHTML='\x3ctable\x3e\x3ctr\x3e\x3ctd\x3e\x3cimg src\x3d"'+g_imageServerUrl+'/images/spinner_loading.gif"\x3e\x3c/td\x3e\x3ctd style\x3d"vertical-align:middle;"\x3eLoading...\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e',b.style(c,"display","block"));this.sendAgentsAPIRequest(a)}else this.clearPreselectedValues(redfin.commerce.choose_an_agent.AgentChooser.COOKIE_KEY_SERVICE_REGIONS),this.clearPreselectedValues(redfin.commerce.choose_an_agent.AgentChooser.COOKIE_KEY_AGENT_SLUG),this.setAgentSelectorDisplay(!1,
!1)};redfin.commerce.choose_an_agent.AgentChooser.prototype.sendAgentsAPIRequest=function(a){var c=g_webServerUrl+"/stingray/do/api-get-agents?service_region_ids\x3d",c=c+a.join(",");this.service&&(c+="\x26service\x3d"+this.service);var d=this;this.runAjaxReqCancelPrev({url:c,load:function(a,c){b.addOnLoad(function(){d.handleAgentsAPIResponse(a)})},error:function(a,c){b.addOnLoad(function(){d.handleAgentsAPIError(a)})},handleAs:"json"})};redfin.commerce.choose_an_agent.AgentChooser.prototype.handleAgentsAPIResponse=
function(a){var c=b.byId("service_region_id_"+this.getSelectedMarketId()).value,d=[],e=serviceRegionsByMarket[this.getSelectedMarketId()][c];if(e){var f={};f.id=c;f.name=e.name;f.srType=e.srType;d.push(f)}h.byId("agent_chooser").setAgentData(a.payload.agents,d,this.getPreselectedValues(redfin.commerce.choose_an_agent.AgentChooser.COOKIE_KEY_AGENT_SLUG),a.payload.agentDealsByRegion,a.payload.agentReviews,a.payload.agentDealCountForYear);(a=b.byId("agent_chooser_loading"))&&b.style(a,"display","none");
this.setAgentSelectorDisplay(!0,!0)};redfin.commerce.choose_an_agent.AgentChooser.prototype.handleAgentsAPIError=function(a){if(!a||!(a.dojoType&&"cancel"==a.dojoType))b.byId("agent_chooser_loading").innerHTML="We're sorry, there was an error getting the list of agents.\x3cbr/\x3ePlease try again later."};redfin.commerce.choose_an_agent.AgentChooser.prototype.getPreselectedValues=function(a){var c=b.fromJson(b.cookie(redfin.commerce.choose_an_agent.AgentChooser.COOKIE_NAME));return c?c[a]:null};redfin.commerce.choose_an_agent.AgentChooser.prototype.setPreselectedValues=
function(a,c){var d=b.fromJson(b.cookie(redfin.commerce.choose_an_agent.AgentChooser.COOKIE_NAME));d||(d={});d[a]=c;b.cookie(redfin.commerce.choose_an_agent.AgentChooser.COOKIE_NAME,b.toJson(d),{path:"/",domain:cookieDomain})};redfin.commerce.choose_an_agent.AgentChooser.prototype.clearPreselectedValues=function(a){var c=b.fromJson(b.cookie(redfin.commerce.choose_an_agent.AgentChooser.COOKIE_NAME));c&&c[a]&&(c[a]=null,b.cookie(redfin.commerce.choose_an_agent.AgentChooser.COOKIE_NAME,b.toJson(c),{path:"/",
domain:cookieDomain}))};redfin.commerce.choose_an_agent.AgentChooser.prototype.runAjaxReqCancelPrev=function(a){if(null!=this.g_CurrentRunningAjaxReq)try{this.g_CurrentRunningAjaxReq.cancel()}catch(c){console.error("Error in AgentChooser.runAjaxReqCancelPrev aborting previous request",c)}var d=a.load,e=this;a.load=function(a,b,c){e.g_CurrentRunningAjaxReq=null;d(a,b,c)};var f=a.error;a.error=function(a,b){e.g_CurrentRunningAjaxReq=null;f(a,b)};return this.g_CurrentRunningAjaxReq=b.xhrGet(a)};redfin.commerce.choose_an_agent.AgentChooser.prototype.clickAgent=
function(a){this.setPreselectedValues(redfin.commerce.choose_an_agent.AgentChooser.COOKIE_KEY_AGENT_SLUG,a)};redfin.commerce.choose_an_agent.AgentChooser.prototype.chooseAgent=function(a,b){this.agentUrlContext.setService(b);var d=this.agentUrlContext.toObjectSeparateDataSourceMls();a&&(d.agent=a);this.getSelectedMarketId()&&""!=this.getSelectedMarketId()&&(d.market=this.getSelectedMarketId());var e=this.getSelectedServiceRegionId();0<e.length&&(d.serviceRegionId=e);window.location=encodeURI("/myredfin/choose-an-agent/about-you?"+
redfin.util.NameValue.constructQueryString(d))}})},"redfin/common/pretty_date":function(){define(["dijit","dojo","dojox"],function(h,b,e){b.provide("redfin.common.pretty_date");b.declare("redfin.common.PrettyDate",null,{});b.mixin(redfin.common.PrettyDate,{fromXsiString:function(a){a=(""+a).replace(/-/g,"/").replace(/[TZ]/g," ");return redfin.common.PrettyDate.fromEpochTime(a)},fromEpochTime:function(a){var b=new Date;return redfin.common.PrettyDate.fromMsAgo(b-new Date(a)+6E4*b.getTimezoneOffset())},
fromMsAgo:function(a){var b=[[60,"Just Now"],[90,"1 Minute"],[3600,"Minutes",60],[5400,"1 Hour"],[86400,"Hours",3600],[129600,"1 Day"],[604800,"Days",86400],[907200,"1 Week"],[2628E3,"Weeks",604800],[3942E3,"1 Month"],[31536E3,"Months",2628E3],[47304E3,"1 Year"],[31536E5,"Years",31536E3],[47304E5,"1 Century"]];a/=1E3;var d=" Ago",e=0,f;0>a&&(a=Math.abs(a),d="");for(;f=b[e++];)if(a<f[0])return 2==f.length?f[1]+(1<e?d:""):Math.round(a/f[2])+" "+f[1]+(1<e?d:"");return 47304E5<a?Math.round(a/47304E5)+
" Centuries"+d:date_str}})})},"dijit/form/_AutoCompleterMixin":function(){define("dijit/form/_AutoCompleterMixin","dojo/data/util/filter dojo/_base/declare dojo/dom-attr dojo/_base/event dojo/keys dojo/_base/lang dojo/query dojo/regexp dojo/sniff dojo/string ./DataList ../registry ./_TextBoxMixin ./_SearchMixin".split(" "),function(h,b,e,a,c,d,g,f,k,l,m,p,n,q){return b("dijit.form._AutoCompleterMixin",q,{item:null,autoComplete:!0,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:!1,
_getCaretPos:function(a){var b=0;if("number"==typeof a.selectionStart)b=a.selectionStart;else if(k("ie")){var c=a.ownerDocument.selection.createRange().duplicate();a=a.createTextRange();c.move("character",0);a.move("character",0);try{a.setEndPoint("EndToEnd",c),b=String(a.text).replace(/\r/g,"").length}catch(d){}}return b},_setCaretPos:function(a,b){b=parseInt(b);n.selectInputText(a,b,b)},_setDisabledAttr:function(a){this.inherited(arguments);this.domNode.setAttribute("aria-disabled",a?"true":"false")},
_onKey:function(b){if(!(32<=b.charCode)){var d=b.charCode||b.keyCode;if(!(d==c.ALT||d==c.CTRL||d==c.META||d==c.SHIFT)){var f=this.dropDown,e=null;this._abortQuery();this.inherited(arguments);if(!b.altKey&&!b.ctrlKey&&!b.metaKey)switch(this._opened&&(e=f.getHighlightedOption()),d){case c.PAGE_DOWN:case c.DOWN_ARROW:case c.PAGE_UP:case c.UP_ARROW:this._opened&&this._announceOption(e);a.stop(b);break;case c.ENTER:if(e){if(e==f.nextButton){this._nextSearch(1);a.stop(b);break}else if(e==f.previousButton){this._nextSearch(-1);
a.stop(b);break}a.stop(b)}else this._setBlurValue(),this._setCaretPos(this.focusNode,this.focusNode.value.length);case c.TAB:d=this.get("displayedValue");if(f&&(d==f._messages.previousMessage||d==f._messages.nextMessage))break;e&&this._selectOption(e);case c.ESCAPE:this._opened&&(this._lastQuery=null,this.closeDropDown())}}}},_autoCompleteText:function(a){var b=this.focusNode;n.selectInputText(b,b.value.length);var c=this.ignoreCase?"toLowerCase":"substr";0==a[c](0).indexOf(this.focusNode.value[c](0))?
(c=this.autoComplete?this._getCaretPos(b):b.value.length,c+1>b.value.length&&(b.value=a,n.selectInputText(b,c))):(b.value=a,n.selectInputText(b))},_openResultList:function(a,b,c){var f=this.dropDown.getHighlightedOption();this.dropDown.clearResultList();!a.length&&0==c.start?this.closeDropDown():(this._nextSearch=this.dropDown.onPage=d.hitch(this,function(b){a.nextPage(-1!==b);this.focus()}),this.dropDown.createOptions(a,c,d.hitch(this,"_getMenuLabelFromItem")),this._showResultList(),"direction"in
c?(c.direction?this.dropDown.highlightFirstOption():c.direction||this.dropDown.highlightLastOption(),f&&this._announceOption(this.dropDown.getHighlightedOption())):this.autoComplete&&(!this._prev_key_backspace&&!/^[*]+$/.test(b[this.searchAttr].toString()))&&this._announceOption(this.dropDown.containerNode.firstChild.nextSibling))},_showResultList:function(){this.closeDropDown(!0);this.openDropDown();this.domNode.setAttribute("aria-expanded","true")},loadDropDown:function(){this._startSearchAll()},
isLoaded:function(){return!1},closeDropDown:function(){this._abortQuery();this._opened&&(this.inherited(arguments),this.domNode.setAttribute("aria-expanded","false"),this.focusNode.removeAttribute("aria-activedescendant"))},_setBlurValue:function(){var a=this.get("displayedValue"),b=this.dropDown;b&&(a==b._messages.previousMessage||a==b._messages.nextMessage)?this._setValueAttr(this._lastValueReported,!0):"undefined"==typeof this.item?(this.item=null,this.set("displayedValue",a)):(this.value!=this._lastValueReported&&
this._handleOnChange(this.value,!0),this._refreshState())},_setItemAttr:function(a,b,c){var d="";a&&(c||(c=this.store._oldAPI?this.store.getValue(a,this.searchAttr):a[this.searchAttr]),d=this._getValueField()!=this.searchAttr?this.store.getIdentity(a):c);this.set("value",d,b,c,a)},_announceOption:function(a){if(a){var b;if(a==this.dropDown.nextButton||a==this.dropDown.previousButton)b=a.innerHTML,this.item=void 0,this.value="";else{var c=this.dropDown.items[a.getAttribute("item")];b=(this.store._oldAPI?
this.store.getValue(c,this.searchAttr):c[this.searchAttr]).toString();this.set("item",c,!1,b)}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",e.get(a,"id"));this._autoCompleteText(b)}},_selectOption:function(a){this.closeDropDown();a&&this._announceOption(a);this._onSelectOption();this._setCaretPos(this.focusNode,this.focusNode.value.length);this._handleOnChange(this.value,!0)},_onSelectOption:function(){},_startSearchAll:function(){this._startSearch("")},
_startSearchFromInput:function(){this.item=void 0;this.inherited(arguments)},_startSearch:function(a){if(!this.dropDown){var b=this.id+"_popup";this.dropDown=new (d.isString(this.dropDownClass)?d.getObject(this.dropDownClass,!1):this.dropDownClass)({onChange:d.hitch(this,this._selectOption),id:b,dir:this.dir,textDir:this.textDir});this.focusNode.removeAttribute("aria-activedescendant");this.textbox.setAttribute("aria-owns",b)}this._lastInput=a;this.inherited(arguments)},_getValueField:function(){return this.searchAttr},
postMixInProperties:function(){this.inherited(arguments);if(!this.store&&(this.store=new m({},this.srcNodeRef),!("value"in this.params))){var a=this.item=this.store.fetchSelectedItem();if(a){var b=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(a,b):a[b]}}},postCreate:function(){var a=g('label[for\x3d"'+this.id+'"]');a.length&&(a[0].id||(a[0].id=this.id+"_label"),this.domNode.setAttribute("aria-labelledby",a[0].id));this.inherited(arguments);this.connect(this,"onSearch","_openResultList")},
_getMenuLabelFromItem:function(a){a=this.labelFunc(a,this.store);var b=this.labelType;"none"!=this.highlightMatch&&("text"==this.labelType&&this._lastInput)&&(a=this.doHighlight(a,this._lastInput),b="html");return{html:"html"==b,label:a}},doHighlight:function(a,b){var c=(this.ignoreCase?"i":"")+("all"==this.highlightMatch?"g":""),d=this.queryExpr.indexOf("${0}");b=f.escapeString(b);return this._escapeHtml(a.replace(RegExp((0==d?"^":"")+"("+b+")"+(d==this.queryExpr.length-4?"$":""),c),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,
'\x3cspan class\x3d"dijitComboBoxHighlightMatch"\x3e$1\x3c/span\x3e')},_escapeHtml:function(a){return a=String(a).replace(/&/gm,"\x26amp;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").replace(/"/gm,"\x26quot;")},reset:function(){this.item=null;this.inherited(arguments)},labelFunc:function(a,b){return(b._oldAPI?b.getValue(a,this.labelAttr||this.searchAttr):a[this.labelAttr||this.searchAttr]).toString()},_setValueAttr:function(a,b,c,d){this._set("item",d||null);null==a&&(a="");this.inherited(arguments)},
_setTextDirAttr:function(a){this.inherited(arguments);this.dropDown&&this.dropDown._set("textDir",a)}})})},"dijit/place":function(){define("dijit/place","dojo/_base/array dojo/dom-geometry dojo/dom-style dojo/_base/kernel dojo/_base/window dojo/window ./main".split(" "),function(h,b,e,a,c,d,g){function f(a,f,e,g){var n=d.getBox(a.ownerDocument);(!a.parentNode||"body"!=String(a.parentNode.tagName).toLowerCase())&&c.body(a.ownerDocument).appendChild(a);var q=null;h.some(f,function(c){var d=c.corner,
f=c.pos,l=0,h={w:{L:n.l+n.w-f.x,R:f.x-n.l,M:n.w}[d.charAt(1)],h:{T:n.t+n.h-f.y,B:f.y-n.t,M:n.h}[d.charAt(0)]},s=a.style;s.left=s.right="auto";e&&(l=e(a,c.aroundCorner,d,h,g),l="undefined"==typeof l?0:l);var r=a.style,C=r.display,A=r.visibility;"none"==r.display&&(r.visibility="hidden",r.display="");s=b.position(a);r.display=C;r.visibility=A;C={L:f.x,R:f.x-s.w,M:Math.max(n.l,Math.min(n.l+n.w,f.x+(s.w>>1))-s.w)}[d.charAt(1)];A={T:f.y,B:f.y-s.h,M:Math.max(n.t,Math.min(n.t+n.h,f.y+(s.h>>1))-s.h)}[d.charAt(0)];
f=Math.max(n.l,C);r=Math.max(n.t,A);C=Math.min(n.l+n.w,C+s.w);A=Math.min(n.t+n.h,A+s.h);C-=f;A-=r;l+=s.w-C+(s.h-A);if(null==q||l<q.overflow)q={corner:d,aroundCorner:c.aroundCorner,x:f,y:r,w:C,h:A,overflow:l,spaceAvailable:h};return!l});q.overflow&&e&&e(a,q.aroundCorner,q.corner,q.spaceAvailable,g);f=b.isBodyLtr(a.ownerDocument);var r=a.style;r.top=q.y+"px";r[f?"left":"right"]=(f?q.x:n.w-q.x-q.w)+"px";r[f?"right":"left"]="auto";return q}return g.place={at:function(a,b,c,d){c=h.map(c,function(a){var c=
{corner:a,pos:{x:b.x,y:b.y}};d&&(c.pos.x+="L"==a.charAt(1)?d.x:-d.x,c.pos.y+="T"==a.charAt(0)?d.y:-d.y);return c});return f(a,c)},around:function(c,d,g,p,n){function q(a,b){z.push({aroundCorner:a,corner:b,pos:{x:{L:s,R:s+C,M:s+(C>>1)}[a.charAt(1)],y:{T:y,B:y+A,M:y+(A>>1)}[a.charAt(0)]}})}var r="string"==typeof d||"offsetWidth"in d?b.position(d,!0):d;if(d.parentNode){var t="absolute"==e.getComputedStyle(d).position;for(d=d.parentNode;d&&1==d.nodeType&&"BODY"!=d.nodeName;){var u=b.position(d,!0),w=
e.getComputedStyle(d);/relative|absolute/.test(w.position)&&(t=!1);if(!t&&/hidden|auto|scroll/.test(w.overflow)){var v=Math.min(r.y+r.h,u.y+u.h),x=Math.min(r.x+r.w,u.x+u.w);r.x=Math.max(r.x,u.x);r.y=Math.max(r.y,u.y);r.h=v-r.y;r.w=x-r.x}"absolute"==w.position&&(t=!0);d=d.parentNode}}var s=r.x,y=r.y,C="w"in r?r.w:r.w=r.width,A="h"in r?r.h:(a.deprecated("place.around: dijit/place.__Rectangle: { x:"+s+", y:"+y+", height:"+r.height+", width:"+C+" } has been deprecated.  Please use { x:"+s+", y:"+y+", h:"+
r.height+", w:"+C+" }","","2.0"),r.h=r.height),z=[];h.forEach(g,function(a){var b=p;switch(a){case "above-centered":q("TM","BM");break;case "below-centered":q("BM","TM");break;case "after-centered":b=!b;case "before-centered":q(b?"ML":"MR",b?"MR":"ML");break;case "after":b=!b;case "before":q(b?"TL":"TR",b?"TR":"TL");q(b?"BL":"BR",b?"BR":"BL");break;case "below-alt":b=!b;case "below":q(b?"BL":"BR",b?"TL":"TR");q(b?"BR":"BL",b?"TR":"TL");break;case "above-alt":b=!b;case "above":q(b?"TL":"TR",b?"BL":
"BR");q(b?"TR":"TL",b?"BR":"BL");break;default:q(a.aroundCorner,a.corner)}});c=f(c,z,n,{w:C,h:A});c.aroundNodePos=r;return c}}})},"dijit/form/ComboBox":function(){define("dijit/form/ComboBox",["dojo/_base/declare","./ValidationTextBox","./ComboBoxMixin"],function(h,b,e){return h("dijit.form.ComboBox",[b,e],{})})},"redfin/search/location_autocomplete_query_read_store":function(){define(["dijit","dojo","dojox","dojo/require!dojox/data/QueryReadStore,redfin/common/data/ObjectGraph,redfin/common/data/RegionView,redfin/common/School"],
function(h,b,e){b.provide("redfin.search.location_autocomplete_query_read_store");b.require("dojox.data.QueryReadStore");b.require("redfin.common.data.ObjectGraph");b.require("redfin.common.data.RegionView");b.require("redfin.common.School");b.declare("redfin.search.LocationAutocompleteQueryReadStore",e.data.QueryReadStore,{url:"/stingray/do/location-autocomplete",includePolys:!1,ignoreMarket:!1,setIncludePolys:function(a){this.includePolys=a},fetch:function(a){a.serverQuery={location:a.query._displayName};
if(!this.ignoreMarket)if(window.g_searchController&&g_searchController.marketInfo&&g_searchController.marketInfo.name)a.serverQuery.market=g_searchController.marketInfo.name;else{var c=b.cookie("RF_MARKET");c&&(a.serverQuery.market=c)}this.includePolys&&(a.serverQuery.polys="true");return this.inherited("fetch",arguments)},_filterResponse:function(a){return{items:(new redfin.common.data.ObjectGraph(a.payload.regionViews)).getRoot(),numRows:a.payload.numRows}}})})},"redfin/common/widgets/contactBox/ContactBoxButton":function(){define("dojo dojo/has dojo/on dojo/topic dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-class dojo/text!redfin/common/widgets/contactBox/templates/ContactBoxButton.html dijit/_Widget dijit/_TemplatedMixin redfin/common/widgets/contactBox/ContactBoxComponentMixin redfin/bouncer/Bouncer redfin/common/mixins/_Adopt redfin/search/common/elements/ClickerTooltip redfin/search/common/dialogs/EmailVerificationDialog".split(" "),
function(h,b,e,a,c,d,g,f,k,l,m,p,n,q,r,t){return c("redfin.common.widgets.contactBox.ContactBoxButton",[l,m,p],{templateString:k,tourPopupObject:null,disabled:!1,receivedContactBoxRenderedEvent:!1,eventAction:null,POPUP_LOCATION:"Buy Box Button",ENTRY_POINT_WHEN_NOT_LOGGED_IN:"buyBox1",data:null,postCreate:function(){if(this.data)if(this.ENTRY_POINT_WHEN_NOT_LOGGED_IN="buyBox"+this.data.agentPosition,d.forEach(this.data.classes,g.hitch(this,function(a){h.addClass(this.buttonNode,a)})),this.data.primaryText&&
(this.buttonNodeText.innerHTML=this.data.primaryText),this.data.servicePolicy){if(this.servicePolicy=g_servicePolicies.idToObj[this.data.servicePolicy],"undefined"!==typeof this.data.actionType&&null!==this.data.actionType){var b=!1;if(this.data.actionType===g_contactBoxActionType.TOUR||this.data.actionType===g_contactBoxActionType.SCHEDULE_TOUR)b=!0,this.eventAction="Click:Tour",this.setupTourPopup();else if(this.data.actionType===g_contactBoxActionType.CONTACT)b=!0,this.eventAction="Click:Contact_Agent",
this.buttonURL=this.data.presentationType===g_contactBoxPresentationType.MINIMAL?this.getContactButtonURL("minimal-btn"):this.getContactButtonURL("listing-details-btn"),redfin.tours&&(redfin.tours.tour_util&&redfin.tours.tour_util.getAGCConnectButtonURL()&&0==redfin.tours.tour_util.getAGCConnectButtonURL().length)&&redfin.tours.tour_util.setAGCConnectButtonURL(this.buttonURL),e(this,"click",this.onContactClick);else if(this.data.actionType===g_contactBoxActionType.VERIFY_EMAIL)b=!0,this.eventAction=
"Click:Verify_Email",this.connect(this.buttonNode,"onclick",function(a){a.preventDefault();a.stopPropagation();(new t).show()});else if(this.data.actionType===g_contactBoxActionType.SELLER_CONSULTATION){this.eventAction="Click:Contact_Agent";var c="ldp";this.servicePolicy.buyWithAgentType||(c="sdp");this.buttonURL="/sell-a-home/consultation?utm_source\x3dredfin\x26utm_medium\x3d"+c+"\x26utm_campaign\x3d\x26utm_term\x3d\x26utm_content\x3d";this.connect(this.buttonNode,"onclick",this.onContactClick)}b&&
this.runStarsExperiment()&&this.connect(this.buttonNode,"onclick",g.hitch(this,function(){a.publish("onSuccessfulContactBoxConversion","click_tour_button_contact_box")}));(this.runContactBoxForContactBoxQuestionFormOnSDPExperiment()||this.runContactBoxForContactBoxCTATextSDPExperiment()||this.runContactBoxMinimalButtonTextExperiment())&&this.connect(this.buttonNode,"onclick",g.hitch(this,function(){a.publish("onSuccessfulContactBoxConversion","click_contact_button_contact_box")}))}}else this.data.actionType===
g_contactBoxActionType.CONTACT&&(this.eventAction="Click:Contact_Agent",this.buttonURL=this.getContactButtonURL("region-page-btn"),redfin.tours&&(redfin.tours.tour_util&&redfin.tours.tour_util.getAGCConnectButtonURL()&&0==redfin.tours.tour_util.getAGCConnectButtonURL().length)&&redfin.tours.tour_util.setAGCConnectButtonURL(this.buttonURL),this.connect(this.buttonNode,"onclick",this.onContactClick,this.data.agent.agentType));e(this.buttonNode,"click",g.hitch(this,"_onClick"))},_onClick:function(){this.disabled||
(this.gaEventMap[this.eventAction]||(this.gaEventMap[this.eventAction]=!0,this._trackEvent(this.eventAction)),setTimeout(h.hitch(this,function(){this.onClick()}),10))},onClick:function(){},setupTourPopup:function(){var c=!0;this.data.hasAgentRelationship&&(c=!1);var d=b("mobile-enabled");this.tourPopupObject=new r({tooltipClass:redfin.search.details.TourPopup,tooltipClassParams:{currentListingID:this.data.listingId,currentPropertyID:this.data.propertyId,subscriptionLocation:"contactBox",chosenAgentId:this.data.agent.getId(),
unassignAgentOnCancelAddHome:!0,popupLocation:this.POPUP_LOCATION,tourHomeEntryPointWhenNotLoggedIn:this.ENTRY_POINT_WHEN_NOT_LOGGED_IN,shouldUseAnonToursPathForUser:this.data.shouldUseAnonToursPathForUser},connectIds:[this.buttonNode],header:"Tour List",position:d?"below":"before",dynamicOrientation:d?!1:c,orientation:d?"center":"top",closeOnScroll:!1,onShow:function(){this.getMasterTooltip()&&this.getMasterTooltip().getToolTipObject()&&(this.getMasterTooltip().getToolTipObject().refreshView(),this.getMasterTooltip().getToolTipObject()._trackTourPopupOpen(),
d&&this.scrollPageToTooltip())},open:g.hitch(this,function(){a.publish("tourButton:onClick");this.servicePolicy.tourWithAgentType==g_agentType.REDFIN&&redfin.tours.tour_util.trackTourButtonClick("Click tour button - Buy Box");this.data.shouldUseAnonToursPathForUser?redfin.common.AccessLevelUtil.onlyHasRfPartyId()?redfin.common.LoginPopup.showNewDialogIfNeeded({message:"add-to-tour"}).addCallback(g.hitch(this,function(){redfin.ui.UserPreferences.setTourHomeEntryPointWhenNotLoggedIn(this.ENTRY_POINT_WHEN_NOT_LOGGED_IN)})):
((g_bouncer().isOn(g_feature.CONTACT_BOX_HEADER_MINIMIZATION_AGENT_INTRO_EXPERIMENT)||g_bouncer().isOn(g_feature.CONTACT_BOX_AGENT_SLIDE_SHOW_AB_TEST)||this.runAskAnAgentAsALinkExperiment()||this.runNewPhotographyExperiment())&&a.publish("onSuccessfulContactBoxConversion","click_tour_button_contact_box"),this.tourPopupObject.inherited("open",arguments)):redfin.common.AccessLevelUtil.isLoggedIn()?((g_bouncer().isOn(g_feature.CONTACT_BOX_HEADER_MINIMIZATION_AGENT_INTRO_EXPERIMENT)||g_bouncer().isOn(g_feature.CONTACT_BOX_AGENT_SLIDE_SHOW_AB_TEST)||
this.runAskAnAgentAsALinkExperiment()||this.runNewPhotographyExperiment())&&a.publish("onSuccessfulContactBoxConversion","click_tour_button_contact_box"),this.tourPopupObject.inherited("open",arguments)):redfin.common.LoginPopup.showNewDialogIfNeeded({message:"add-to-tour"}).addCallback(g.hitch(this,function(){redfin.ui.UserPreferences.setTourHomeEntryPointWhenNotLoggedIn(this.ENTRY_POINT_WHEN_NOT_LOGGED_IN)}))}),onHideOpened:function(){var b=this.getToolTipObject();a.publish("onHideOpenedTourPopup",
b&&b.getAgentSoftAssignedOnAddHome?b.getAgentSoftAssignedOnAddHome():!1)}});f.add(this.tourPopupObject.getMasterTooltip().domNode,"buy-box-tour-popup-tooltip");var e=this;a.subscribe("closeTourPopup",function(a){e.tourPopupObject.isShowing&&e.tourPopupObject.close()});if(redfin.ui.UserPreferences.getTourHomeEntryPointWhenNotLoggedIn()==this.ENTRY_POINT_WHEN_NOT_LOGGED_IN){if(g_bouncer().isOn(g_feature.CONTACT_BOX_HEADER_MINIMIZATION_AGENT_INTRO_EXPERIMENT)||g_bouncer().isOn(g_feature.CONTACT_BOX_AGENT_SLIDE_SHOW_AB_TEST)||
this.runAskAnAgentAsALinkExperiment())redfin.ui.UserPreferences.getAnonUserLoggedInFromPopup()?redfin.ui.UserPreferences.setAnonUserLoggedInFromPopup(!1):a.publish("onSuccessfulContactBoxConversion","click_tour_button_contact_box");g_bouncer().isOn(g_feature.CONTACT_BOX_AGENT_SLIDE_SHOW_AB_TEST)&&redfin.ui.UserPreferences.setStopLdpContactBoxAgentSlideShow(!0);a.subscribe("onContactBoxRendered",g.hitch(this,function(){!this.receivedContactBoxRenderedEvent&&1<this.data.agentPosition&&(this.receivedContactBoxRenderedEvent=
!0,a.publish("moveToAgent",this.data.agentPosition),setTimeout(g.hitch(this,function(){this.tourPopupObject.forceOpen(this.buttonNode)}),250))}));redfin.ui.UserPreferences.deleteTourHomeEntryPointWhenNotLoggedIn()}},onContactClick:function(b){this.disabled||((g_bouncer().isOn(g_feature.CONTACT_BOX_HEADER_MINIMIZATION_AGENT_INTRO_EXPERIMENT)||g_bouncer().isOn(g_feature.CONTACT_BOX_AGENT_SLIDE_SHOW_AB_TEST)||this.runAskAnAgentAsALinkExperiment())&&a.publish("onSuccessfulContactBoxConversion","click_tour_button_contact_box"),
this.runNewPhotographyExperiment()&&(this.data.actionType===g_contactBoxActionType.SELLER_CONSULTATION?a.publish("onSuccessfulContactBoxConversion","click_seller_consultation_button_contact_box"):a.publish("onSuccessfulContactBoxConversion","click_contact_button_contact_box")),this.data.agent&&(this.data.agent._agentType&&this.data.agent._agentType==g_agentType.CONNECT)&&redfin.tours.tour_util.trackTourButtonClick("Click tour button - Partner Contact Box"),setTimeout(h.hitch(this,function(){window.top.location=
this.buttonURL}),10))},getContactButtonURL:function(a){var b;if(!this.data.agent&&this.data.dataSourceId&&this.data.mlsId)b="/myredfin/choose-an-agent/chooser?dslisting_id\x3d"+this.data.dataSourceId+":"+this.data.mlsId+"\x26service\x3d2\x26serviceType\x3d2\x26status\x3d1";else{b="/myredfin/choose-an-agent/about-you?serviceType\x3d2\x26service\x3d"+this.data.agent.getAgentType()+"\x26agent\x3d"+this.data.agent.getCmsSlug();if(this.data.dataSourceId&&this.data.mlsId){b+="\x26dataSourceId\x3d"+this.data.dataSourceId+
"\x26mlsId\x3d"+this.data.mlsId;if(this.data.additionalListingIds)for(var c=0;c<this.data.additionalListingIds.length;c++)b+="\x26addListingId\x3d"+this.data.additionalListingIds[c];this.data.serviceRegionId&&(b+="\x26serviceRegionId\x3d"+this.data.serviceRegionId)}this.servicePolicy!==g_servicePolicies.REDFIN_DIRECT_PREFERRED_AGENT&&(this.servicePolicy!==g_servicePolicies.CONNECT_ASSIGNED_AGENT&&this.servicePolicy!==g_servicePolicies.REDFIN_DIRECT_ASSIGNED_AGENT)&&(b+="\x26agentId\x3d"+this.data.agent.getId(),
this.data.agentPosition&&(b+="\x26agentPosition\x3d"+this.data.agentPosition))}this.data.agentServiceType&&(b+="\x26agentServiceType\x3d"+this.data.agentServiceType);this.data.agentRequestText&&(b+="\x26agentRequestText\x3d"+this.data.agentRequestText);a&&(b+="\x26src\x3d"+a);return b},setDisabled:function(a){(this.disabled=a)?h.addClass(this.buttonNode,"disabled"):h.removeClass(this.buttonNode,"disabled")},transformAgentOnMobile:function(a,b){return JSON.stringify({id:a._id,firstName:a._firstName,
lastName:a._lastName,displayName:a._fullName,businessMarket:a._businessMarket,name:a._name,phone:a._phone,email:a._email,businessCardPhotoUrlNonsecure:a._photoUrl74x110,tradingPhotoUrlNonsecure:a._photoUrl150x150,smallSquarePhotoUrlNonsecure:a._photoUrl120x120,agentType:a._agentType,servesOffers:a._servesOffers,servesListings:a._servesListings,isBuySideAgent:b})}})})},"redfin/search/widget/rf_base_dialog":function(){require({cache:{"url:redfin/search/widget/templates/RfBaseDialog.html":'\x3cdiv class\x3d"dijitDialog rfBaseDialog" tabindex\x3d"-1" waiRole\x3d\'dialog\' waiState\x3d"labelledby-${id}_title"\x3e\n\t\x3cdiv class\x3d"rfBaseDialogInnerBorder"\x3e \n\t\t\x3cdiv dojoAttachPoint\x3d\'titleBar\' class\x3d\'dijitDialogTitleBar\'\x3e\n\t\t\t\x3cspan dojoAttachPoint\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\x3e\x3c/span\x3e\n\t\t\t\x3cdiv dojoAttachPoint\x3d"closeButtonNode" class\x3d"rfBaseDialogClose" dojoAttachEvent\x3d"onclick: onCancel" title\x3d"${buttonCancel}"\x3e\n\t\t\t\t\x3cimg class\x3d"btn_close_popup" src\x3d "${imageServerUrl}/images/clear.gif" /\x3e\n\t\t\t\t\x3cspan style\x3d"display:none" dojoAttachPoint\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d\'dijitDialogPaneContent ${contentClass}\' dojoAttachPoint\x3d"containerNode"\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e'}});
define("redfin/search/widget/rf_base_dialog","dojo/_base/declare dojo/_base/lang dijit/Dialog dijit/DialogUnderlay dijit/TooltipDialog dijit/_Container dijit/_Contained dijit/_TemplatedMixin dijit/_Widget dojo/text!./templates/RfBaseDialog.html redfin/bouncer/Bouncer dojo/_base/window dojo/_base/Deferred dojo/dom dojo/dom-style dojo/dom-class dojo/keys".split(" "),function(h,b,e,a,c,d,g,f,k,l,m,p,n,q,r,t,u){var w=h("redfin.search.widget.RfBaseDialog",[e,d],{templateString:l,imageServerUrl:g_imageServerUrl,
closeOnBackgroundClick:!0,closable:!0,refocus:!1,draggable:!1,hideTitleBar:!1,_backgroundOnClickConnection:null,_deferred:null,_deferredConnection:null,contentClass:"",buildRendering:function(){this.inherited(arguments);g_bouncer().isOn(g_feature.COMMON_DIALOGS)&&t.add(this.domNode,"commonDialogsOn")},show:function(){this.hideTitleBar?r.set(this.titleBar,"display","none"):r.set(this.titleBar,"display","");this.closable?r.set(this.closeButtonNode,"display",""):r.set(this.closeButtonNode,"display",
"none");this.inherited(arguments);this.closeOnBackgroundClick&&(!this._backgroundOnClickConnection&&this.closable)&&(this._backgroundOnClickConnection=this.connect(a._singleton.domNode,"onclick","onBackgroundClick"));this._deferred=new n;this._deferredConnection=this.connect(this,"onHide",function(){this._deferred.callback();this._deferred=null;this.disconnect(this._deferredConnection)});return this._deferred},onBackgroundClick:function(a){if(!q.isDescendant(a.target,this.domNode)&&this.open&&(null==
this._fadeInDeferred||this._fadeInDeferred.isResolved()))this.onCancel()},hide:function(){this._backgroundOnClickConnection&&(this.disconnect(this._backgroundOnClickConnection),this._backgroundOnClickConnection=null);this.inherited(arguments)},_onKey:function(a){(this.closable||!(a&&a.charOrCode==u.ESCAPE))&&this.inherited(arguments)}});b.mixin(w,{getNewDialog:function(a,b){return w.getNewDialogSubclass(redfin.search.widget.RfBaseDialog,a,b)},showNewDialog:function(a,b){return w.showNewDialogSubclass(redfin.search.widget.RfBaseDialog,
a,b)},getNewDialogSubclass:function(a,b,c){a=new a(c);if(b&&b.isInstanceOf&&b.isInstanceOf(k))if(b.domNode)a.attr("content",b.domNode);else throw Error("widget of class "+b.declaredClass+" has no domNode");else a.attr("content",b);p.body().appendChild(a.domNode);a.startup();return a},showNewDialogSubclass:function(a,b,c){var d=redfin.search.widget.RfBaseDialog.getNewDialogSubclass(a,b,c);a=d.show();a.addBoth(function(){p.body().removeChild(d.domNode);d.destroy()});return a}});h("redfin.search.widget.RfBaseDialogGuts",
[k,g,f],{imageServerUrl:g_imageServerUrl,style:"width:350px"});return w})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(h,b){var e={};h.setObject("dojo.cldr.supplemental",e);e.getFirstDayOfWeek=function(a){a={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,
mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[e._region(a)];return void 0===a?1:a};e._region=function(a){a=b.normalizeLocale(a);a=a.split("-");var c=a[1];c?4==c.length&&(c=a[2]):c={de:"de",en:"us",es:"es",fi:"fi",fr:"fr",he:"il",hu:"hu",it:"it",ja:"jp",ko:"kr",nl:"nl",pt:"br",sv:"se",zh:"cn"}[a[0]];return c};e.getWeekend=function(a){var b=e._region(a);a={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,
iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[b];b={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[b];void 0===a&&(a=6);void 0===b&&(b=0);return{start:a,end:b}};return e})},"url:dijit/form/templates/DropDownButton.html":'\x3cspan class\x3d"dijit dijitReset dijitInline"\n\t\x3e\x3cspan class\x3d\'dijitReset dijitInline dijitButtonNode\'\n\t\tdata-dojo-attach-event\x3d"ondijitclick:_onClick" data-dojo-attach-point\x3d"_buttonNode"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"focusNode,titleNode,_arrowWrapperNode"\n\t\t\trole\x3d"button" aria-haspopup\x3d"true" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon"\n\t\t\t\tdata-dojo-attach-point\x3d"iconNode"\n\t\t\t\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode,_popupStateNode"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonInner"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonChar"\x3e\x26#9660;\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen" tabIndex\x3d"-1"\n\t\tdata-dojo-attach-point\x3d"valueNode"\n/\x3e\x3c/span\x3e\n',
"url:redfin/homepage/widgets/templates/RecentHomesWidget.html":'\x3cdiv class\x3d"RecentHomesWidget whiteBox" dojoAttachPoint\x3d"recentHomesWidget"\x3e\n\t\x3cdiv class\x3d"title"\x3e\n\t\t\x3cdiv class\x3d"iconWrap"\x3e\n\t\t\t\x3cspan class\x3d"recent_icon icon"\x3e\x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\t\x3ch2 class\x3d"text"\x3eRecently Viewed\x3c/h2\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"loading" dojoAttachPoint\x3d"loadSpinner"\x3e\x3c/div\x3e\n\t\n\t\x3cdiv dojoAttachPoint\x3d"recentHomesNode" class\x3d"inline-block homepage row-type recentHomes hidden hic-grid"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"redfin/search/details/ZoomToCropImageCard":function(){define("redfin/search/details/ZoomToCropImageCard",["dojo/_base/declare","redfin/search/details/ImageCard"],function(h,b){return h("redfin.search.details.ZoomToCropImageCard",b,{resize:function(b){if(!("undefined"==typeof b||null==b))if(this.windowSize=b,b=this.getViewSize(),this.setSize(this.viewPort,b),this.centerViewPort(b),this.imageSize){var a=this.getScaleSize();this.setSize(this.imgNode,a);this.moveImage((a.width-b.width)/2,(a.height-b.height)/
2)}},getScaleSize:function(){var b=this.getViewSize(),a=this.imageSize.width,c=this.imageSize.height,b=Math.max(b.width/a,b.height/c);return{width:Math.floor(b*a),height:Math.floor(b*c),factor:b}}})})},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(h,b,e,a,c){var d={};h.setObject("dojo.number",d);d.format=function(a,c){c=h.mixin({},c||{});var e=b.normalizeLocale(c.locale),e=b.getLocalization("dojo.cldr","number",e);c.customs=e;e=
c.pattern||e[(c.type||"decimal")+"Format"];return isNaN(a)||Infinity==Math.abs(a)?null:d._applyPattern(a,e,c)};d._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;d._applyPattern=function(a,b,c){c=c||{};var e=c.customs.group,g=c.customs.decimal;b=b.split(";");var h=b[0];b=b[0>a?1:0]||"-"+h;if(-1!=b.indexOf("%"))a*=100;else if(-1!=b.indexOf("\u2030"))a*=1E3;else if(-1!=b.indexOf("\u00a4"))e=c.customs.currencyGroup||e,g=c.customs.currencyDecimal||g,b=b.replace(/\u00a4{1,3}/,function(a){return c[["symbol","currency",
"displayName"][a.length-1]]||c.currency||""});else if(-1!=b.indexOf("E"))throw Error("exponential notation not supported");var q=d._numberPatternRE,h=h.match(q);if(!h)throw Error("unable to find a number expression in pattern: "+b);!1===c.fractional&&(c.places=0);return b.replace(q,d._formatAbsolute(a,h[0],{decimal:g,group:e,places:c.places,round:c.round}))};d.round=function(a,b,c){c=10/(c||10);return(c*+a).toFixed(b)/c};if(0==(0.9).toFixed()){var g=d.round;d.round=function(a,b,c){var d=Math.pow(10,
-b||0),e=Math.abs(a);if(!a||e>=d||5>e*Math.pow(10,b+1))d=0;return g(a,b,c)+(0<a?d:-d)}}d._formatAbsolute=function(b,c,e){e=e||{};!0===e.places&&(e.places=0);Infinity===e.places&&(e.places=6);c=c.split(".");var g="string"==typeof e.places&&e.places.indexOf(","),h=e.places;g?h=e.places.substring(g+1):0<=h||(h=(c[1]||[]).length);0>e.round||(b=d.round(b,h,e.round));b=String(Math.abs(b)).split(".");var n=b[1]||"";c[1]||e.places?(g&&(e.places=e.places.substring(0,g)),g=void 0!==e.places?e.places:c[1]&&
c[1].lastIndexOf("0")+1,g>n.length&&(b[1]=a.pad(n,g,"0",!0)),h<n.length&&(b[1]=n.substr(0,h))):b[1]&&b.pop();h=c[0].replace(",","");g=h.indexOf("0");-1!=g&&(g=h.length-g,g>b[0].length&&(b[0]=a.pad(b[0],g)),-1==h.indexOf("#")&&(b[0]=b[0].substr(b[0].length-g)));var h=c[0].lastIndexOf(","),q,r;-1!=h&&(q=c[0].length-h-1,c=c[0].substr(0,h),h=c.lastIndexOf(","),-1!=h&&(r=c.length-h-1));c=[];for(h=b[0];h;)g=h.length-q,c.push(0<g?h.substr(g):h),h=0<g?h.slice(0,g):"",r&&(q=r,delete r);b[0]=c.reverse().join(e.group||
",");return b.join(e.decimal||".")};d.regexp=function(a){return d._parseInfo(a).regexp};d._parseInfo=function(a){a=a||{};var e=b.normalizeLocale(a.locale),e=b.getLocalization("dojo.cldr","number",e),g=a.pattern||e[(a.type||"decimal")+"Format"],h=e.group,p=e.decimal,n=1;if(-1!=g.indexOf("%"))n/=100;else if(-1!=g.indexOf("\u2030"))n/=1E3;else{var q=-1!=g.indexOf("\u00a4");q&&(h=e.currencyGroup||h,p=e.currencyDecimal||p)}e=g.split(";");1==e.length&&e.push("-"+e[0]);e=c.buildGroupRE(e,function(b){b="(?:"+
c.escapeString(b,".")+")";return b.replace(d._numberPatternRE,function(b){var c={signed:!1,separator:a.strict?h:[h,""],fractional:a.fractional,decimal:p,exponent:!1};b=b.split(".");var e=a.places;1==b.length&&1!=n&&(b[1]="###");1==b.length||0===e?c.fractional=!1:(void 0===e&&(e=a.pattern?b[1].lastIndexOf("0")+1:Infinity),e&&void 0==a.fractional&&(c.fractional=!0),!a.places&&e<b[1].length&&(e+=","+b[1].length),c.places=e);b=b[0].split(",");1<b.length&&(c.groupSize=b.pop().length,1<b.length&&(c.groupSize2=
b.pop().length));return"("+d._realNumberRegexp(c)+")"})},!0);q&&(e=e.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(b,d,e,k){b=c.escapeString(a[["symbol","currency","displayName"][e.length-1]]||a.currency||"");d=d?"[\\s\\xa0]":"";k=k?"[\\s\\xa0]":"";return!a.strict?(d&&(d+="*"),k&&(k+="*"),"(?:"+d+b+k+")?"):d+b+k}));return{regexp:e.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:h,decimal:p,factor:n}};d.parse=function(a,b){var c=d._parseInfo(b),e=RegExp("^"+c.regexp+"$").exec(a);if(!e)return NaN;
var g=e[1];if(!e[1]){if(!e[2])return NaN;g=e[2];c.factor*=-1}g=g.replace(RegExp("["+c.group+"\\s\\xa0]","g"),"").replace(c.decimal,".");return g*c.factor};d._realNumberRegexp=function(a){a=a||{};"places"in a||(a.places=Infinity);"string"!=typeof a.decimal&&(a.decimal=".");if(!("fractional"in a)||/^0/.test(a.places))a.fractional=[!0,!1];"exponent"in a||(a.exponent=[!0,!1]);"eSigned"in a||(a.eSigned=[!0,!1]);var b=d._integerRegexp(a),e=c.buildGroupRE(a.fractional,function(b){var c="";b&&0!==a.places&&
(c="\\"+a.decimal,c=Infinity==a.places?"(?:"+c+"\\d+)?":c+("\\d{"+a.places+"}"));return c},!0),g=c.buildGroupRE(a.exponent,function(b){return b?"([eE]"+d._integerRegexp({signed:a.eSigned})+")":""}),b=b+e;e&&(b="(?:(?:"+b+")|(?:"+e+"))");return b+g};d._integerRegexp=function(a){a=a||{};"signed"in a||(a.signed=[!0,!1]);"separator"in a?"groupSize"in a||(a.groupSize=3):a.separator="";var b=c.buildGroupRE(a.signed,function(a){return a?"[-+]":""},!0),d=c.buildGroupRE(a.separator,function(b){if(!b)return"(?:\\d+)";
b=c.escapeString(b);" "==b?b="\\s":"\u00a0"==b&&(b="\\s\\xa0");var d=a.groupSize,e=a.groupSize2;return e?(b="(?:0|[1-9]\\d{0,"+(e-1)+"}(?:["+b+"]\\d{"+e+"})*["+b+"]\\d{"+d+"})",0<d-e?"(?:"+b+"|(?:0|[1-9]\\d{0,"+(d-1)+"}))":b):"(?:0|[1-9]\\d{0,"+(d-1)+"}(?:["+b+"]\\d{"+d+"})*)"},!0);return b+d};return d})},"url:redfin/search/map/templates/SearchSummary.html":'\x3cdiv class\x3d"search-summary"\x3e\n\t\x3cdiv class\x3d"region-name"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"regionName"\x3eHome Results\x3c/span\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"search-info"\x3e\n\t\t\x3cdiv class\x3d"num-results"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"numResultsNode" class\x3d"number"\x3e\x3c/span\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"resultsWordNode" class\x3d"results"\x3e\x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"searchDescription" class\x3d"search-description"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"dijit/layout/_ContentPaneResizeMixin":function(){define("dijit/layout/_ContentPaneResizeMixin","dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/query dojo/sniff ../registry ../Viewport ./utils".split(" "),function(h,b,e,a,c,d,g,f,k,l,m){return b("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var a=this.getParent();this._childOfLayoutWidget=a&&a.isLayoutContainer;this._needLayout=
!this._childOfLayoutWidget;this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(l.on("resize",d.hitch(this,"resize")))}},_checkIfSingleChild:function(){var a=[],b=!1;g("\x3e *",this.containerNode).some(function(c){var d=k.byNode(c);d&&d.resize?a.push(d):c.offsetHeight&&(b=!0)});this._singleChild=1==a.length&&!b?a[0]:null;e.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)},resize:function(a,b){this._resizeCalled=!0;this._scheduleLayout(a,
b)},_scheduleLayout:function(a,b){this._isShown()?this._layout(a,b):(this._needLayout=!0,this._changeSize=a,this._resultSize=b)},_layout:function(b,c){delete this._needLayout;!this._wasShown&&!1!==this.open&&this._onShow();b&&a.setMarginBox(this.domNode,b);var f=this.containerNode;if(f===this.domNode){var e=c||{};d.mixin(e,b||{});if(!("h"in e)||!("w"in e))e=d.mixin(a.getMarginBox(f),e);this._contentBox=m.marginBox2contentBox(f,e)}else this._contentBox=a.getContentBox(f);this._layoutChildren()},_layoutChildren:function(){this.doLayout&&
this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var b=this._contentBox||a.getContentBox(this.containerNode);this._singleChild.resize({w:b.w,h:b.h})}else h.forEach(this.getChildren(),function(a){a.resize&&a.resize()})},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var a=this.domNode,b=this.domNode.parentNode;return"none"!=a.style.display&&"hidden"!=a.style.visibility&&
!e.contains(a,"dijitHidden")&&b&&b.style&&"none"!=b.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},"dijit/form/_ButtonMixin":function(){define("dijit/form/_ButtonMixin",["dojo/_base/declare","dojo/dom","dojo/_base/event","../registry"],function(h,b,e,a){return h("dijit.form._ButtonMixin",null,{label:"",type:"button",_onClick:function(b){if(this.disabled)return e.stop(b),!1;var d=!1===this.onClick(b);
if(!d&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var g=this.domNode;g.parentNode;g=g.parentNode){var f=a.byNode(g);if(f&&"function"==typeof f._onSubmit){f._onSubmit(b);d=!0;break}}d&&b.preventDefault();return!d},postCreate:function(){this.inherited(arguments);b.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(a){this._set("label",a);(this.containerNode||this.focusNode).innerHTML=a}})})},"redfin/search/common/_SpinnerProgressAction":function(){define(["dijit",
"dojo","dojox","dojo/require!redfin/search/common/_Spinner,redfin/search/common/_ProgressStateAction"],function(h,b,e){b.provide("redfin.search.common._SpinnerProgressAction");b.require("redfin.search.common._Spinner");b.require("redfin.search.common._ProgressStateAction");b.declare("redfin.search.common._SpinnerProgressAction",[redfin.search.common._ProgressStateAction,redfin.search.common._Spinner],{spinnerNode:null,onProgressStart:function(){this.spinnerNode&&(b.removeClass(this.spinnerNode,"ready"),
b.addClass(this.spinnerNode,"busy"),this._spinnerNodeSize=this._spinnerNodeSize||b.contentBox(this.spinnerNode),this._spinnerNodeOriginalStyle=b.attr(this.spinnerNode,"style"),b.style(this.spinnerNode,{height:this._spinnerNodeSize.h+"px",width:this._spinnerNodeSize.w+"px",backgroundImage:"none"}),this.singleSpinner({},this.spinnerNode).spin(this.spinnerNode))},onProgressEnd:function(){this.spinnerNode&&(b.addClass(this.spinnerNode,"ready"),b.removeClass(this.spinnerNode,"busy"),this.singleSpinner({},
this.spinnerNode).stop(),this._spinnerNodeOriginalStyle?b.attr(this.spinnerNode,"style",this._spinnerNodeOriginalStyle):b.removeAttr(this.spinnerNode,"style"))}})})},"url:redfin/search/map/templates/QuickMap.html":'\x3cdiv class\x3d"mmv"\x3e\n\t\x3cdiv class\x3d"map" data-dojo-attach-point\x3d"mapNode"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"controlBarNode"\x3e\n\t\t\x3cdiv class\x3d"actions"\x3e\n\t\t\t\x3cdiv class\x3d"inline-block"\x3e\n\t\t\t\t\x3cdiv class\x3d"inline-block sprite-minimap-resetmap icon"\x3e\x3c/div\x3e\n\t\t\t\t\x3cspan class\x3d"action link" data-dojo-attach-point\x3d"centerMapLink"\x3eRecenter Map\x3c/span\x3e\n\n\t\t\t\t\x3cdiv class\x3d"inline-block divider action"\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"inline-block sprite-minimap-show-on-map action"\x3e\x3c/div\x3e\n\t\t\t\t\x3cspan class\x3d"action link" data-dojo-attach-point\x3d"roadmapLink" data-dojo-attach-event\x3d"onclick: onClickMapType"\x3eMap View\x3c/span\x3e\n\n\t\t\t\t\x3cdiv class\x3d"inline-block divider action"\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"inline-block sprite-minimap-streetview action"\x3e\x3c/div\x3e\n\t\t\t\t\x3cspan class\x3d"action link" data-dojo-attach-point\x3d"streetviewLink" data-dojo-attach-event\x3d"onclick: onClickMapType"\x3eStreet View\x3c/span\x3e\n\n\t\t\t\t\x3cdiv class\x3d"inline-block divider action"\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"inline-block sprite-minimap-45degrees action"\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"inline-block" data-dojo-attach-point\x3d"imagery45Node"\x3e\n\t\t\t\t\t\x3cspan class\x3d"action link" data-dojo-attach-point\x3d"tiltNorthLink" data-dojo-attach-event\x3d"onclick: onClickMapType"\x3eNorth\x3c/span\x3e\n\t\t\t\t\t\x3cspan class\x3d"action link" data-dojo-attach-point\x3d"tiltSouthLink" data-dojo-attach-event\x3d"onclick: onClickMapType"\x3eSouth\x3c/span\x3e\n\t\t\t\t\t\x3cspan class\x3d"action link" data-dojo-attach-point\x3d"tiltEastLink" data-dojo-attach-event\x3d"onclick: onClickMapType"\x3eEast\x3c/span\x3e\n\t\t\t\t\t\x3cspan class\x3d"action link" data-dojo-attach-point\x3d"tiltWestLink" data-dojo-attach-event\x3d"onclick: onClickMapType"\x3eWest\x3c/span\x3e\n\t\t\t\t\x3c/div\x3e\n\n\t\t\t\t\x3cdiv class\x3d"inline-block hidden" data-dojo-attach-point\x3d"bingContainer"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"inline-block divider action"\x3e\x3c/div\x3e\n\t\t\t\t\t\x3ca target\x3d"_blank" class\x3d"action" data-dojo-attach-point\x3d"birdsEyeLinkNode"\x3eBird\'s Eye\x3c/a\x3e\n\t\t\t\t\x3c/div\x3e\n\n\t\t\t\t\x3cdiv class\x3d"inline-block hidden" data-dojo-attach-point\x3d"directionsContainer"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"inline-block divider action"\x3e\x3c/div\x3e\n\t\t\t\t\t\x3ca target\x3d"_blank" class\x3d"action" data-dojo-attach-point\x3d"directionsLinkNode"\x3eDirections\x3c/a\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"inline-block hidden" data-dojo-attach-point\x3d"detailsLinkContainer"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"inline-block divider action"\x3e\x3c/div\x3e\n\t\t\t\t\t\x3ca class\x3d"action" data-dojo-attach-point\x3d"detailsLinkNode"\x3eView Full Details\x3c/a\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/templates/TooltipDialog.html":'\x3cdiv role\x3d"presentation" tabIndex\x3d"-1"\x3e\n\t\x3cdiv class\x3d"dijitTooltipContainer" role\x3d"presentation"\x3e\n\t\t\x3cdiv class \x3d"dijitTooltipContents dijitTooltipFocusNode" data-dojo-attach-point\x3d"containerNode" role\x3d"dialog"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTooltipConnector" role\x3d"presentation" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"dojox/fx/_core":function(){define("dojox/fx/_core",
["dojo/_base/lang","dojo/_base/array","./_base"],function(h,b,e){var a=function(a,d){this.start=a;this.end=d;var e=h.isArray(a),f=e?[]:d-a;e?(b.forEach(this.start,function(a,b){f[b]=this.end[b]-a},this),this.getValue=function(a){var c=[];b.forEach(this.start,function(b,d){c[d]=f[d]*a+b},this);return c}):this.getValue=function(a){return f*a+this.start}};return e._Line=a})},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare","./Moveable"],function(h,b){var e=b.prototype.onMove;return h("dojo.dnd.TimedMoveable",
b,{timeout:40,constructor:function(a,b){b||(b={});b.timeout&&("number"==typeof b.timeout&&0<=b.timeout)&&(this.timeout=b.timeout)},onMoveStop:function(a){a._timer&&(clearTimeout(a._timer),e.call(this,a,a._leftTop));b.prototype.onMoveStop.apply(this,arguments)},onMove:function(a,b){a._leftTop=b;if(!a._timer){var d=this;a._timer=setTimeout(function(){a._timer=null;e.call(d,a,a._leftTop)},this.timeout)}}})})},"dijit/a11yclick":function(){define("dijit/a11yclick","dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has dojo/_base/unload dojo/_base/window".split(" "),
function(h,b,e,a,c,d,g){function f(a){return(a.keyCode===e.ENTER||a.keyCode===e.SPACE)&&!a.ctrlKey&&!a.shiftKey&&!a.altKey&&!a.metaKey}var k=null;c("dom-addeventlistener")?g.doc.addEventListener("keydown",function(a){k=a.target},!0):function(){var a=function(a){k=a.srcElement};g.doc.attachEvent("onkeydown",a);d.addOnWindowUnload(function(){g.doc.detachEvent("onkeydown",a)})}();return function(a,d){if(/input|button/i.test(a.nodeName))return h(a,"click",d);var e=[h(a,"keydown",function(a){f(a)&&(k=
a.target,a.preventDefault())}),h(a,"keyup",function(a){f(a)&&a.target==k&&(k=null,h.emit(a.target,"click",{cancelable:!0,bubbles:!0}))}),h(a,"click",function(a){d.call(this,a)})];if(c("touch")){var g;e.push(h(a,"touchend",function(a){var b=a.target;g=setTimeout(function(){g=null;h.emit(b,"click",{cancelable:!0,bubbles:!0})},600)}),h(a,"click",function(a){g&&clearTimeout(g)}))}return{remove:function(){b.forEach(e,function(a){a.remove()});g&&(clearTimeout(g),g=null)}}}})},"redfin/common/SideScrollListWidget":function(){require({cache:{"url:redfin/common/templates/SideScrollListWidget.html":'\x3cdiv class\x3d"sideScrollList" data-dojo-attach-point\x3d"viewportNode"\x3e\n\t\x3cul data-dojo-attach-point\x3d"listNode"\x3e\x3c/ul\x3e\n\x3c/div\x3e'}});
define("redfin/common/SideScrollListWidget","dojo/_base/lang dojo/_base/declare dojo/_base/fx dojo/dom-class dojo/dom-construct dojo/dom-style dojo/fx/easing dojo/text!./templates/SideScrollListWidget.html dijit/_TemplatedMixin dijit/_Widget dijit/_WidgetsInTemplateMixin redfin/search/browser_detect redfin/search/common/mixins/_TouchListener".split(" "),function(h,b,e,a,c,d,g,f,k,l,m,p,n){b=b("redfin.common.SideScrollListWidget",[l,k,m],{viewportNode:null,listNode:null,listItemNodes:null,widgetsInTemplate:!0,
templateString:f,listItems:[],listItemsPerPage:4,listItemWidthPx:null,listItemHeightPx:null,pageIndex:0,itemIndex:0,swipeable:!1,animationDuration:500,initialItem:0,transitionClass:null,postCreate:function(){this.inherited(arguments);this.listItemNodes=[];for(var b=0;b<this.listItems.length;b++)this._putItemInList(this.listItems[b]);this.adjustView();this.moveToItem(this.initialItem,{animationDuration:0});this.swipeable&&this.connectSwipe(this.listNode,h.hitch(this,this.onTouchMove),h.hitch(this,
this.onTouchEnd));this.transitionClass&&BrowserDetect.supportsCss3Property("Transition")?a.add(this.listNode,this.transitionClass):this.transitionClass=null},adjustView:function(){this.setWidth(this.viewportNode,this.listItemsPerPage*this.listItemWidthPx);d.set(this.listNode,"textAlign","left");this.setWidth(this.listNode,this.listItemWidthPx*this.listItems.length);this.setHeight(this.listNode,this.listItemHeightPx)},_putItemInList:function(a){var b=c.create("li",{},this.listNode);this.setWidth(b,
this.listItemWidthPx);this.setHeight(b,this.listItemHeightPx);c.place(a,b);this.listItemNodes.push(b)},_getMaxPage:function(){return Math.ceil(this.listItems.length/this.listItemsPerPage)-1},moveToPage:function(b,c){this.pageIndex=Math.max(0,Math.min(b,this._getMaxPage()));var f=-1*this.pageIndex*this.listItemWidthPx*this.listItemsPerPage,k=c&&void 0!==c.animationDuration?c.animationDuration:this.animationDuration;0===k?(this.transitionClass&&a.contains(this.listNode,this.transitionClass)&&a.remove(this.listNode,
this.transitionClass),d.set(this.listNode,"marginLeft",f+"px")):this.transitionClass?(a.contains(this.listNode,this.transitionClass)||a.add(this.listNode,this.transitionClass),d.set(this.listNode,"marginLeft",f+"px")):e.anim(this.listNode,{marginLeft:{end:f,units:"px"}},k,g.expoOut)},moveToNextPage:function(a){this.moveToPage(this.pageIndex+1,a)},moveToPreviousPage:function(a){this.moveToPage(this.pageIndex-1,a)},adjustItemsPerPage:function(a){this.listItemsPerPage=a},moveToItemLeftMost:function(a){var b=
!1;a>=this.listItems.length-this.listItemsPerPage?(this.itemIndex=this.listItems.length-this.listItemsPerPage,b=!0):0>=a?(this.itemIndex=0,b=!0):this.itemIndex=a;d.set(this.listNode,"marginLeft",-1*this.itemIndex*this.listItemWidthPx+"px");return b},moveToNextItem:function(){return this.moveToItemLeftMost(this.itemIndex+1)},moveToPreviousItem:function(){return this.moveToItemLeftMost(this.itemIndex-1)},itemsOnPage:function(a){var b=Math.max(0,Math.min(this.listItems.length,a*this.listItemsPerPage));
return Math.max(0,Math.min(this.listItems.length,(a+1)*this.listItemsPerPage))-b},pageOfItem:function(a){return Math.floor(a/this.listItemsPerPage)},moveToItem:function(a,b){var c=this.pageOfItem(a);c!=this.pageIndex&&this.moveToPage(c,b)},canPageNext:function(){return this.pageIndex<this._getMaxPage()},canPagePrevious:function(){return 0<this.pageIndex},append:function(a){this.listItems.push(a);this._putItemInList(a)},resize:function(a,b){this.listItemWidthPx=a.width;this.listItemHeightPx=a.height;
this.adjustView();for(var c=0;c<this.listItemNodes.length;c++)this.setWidth(this.listItemNodes[c],this.listItemWidthPx),this.setHeight(this.listItemNodes[c],this.listItemHeightPx);this.moveToPage(this.pageIndex,b)},setHeight:function(a,b){b&&d.set(a,"height",b+"px")},setWidth:function(a,b){b&&d.set(a,"width",b+"px")},onTouchMove:function(b,c,f){if(b&&("left"==f||"right"==f))c=-1*this.pageIndex*this.listItemWidthPx*this.listItemsPerPage,b=c+b,Math.abs(c-b)<this.listItemWidthPx*this.listItemsPerPage&&
(this.transitionClass&&a.contains(this.listNode,this.transitionClass)&&a.remove(this.listNode,this.transitionClass),d.set(this.listNode,"marginLeft",b+"px")),event.preventDefault()},onTouchEnd:function(a,b,c){if(a&&("left"==c||"right"==c))a=-1*this.pageIndex*this.listItemWidthPx*this.listItemsPerPage,b=d.get(this.listNode,"marginLeft"),isNaN(b)||(Math.abs(a-b)>this.listItemWidthPx*this.listItemsPerPage/6?(0<a-b?(dPage=1,this.moveToNextPage({animationDuration:0})):(dPage=-1,this.moveToPreviousPage({animationDuration:0})),
this._notifyOnPageChangeAttemptListeners(dPage)):this.moveToPage(this.pageIndex,{animationDuration:0}),event.preventDefault())},addOnPageChangedListener:function(a){a&&(this._onPageChangedListeners||(this._onPageChangedListeners=[]),this._onPageChangedListeners.push(a))},_notifyOnPageChangeAttemptListeners:function(a){if(this._onPageChangedListeners)for(var b=0;b<this._onPageChangedListeners.length;b++)if("function"==typeof this._onPageChangedListeners[b])this._onPageChangedListeners[b](a)}});h.mixin(redfin.common.SideScrollListWidget.prototype,
n);return b})},"redfin/search/data/DataLoaderWrapper":function(){define("redfin/search/data/DataLoaderWrapper",["dijit","dojo","dojox","dojo/require!redfin/common/data/DataObject,redfin/common/data/MethodGenerator"],function(h,b,e){b.provide("redfin.search.data.DataLoaderWrapper");b.require("redfin.common.data.DataObject");b.require("redfin.common.data.MethodGenerator");b.declare("redfin.search.data.DataLoaderWrapper",[redfin.common.data.DataObject],{});b.forEach(["path","data"],function(a){redfin.common.data.MethodGenerator.generateMethods(redfin.search.data.DataLoaderWrapper,
a)})})},"redfin/search/details/media/MediaFlicker":function(){define("dojo/_base/array dojo/_base/declare dojo/text!redfin/search/details/media/templates/MediaFlicker.html dijit/_TemplatedMixin dijit/_Widget dijit/_WidgetsInTemplateMixin redfin/common/SideScrollListWidget".split(" "),function(h,b,e,a,c,d,g){return b("redfin.search.details.media.MediaFlicker",[c,a,d],{templateString:e,swipeable:!1,itemsPerPage:10,peekItems:0,animationDuration:500,mediaScroll:null,transitionClass:null,widgetsInTemplate:!0,
itemSize:{width:45,height:35},windowSize:{width:40,height:33},postMixInProperties:function(){this.inherited(arguments);this._mediaItems=[]},postCreate:function(){this.initMediaScrollWidget();if(this._mediaItems&&this._mediaItems.length)for(var a=0;a<this._mediaItems.length;a++)this.mediaScroll.append(this._mediaItems[a].domNode)},_setMediaItemsAttr:function(a){this._mediaItems=a},initMediaScrollWidget:function(){this.mediaScroll||(this.mediaScroll=new redfin.common.SideScrollListWidget({listItems:[],
listItemsPerPage:this.getAdjustedItemsPerPage(),listItemWidthPx:this.itemSize.width,listItemHeightPx:this.itemSize.height,swipeable:this.swipeable,animationDuration:this.animationDuration,transitionClass:this.transitionClass},this.content))},getMediaItems:function(){return this._mediaItems},getMediaItem:function(a){return this._mediaItems[a]},currentPage:function(){return this.mediaScroll.pageIndex},moveToItem:function(a,b){var c=this.mediaScroll.pageOfItem(a);return this.moveToPage(c,b)},pageOfItem:function(a){return this.mediaScroll.pageOfItem(a)},
itemsOnPage:function(a){return this.mediaScroll.itemsOnPage(a)},adjustItemsPerPage:function(a){this.itemsPerPage=a;return this.mediaScroll.adjustItemsPerPage(this.getAdjustedItemsPerPage())},getAdjustedItemsPerPage:function(){return this.itemsPerPage-this.peekItems},resize:function(a,b){this.mediaScroll.resize(a,b);dojo.forEach(this._mediaItems,function(c){c.resize(a,b)},this)},addMediaItem:function(a){this._mediaItems.push(a);this.mediaScroll.append(a.domNode)},addMediaList:function(a){this._mediaItems||
(this._mediaItems=[]);for(var b=0;b<a.length;b++)this._mediaItems.push(a[b])},refreshView:function(){this.mediaScroll.adjustView()},moveToNextPage:function(){this.moveToPage(this.mediaScroll.pageIndex+1)},moveToPreviousPage:function(){this.moveToPage(this.mediaScroll.pageIndex-1)},moveToPage:function(a,b){a>this.getLastPage()&&(a=this.getLastPage());0>a&&(a=0);this.mediaScroll.moveToPage(a,b)},canPageNext:function(){return this.mediaScroll.pageIndex<this.getLastPage()},canPagePrevious:function(){return this.mediaScroll.canPagePrevious()},
getLastPage:function(){var a=this.mediaScroll._getMaxPage();0<a&&this.peekItems>=this.mediaScroll.itemsOnPage(a)&&a--;return Math.max(0,a)},onTouchMove:function(a,b,c){if(this.mediaScroll&&this.mediaScroll.onTouchMove)this.mediaScroll.onTouchMove(a,b,c)},onTouchEnd:function(a,b,c){if(this.mediaScroll&&this.mediaScroll.onTouchEnd)this.mediaScroll.onTouchEnd(a,b,c)},addOnPageChangedListener:function(a){this.mediaScroll.addOnPageChangedListener(a)},destroy:function(){this.mediaScroll.destroy();this.inherited(arguments)}})})},
"redfin/search/details/Sash":function(){define("dojo dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/text!redfin/search/details/templates/Sash.html redfin/search/common/_PhasedWidget".split(" "),function(h,b,e,a,c,d,g,f){return e("redfin.search.details.Sash",f,{templateString:g,size:"lg",clickableSizes:["lg"],imageServer:g_imageServerUrl,links:{"redfin-sold":"/sell-a-home/why-redfin-is-better?src\x3dsdp","redfin-new":"/sell-a-home/why-redfin-is-better?src\x3dldp",
"redfin-for-sale":"/sell-a-home/why-redfin-is-better?src\x3dldp","redfin-open-house":"/sell-a-home/why-redfin-is-better?src\x3dldp","redfin-pending":"/sell-a-home/why-redfin-is-better?src\x3dldp","redfin-bought":"/buy-a-home/why-redfin-is-better?src\x3dsdp"},sashClass:null,property:null,listing:null,clickable:!1,postMixInProperties:function(){this.sashClassFragment=this.getSashClassFragment();this.sashClass="sprite-sash-"+this.sashClassFragment+"-"+this.size},postCreate:function(){this.clickable&&
0<=b.indexOf(this.clickableSizes,this.size)&&this.sashClassFragment in this.links?a.set(this.clickTarget,"href",this.links[this.sashClassFragment]):d.destroy(this.clickableSash)},show:function(){c.remove(this.domNode,"hidden")},hide:function(){c.add(this.domNode,"hidden")},getSashClassFragment:function(){this.property||(this.property=this.data&&this.data.get("property"));this.listing||(this.listing=this.data&&this.data.get("property.listing"));var a,b,c,d,f,e,g,h,u,w=this.restrictedValueAccessor;
this.listing?(a=this.listing.get("listingBroker.isRedfin"),b=this.listing.get("sellingBroker.isRedfin"),c=this.listing.get("searchStatus")==g_searchStatus.SOLD,f=this.listing.get("isActivish"),e=this.listing.get("listingType")==g_listingTypes.FORECLOSURE,g=this.listing.get("isNew"),d=w.getRestrictedValue(this.listing,"isPendingish").valueIfHasAccess(),h=w.getRestrictedValue(this.listing,"hasOpenHouses").valueIfHasAccess(),u=w.getRestrictedValue(this.listing,"isShortSale").valueIfHasAccess()):this.property&&
!this.property.get("isActivish")&&(c=this.property.get("lastSaleDate")?!0:!1);return c?a?"redfin-sold":b?"redfin-bought":"sold":d?a?"redfin-pending":"pending":f?e?"foreclosure":g?a?"redfin-new":"new":h?a?"redfin-open-house":"open-house":u?"short-sale":a?"redfin-for-sale":"for-sale":"not-for-sale"}})})},"redfin/search/common/mixins/_HintTextMixin":function(){define(["dojo/_base/lang","dojo/dom-class","dojo/dom-attr","dojo/query","redfin/common/has"],function(h,b,e,a,c){var d={_setupHint:function(a,
c){a.value=c;b.add(a,"hintText");this.connect(a,"onblur",h.hitch(this,this._onNodeBlur,a,c));this.connect(a,"onfocus",h.hitch(this,this._onNodeFocus,a,c))},_onNodeFocus:function(a,c){a&&(a.className&&a.value==c)&&(b.remove(a,"hintText"),a.value="")},_onNodeBlur:function(a,c){a&&""===a.value&&(b.add(a,"hintText"),a.value=c)},_scanAndSetupHints:function(b,d){var k=h.hitch(this,function(a){c("input-placeholder")||this._setupHint(a,e.get(a,d))});a("["+d+"]",b).forEach(k)},hasPlaceholderSupport:function(){return c("input-placeholder")}};
h.setObject("redfin.search.common.mixins._HintTextMixin",d);return d})},"redfin/common/PhantomUtils":function(){define(["dijit","dojo","dojox"],function(h,b,e){b.provide("redfin.common.PhantomUtils");b.setObject("redfin.utils",{isSEO:function(){return"undefined"!=typeof phantom&&"SEARCHENGINE"==b.global.g_phantomSource},isPhantom:function(){return"undefined"!=typeof phantom},phantomLog:function(a){redfin.utils.isPhantom()},completePhantom:function(a){a?b.publish("/phantom/complete",[{data:a}]):b.publish("/phantom/complete")},
deleteHiddenNodes:function(a){if(a){var c=a.style?a.style.display:null;if(b.hasClass(a,"hidden")||"none"==c)b.destroy(a);else{a=a.childNodes;for(var d in a)this.deleteHiddenNodes(a[d])}}}})})},"redfin/common/ContactBoxService":function(){define("dojo dojo/_base/declare dojo/request dojo/dom-class dojo/topic dojo/has redfin/common/mixins/_Adopt redfin/common/data/ObjectGraph redfin/common/elements/Spinner redfin/common/widgets/ContactBox redfin/search/details/ContactBoxABTestMixin".split(" "),function(h,
b,e,a,c,d,g,f,k,l,m){return b("redfin.common.ContactBoxService",[g,m],{getContactBox:function(a,b){this.spinner=this.adopt(k,{}).placeAt(a);this.spinner.show();var c=b.apiVersion||1;this.domNode=a;e("/stingray/do/contactbox/"+c+"/get",{method:"POST",query:b,handleAs:"json-squiggly"}).then(this._onSuccessRequestingContactBoxData(a),this._onFailureRequestingContactBoxData(a))},_onSuccessRequestingContactBoxData:function(a){return h.hitch(this,function(b){b.resultCode?this._onFailureRequestingContactBoxData(a)(b):
(b=(new redfin.common.data.ObjectGraph(b.payload)).getRoot().get("data"),this._runContactBoxMinimalButtonTextExperiment(b)&&this._prepareContactBoxForContactBoxMinimalButtonTextExperiment(b),this.adopt(l,b,a),b.refundDisplayed&&(window.g_contactBoxRefundDisplayed=b.refundDisplayed,window.g_contactBoxPartnerRefundDisplayed=b.partnerRefundDisplayed,window.g_contactBoxIsDisplayableShortSale=b.isDisplayableShortSale,window.g_contactBoxDefaultBuyCommission=b.defaultBuyCommission,window.g_contactBoxHasFeeSchedule=
b.hasFeeSchedule,c.publish("contactBox/refundDisplayed",b.refundDisplayed,b.partnerRefundDisplayed,b.isDisplayableShortSale)),this.spinner.hide())})},_onFailureRequestingContactBoxData:function(b){return h.hitch(this,function(c){a.add(b,"hidden")})}})})},"dijit/hccss":function(){define("dijit/hccss",["dojo/dom-class","dojo/hccss","dojo/ready","dojo/_base/window"],function(h,b,e,a){e(90,function(){b("highcontrast")&&h.add(a.body(),"dijit_a11y")});return b})},"redfin/common/OmsAd":function(){define("dojo/_base/declare dijit/_Widget dijit/_TemplatedMixin dojo/text!./templates/OmsAd.html dojo/_base/lang dojo/aspect dojo/dom dojo/dom-attr dojo/dom-class redfin/bouncer/Bouncer".split(" "),
function(h,b,e,a,c,d,g,f,k,l){return h("redfin.common.OmsAd",[b,e],{templateString:a,unit:null,size:null,adId:null,targeting:null,hideOnFail:!1,OMS_WAIT_TIME:2E3,postCreate:function(){this.inherited(arguments);l.isOn(g_feature.DFP_OMS)?(this.hideOnFail&&d.after(this,"onFail",c.hitch(this,this.hide)),!this.unit||!this.adId||!(this.size instanceof Array)||2>this.size.length?(console.error("OmsAd | Required params (unit / adId / size) are not correctly defined | Widget: ",this),this.onFail()):(g.byId(this.adId)||
f.set(this.adNode,"id",this.adId),this._requestAd(this.unit,this.size,this.adId,this.targeting||{}))):this._hide()},hide:function(){k.add(this.domNode,"hidden");this.onHide()},_setUpGA:function(){window.googletag=window.googletag||{};googletag.cmd=googletag.cmd||[];var a=document.createElement("script");a.async=!0;a.type="text/javascript";a.src=("https:"==document.location.protocol?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,
b)},_requestAd:function(a,b,d,f){this._setUpGA();googletag.cmd.push(function(){googletag.defineSlot(a,b,d).addService(googletag.pubads());for(var c in f)googletag.pubads().setTargeting(c,f[c]);googletag.enableServices();googletag.display(d)});setTimeout(c.hitch(this,this._checkIfLoaded),this.OMS_WAIT_TIME)},_checkIfLoaded:function(){var a=g.byId(this.adId);if(!a||""===c.trim(a.innerHTML))console.warn("OmsAd | Failed to load ad in time | Widget:\n",this),this.onFail();else this.onLoad()},onHide:function(){},
onLoad:function(){},onFail:function(){},adNode:null})})},"url:redfin/search/common/widgets/footer/templates/Navigation.html":'\x3cdiv class\x3d"FooterNavigation col12 no-print"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"mobileFeedbackNode"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"nav"\x3e\n\t\t\x3cdiv class\x3d"nav-block"\x3e\x3ca href\x3d"/about/redfin" target\x3d"_top"\x3eAbout Us\x3c/a\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"nav-block"\x3e\x3ca href\x3d"/about/news" target\x3d"_top"\x3ePress\x3c/a\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"nav-block"\x3e\x3ca href\x3d"/research" target\x3d"_top"\x3eResearch\x3c/a\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"nav-block"\x3e\x3ca href\x3d"http://blog.redfin.com/" target\x3d"_top"\x3eBlog\x3c/a\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"nav-block"\x3e\x3ca href\x3d"/about/jobs" target\x3d"_top"\x3eJobs\x3c/a\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"nav-block"\x3e\x3ca href\x3d"/about/redfin-partner-agents-application/?src\x3dpartner-application-footer" target\x3d"_top"\x3eReferrals\x3c/a\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"nav-block"\x3e\x3ca href\x3d"/about/terms-of-use" target\x3d"_top"\x3eDisclaimers\x3c/a\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"nav-block"\x3e\x3ca target\x3d"_top" data-dojo-attach-point\x3d"feedbackNode"\x3eFeedback\x3c/a\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"nav-block"\x3e\x3ca href\x3d"/about/contact-us" target\x3d"_top"\x3eContact Us\x3c/a\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"nav-block"\x3e\x3ca href\x3d"/stingray/do/landing-page?uid\x3dsite-map" target\x3d"_top"\x3eSite Map\x3c/a\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"nav-block"\x3e\x3ca href\x3d"/real-estate-glossary" target\x3d"_top"\x3eGlossary\x3c/a\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"nav-block"\x3e\x3ca href\x3d"/home-buying-guide/welcome" target\x3d"_top"\x3eBuyers Guide\x3c/a\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"nav-block"\x3e\x3ca href\x3d"/help/search/the-most-homes-for-sale" target\x3d"_top"\x3eHelp\x3c/a\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"redfin/widget/Button":function(){require({cache:{"url:redfin/widget/templates/Button.html":'\x3ca class\x3d"Button ${buttonType} ${size} inline-block basic-border-radius ${class}" tabindex\x3d"${tabindex}" style\x3d"${style}" data-dojo-attach-point\x3d"buttonNode" data-dojo-attach-event\x3d"onclick:_onClick"\x3e\t\n\t\x3cdiv style\x3d"position:absolute; z-index:-50; top:0px; width:20px; height:20px; visibility: hidden;" data-dojo-attach-point\x3d"hiddenSubmitInput"\x3e\t\n\t\t\x3c!-- \n\t\t\twe need to have an invisible submit button for IE to submit on enter correctly\n\t\t\thowever, we can\'t use display:none or visibility hidden, position:absolute on the input \n\t\t\talso dose not seem to work correctly, so we have to be tricky to make this not visible\n\t\t --\x3e\n\t\t\x3cinput type\x3d"submit" style\x3d"z-index:-10; border: none; width:0px; height:0px; position:relative; height:7px;" value\x3d"i"\x3e\x3c/div\x3e\n\t\x3cspan data-dojo-attach-point\x3d"labelNode"\x3e${label}\x3c/span\x3e\n\x3c/a\x3e'}});
define("redfin/widget/Button","dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/dom-style dojo/text!redfin/widget/templates/Button.html dijit/_TemplatedMixin dijit/_Widget".split(" "),function(h,b,e,a,c,d,g){return h("redfin.widget.Button",[g,d],{label:"",style:"",imageServerUrl:"",preIconClass:"",preIconNode:null,hasArrow:!1,arrowNode:null,buttonType:"tertiary",disabled:!1,clickDisabled:!1,size:"medium",isSubmit:!1,tabindex:"-1",templateString:c,buildRendering:function(){this.inherited(arguments);
this.isSubmit||e.destroy(this.hiddenSubmitInput);this.buttonType||(this.buttonType="tertiary");this.set("disabled",this.disabled)},_onClick:function(a){if(!this.clickDisabled)this.onClick(a)},onClick:function(a){},setAllDisabled:function(a){this.set("disabled",a);this.setClickDisabled(a);this.setCursorDisabled(a)},_setDisabledAttr:function(a){a?b.add(this.domNode,"disabled"):b.remove(this.domNode,"disabled");this.disabled=a},setClickDisabled:function(a){this.clickDisabled=a},setCursorDisabled:function(b){b?
(a.set(this.domNode,"cursor","default"),a.set(this.buttonNode,"cursor","default")):(a.set(this.domNode,"cursor","pointer"),a.set(this.buttonNode,"cursor","pointer"))},set:function(a,b){switch(a.toLowerCase()){case "label":this.setLabel(b);break;case "linkHref":this.setLinkHref(b);break;default:this.inherited(arguments)}},_getDisabledAttr:function(){return this.disabled},setLabel:function(a){this.labelNode.innerHTML=a},getLabel:function(){return this.labelNode.innerHTML},setLinkHref:function(a){this.buttonNode.href=
a}})})},"redfin/common/data/CorgiExtra":function(){define(["dijit","dojo","dojox","dojo/require!redfin/common/data/DataObject,redfin/search/common/RestrictedValueAccessor,redfin/common/data/CorgiLastSaleInfo"],function(h,b,e){b.provide("redfin.common.data.CorgiExtra");b.require("redfin.common.data.DataObject");b.require("redfin.search.common.RestrictedValueAccessor");b.require("redfin.common.data.CorgiLastSaleInfo");b.declare("redfin.common.data.CorgiExtra",[redfin.common.data.DataObject],{})})},
"dijit/popup":function(){define("dijit/popup","dojo/_base/array dojo/aspect dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/_base/event dojo/keys dojo/_base/lang dojo/on dojo/sniff ./place ./BackgroundIframe ./main".split(" "),function(h,b,e,a,c,d,g,f,k,l,m,p,n,q,r,t,u){function w(){this._popupWrapper&&(g.destroy(this._popupWrapper),delete this._popupWrapper)}a=a(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_createWrapper:function(a){var c=
a._popupWrapper,d=a.domNode;c||(c=g.create("div",{"class":"dijitPopup",style:{display:"none"},role:"presentation"},a.ownerDocumentBody),c.appendChild(d),d=d.style,d.display="",d.visibility="",d.position="",d.top="0px",a._popupWrapper=c,b.after(a,"destroy",w,!0));return c},moveOffScreen:function(a){a=this._createWrapper(a);k.set(a,{visibility:"hidden",top:"-9999px",display:""})},hide:function(a){a=this._createWrapper(a);k.set(a,"display","none")},getTopPopup:function(){for(var a=this._stack,b=a.length-
1;0<b&&a[b].parent===a[b-1].widget;b--);return a[b]},open:function(a){for(var b=this._stack,k=a.popup,g=a.orient||["below","below-alt","above","above-alt"],h=a.parent?a.parent.isLeftToRight():f.isBodyLtr(k.ownerDocument),u=a.around,z=a.around&&a.around.id?a.around.id+"_dropdown":"popup_"+this._idGen++;b.length&&(!b[b.length-1].widget.shouldCloseOnPopupOpen||b[b.length-1].widget.shouldCloseOnPopupOpen())&&(!a.parent||!c.isDescendant(a.parent.domNode,b[b.length-1].widget.domNode));)this.close(b[b.length-
1].widget);var w=this._createWrapper(k);d.set(w,{id:z,style:{zIndex:this._beginZIndex+b.length},"class":"dijitPopup "+(k.baseClass||k["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:a.parent?a.parent.id:""});if((q("ie")||q("mozilla"))&&!k.bgIframe)k.bgIframe=new t(w);g=u?r.around(w,u,g,h,k.orient?p.hitch(k,"orient"):null):r.at(w,a,"R"==g?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],a.padding);w.style.display="";w.style.visibility="visible";k.domNode.style.visibility="visible";h=[];h.push(n(w,
e._keypress,p.hitch(this,function(b){if(b.charOrCode==m.ESCAPE&&a.onCancel)l.stop(b),a.onCancel();else if(b.charOrCode===m.TAB&&(l.stop(b),(b=this.getTopPopup())&&b.onCancel))b.onCancel()})));k.onCancel&&a.onCancel&&h.push(k.on("cancel",a.onCancel));h.push(k.on(k.onExecute?"execute":"change",p.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));b.push({widget:k,parent:a.parent,onExecute:a.onExecute,onCancel:a.onCancel,onClose:a.onClose,handlers:h});if(k.onOpen)k.onOpen(g);
return g},close:function(a){for(var b=this._stack;a&&h.some(b,function(b){return b.widget==a})||!a&&b.length;){var c=b.pop(),d=c.widget,f=c.onClose;if(d.onClose)d.onClose();for(var e;e=c.handlers.pop();)e.remove();d&&d.domNode&&this.hide(d);f&&f()}}});return u.popup=new a})},"redfin/search/common/elements/ClickerTooltip":function(){require({cache:{"url:redfin/search/common/elements/templates/ClickerTooltip.html":'\x3cdiv class\x3d"hidden ClickerTooltip basic-border-radius transition-opaque"\x3e\n\t\x3cdiv class\x3d"arrow" data-dojo-attach-point\x3d"arrowNode"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"header"\x3e\n\t\t\x3ch3 class\x3d"clear-fix"\x3e\n\t\t\t\x3cdiv class\x3d"float-right inline-block basic-border-radius basic-button-black med close clickable hidden" data-dojo-attach-point\x3d"closeNode"\x3e\x3cdiv class\x3d"inline-block sprite-16-close"\x3e\x3c/div\x3e\x3c/div\x3e\n\t\t\t\x3cspan class\x3d"nowrap" data-dojo-attach-point\x3d"headerNode"\x3e\x3c/span\x3e\n\t\t\x3c/h3\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"content grey-pattern-bg" data-dojo-attach-point\x3d"contentNode"\x3e\x3c/div\x3e\n\x3c/div\x3e'}});
define("redfin/search/common/elements/ClickerTooltip","dojo dojo/on dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/_base/window dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/fx dojox/fx/scroll dojo/text!redfin/search/common/elements/templates/ClickerTooltip.html dijit/_Widget dijit/place redfin/search/common/dialogs/FixedDialogUnderlay redfin/search/common/_PhasedWidget redfin/search/util/NumberUtil".split(" "),function(h,b,e,a,c,d,g,f,k,l,m,p,n,q,r,t,u,w){p=a("redfin.search.common.elements.ClickerTooltip",
q,{connectIds:null,header:"",tooltipClass:"",tooltipClassParams:{},tooltipContent:"",position:"before",dynamicPosition:!1,orientation:"bottom",dynamicOrientation:!1,customOffset:null,showClose:!1,closeOnScroll:!1,isShowing:!1,_master:null,buildRendering:function(){this._master||(this._master=new redfin.search.common.elements.MasterClickerTooltip({showClose:this.showClose,onHideOpened:this.onHideOpened,dynamicPosition:this.dynamicPosition,position:this.position,dynamicOrientation:this.dynamicOrientation,
orientation:this.orientation}))},postCreate:function(){this.connectIds=this.connectIds||[this.srcNodeRef];e.forEach(this.connectIds,function(a){a=g.byId(a);null!==a&&b(a,"click",c.hitch(this,function(a){this.open(a)}))},this)},forceOpen:function(a){this._master.show(this.header,this.tooltipContent,a,this.tooltipClass,this.tooltipClassParams,this.closeOnScroll,this.customOffset);this.onShow();this.isShowing=!0},open:function(a){for(var b=a.target,c=0;c<this.connectIds.length;c++){var d=g.byId(this.connectIds[c]);
if(d==a.target){b=a.target;break}else d.contains(a.target)&&(b=d)}this._master.show(this.header,this.tooltipContent,b,this.tooltipClass,this.tooltipClassParams,this.closeOnScroll,this.customOffset);this.onShow();this.isShowing=!0},scrollPageToTooltip:function(){this._master.scrollPageToTooltip()},onShow:function(){},onHideOpened:function(){},close:function(){this._master.hideOpened();this.isShowing=!1},getMasterTooltip:function(){return this._master}});a("redfin.search.common.elements.MasterClickerTooltip",
u,{templateString:n,arrowSize:15,_showing:!1,showClose:!1,position:"before",dynamicPosition:!1,orientation:"bottom",dynamicOrientation:!1,customOffset:null,onHide:function(){},onShow:function(){},buildRendering:function(){this.inherited(arguments);this.showClose&&f.remove(this.closeNode,"hidden");this.placeAt(d.body(),"last");redfin.search.common.elements.MasterClickerTooltip._underlay||(redfin.search.common.elements.MasterClickerTooltip._underlay=new t({dialogId:this.id}));this.underlay=redfin.search.common.elements.MasterClickerTooltip._underlay;
this._bindEvents();var a=l.get(this.domNode,"zIndex");redfin.util.num.isNumeric(a)?l.set(this.underlay.domNode,"zIndex",a-1):console.error("ClickerTooltip z-index is not a number and can't be used for setting z-index of the underlay. Are you missing styles?")},_bindEvents:function(){this.connect(this.underlay.domNode,"click",function(){this.hideOpened()});this.connect(this.closeNode,"click",function(){this.hideOpened()})},getToolTipObject:function(){return this._tooltip},show:function(a,d,e,g,m,p,
n){var q=l.get(this.domNode,"zIndex");redfin.util.num.isNumeric(q)?l.set(this.underlay.domNode,"zIndex",q-1):console.error("ClickerTooltip z-index is not a number and can't be used for setting z-index of the underlay. Are you missing styles?");if(!this._showing){this._showing=!0;this.underlay.show();h.html.set(this.headerNode,a);g?(h.html.set(this.contentNode,""),this._tooltip=this.adopt(g,m),this._tooltip.placeAt(this.contentNode),this._tooltip.startup()):h.html.set(this.contentNode,d);f.remove(this.domNode,
"hidden");this.dynamicPosition&&(a=h.window.getBox().h,d=k.position(e).y,this.position=a/2>d?"below":"above");if(this.dynamicOrientation)switch(g=h.window.getBox().w,a=h.window.getBox().h,m=k.position(e).x,d=k.position(e).y,this.position){case "above":case "below":this.orientation=m<3*g/10?"left":3*g/10<=m&&m<=7*g/10?"center":"right";break;case "before":case "after":this.orientation=d<2*a/5?"top":2*a/5<=d&&d<=4*a/5?"center":"bottom"}d=a=0;n&&n.top&&(a+=n.top);n&&n.left&&(d+=n.left);n="arrow-";g=this.position;
"center"==this.orientation&&("below"==this.position?g="below-centered":"above"==this.position&&(g="above-centered"));g=r.around(this.domNode,e,g?[g]:["after-centered","before-centered"],!0);m=h.marginBox(this.domNode);q=h.marginBox(e);e=k.position(e,!0);"before"==this.position?(n+="left-",l.set(this.domNode,"left",d+m.l-this.arrowSize+"px"),"center"==this.orientation?l.set(this.domNode,"top",a+e.y-m.h/2+q.h+"px"):"bottom"==this.orientation?(g.corner="BR",l.set(this.domNode,"top",a+e.y-m.h+2*q.h+"px")):
(g.corner="TR",l.set(this.domNode,"top",a+e.y+"px"))):"after"==this.position?(n+="right-",l.set(this.domNode,"left",d+m.l+this.arrowSize+"px"),"center"==this.orientation?l.set(this.domNode,"top",a+e.y-m.h/2+q.h/2+"px"):"bottom"==this.orientation?(g.corner="BL",l.set(this.domNode,"top",a+e.y-m.h+2*q.h+"px")):(g.corner="TL",l.set(this.domNode,"top",a+e.y+"px"))):"above"==this.position?(n+="bottom-",l.set(this.domNode,"top",a+e.y-m.h-this.arrowSize+"px"),"right"==this.orientation&&(l.set(this.domNode,
"left",d+e.x-m.w+q.w+"px"),g.corner="BR")):"below"==this.position&&(n+="top-",l.set(this.domNode,"top",a+e.y+e.h+this.arrowSize+"px"),"right"==this.orientation&&(l.set(this.domNode,"left",d+e.x-m.w+q.w+"px"),g.corner="TR"));n="center"==this.orientation?n+"cc":n+g.corner.toLowerCase();f.remove(this.arrowNode);f.add(this.arrowNode,n);l.set(this.domNode,"opacity",1);p?this.scrollHandler=b(window,"scroll",c.hitch(this,"onScroll")):this.scrollHandler&&this.scrollHandler.remove();this.onShow()}},scrollPageToTooltip:function(){var a=
this.domNode;a&&(a=k.position(a),a.x=0,a.y-=30,dojox.fx.smoothScroll({win:window,target:a,easing:m.easing.expoOut,duration:300,speed:20}).play())},hide:function(){this.hideOpened()},onHideOpened:function(){},hideOpened:function(){this._showing&&(this._showing=!1,l.set(this.domNode,"opacity",null),setTimeout(c.hitch(this,function(){f.add(this.domNode,"hidden");this.underlay.hide();this.onHideOpened()}),500),this.onHide())},onScroll:function(a){this._showing&&(this.hideOpened(),this.scrollHandler.remove())}});
return p})},"dojo/data/ItemFileWriteStore":function(){define("../_base/lang ../_base/declare ../_base/array ../_base/json ../_base/kernel ./ItemFileReadStore ../date/stamp".split(" "),function(h,b,e,a,c,d,g){return b("dojo.data.ItemFileWriteStore",d,{constructor:function(a){this._features["dojo.data.api.Write"]=!0;this._features["dojo.data.api.Notification"]=!0;this._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};this._datatypeMap.Date.serialize||(this._datatypeMap.Date.serialize=function(a){return g.toISOString(a,
{zulu:!0})});a&&!1===a.referenceIntegrity&&(this.referenceIntegrity=!1);this._saveInProgress=!1},referenceIntegrity:!0,_assert:function(a){if(!a)throw Error("assertion failed in ItemFileWriteStore");},_getIdentifierAttribute:function(){return this.getFeatures()["dojo.data.api.Identity"]},newItem:function(a,b){this._assert(!this._saveInProgress);this._loadFinished||this._forceLoad();if("object"!=typeof a&&"undefined"!=typeof a)throw Error("newItem() was passed something other than an object");var c=
null,d=this._getIdentifierAttribute();if(d===Number)c=this._arrayOfAllItems.length;else{c=a[d];if("undefined"===typeof c)throw Error("newItem() was not passed an identity for the new item");if(h.isArray(c))throw Error("newItem() was not passed an single-valued identity");}this._itemsByIdentity&&this._assert("undefined"===typeof this._itemsByIdentity[c]);this._assert("undefined"===typeof this._pending._newItems[c]);this._assert("undefined"===typeof this._pending._deletedItems[c]);var e={};e[this._storeRefPropName]=
this;e[this._itemNumPropName]=this._arrayOfAllItems.length;this._itemsByIdentity&&(this._itemsByIdentity[c]=e,e[d]=[c]);this._arrayOfAllItems.push(e);d=null;if(b&&b.parent&&b.attribute){var d={item:b.parent,attribute:b.attribute,oldValue:void 0},g=this.getValues(b.parent,b.attribute);if(g&&0<g.length){var q=g.slice(0,g.length);d.oldValue=1===g.length?g[0]:g.slice(0,g.length);q.push(e);this._setValueOrValues(b.parent,b.attribute,q,!1);d.newValue=this.getValues(b.parent,b.attribute)}else this._setValueOrValues(b.parent,
b.attribute,e,!1),d.newValue=e}else e[this._rootItemPropName]=!0,this._arrayOfTopLevelItems.push(e);this._pending._newItems[c]=e;for(var r in a){if(r===this._storeRefPropName||r===this._itemNumPropName)throw Error("encountered bug in ItemFileWriteStore.newItem");c=a[r];h.isArray(c)||(c=[c]);e[r]=c;if(this.referenceIntegrity)for(g=0;g<c.length;g++)q=c[g],this.isItem(q)&&this._addReferenceToMap(q,e,r)}this.onNew(e,d);return e},_removeArrayElement:function(a,b){var c=e.indexOf(a,b);return-1!=c?(a.splice(c,
1),!0):!1},deleteItem:function(a){this._assert(!this._saveInProgress);this._assertIsItem(a);var b=a[this._itemNumPropName],c=this.getIdentity(a);if(this.referenceIntegrity){var d=this.getAttributes(a);a[this._reverseRefMap]&&(a["backup_"+this._reverseRefMap]=h.clone(a[this._reverseRefMap]));e.forEach(d,function(b){e.forEach(this.getValues(a,b),function(c){this.isItem(c)&&(a["backupRefs_"+this._reverseRefMap]||(a["backupRefs_"+this._reverseRefMap]=[]),a["backupRefs_"+this._reverseRefMap].push({id:this.getIdentity(c),
attr:b}),this._removeReferenceFromMap(c,a,b))},this)},this);if(d=a[this._reverseRefMap])for(var g in d){var n=null;if(n=this._itemsByIdentity?this._itemsByIdentity[g]:this._arrayOfAllItems[g])for(var q in d[g]){var r=this.getValues(n,q)||[],t=e.filter(r,function(a){return!(this.isItem(a)&&this.getIdentity(a)==c)},this);this._removeReferenceFromMap(a,n,q);t.length<r.length&&this._setValueOrValues(n,q,t,!0)}}}this._arrayOfAllItems[b]=null;a[this._storeRefPropName]=null;this._itemsByIdentity&&delete this._itemsByIdentity[c];
this._pending._deletedItems[c]=a;a[this._rootItemPropName]&&this._removeArrayElement(this._arrayOfTopLevelItems,a);this.onDelete(a);return!0},setValue:function(a,b,c){return this._setValueOrValues(a,b,c,!0)},setValues:function(a,b,c){return this._setValueOrValues(a,b,c,!0)},unsetAttribute:function(a,b){return this._setValueOrValues(a,b,[],!0)},_setValueOrValues:function(a,b,c,d){this._assert(!this._saveInProgress);this._assertIsItem(a);this._assert(h.isString(b));this._assert("undefined"!==typeof c);
var g=this._getIdentifierAttribute();if(b==g)throw Error("ItemFileWriteStore does not have support for changing the value of an item's identifier.");var g=this._getValueOrValues(a,b),n=this.getIdentity(a);if(!this._pending._modifiedItems[n]){var q={},r;for(r in a)q[r]=r===this._storeRefPropName||r===this._itemNumPropName||r===this._rootItemPropName?a[r]:r===this._reverseRefMap?h.clone(a[r]):a[r].slice(0,a[r].length);this._pending._modifiedItems[n]=q}n=!1;if(h.isArray(c)&&0===c.length){if(n=delete a[b],
c=void 0,this.referenceIntegrity&&g){r=g;h.isArray(r)||(r=[r]);for(var t=0;t<r.length;t++)q=r[t],this.isItem(q)&&this._removeReferenceFromMap(q,a,b)}}else{n=h.isArray(c)?c.slice(0,c.length):[c];if(this.referenceIntegrity)if(g){r=g;h.isArray(r)||(r=[r]);var u={};e.forEach(r,function(a){this.isItem(a)&&(a=this.getIdentity(a),u[a.toString()]=!0)},this);e.forEach(n,function(c){if(this.isItem(c)){var d=this.getIdentity(c);u[d.toString()]?delete u[d.toString()]:this._addReferenceToMap(c,a,b)}},this);for(t in u)this._removeReferenceFromMap(this._itemsByIdentity?
this._itemsByIdentity[t]:this._arrayOfAllItems[t],a,b)}else for(t=0;t<n.length;t++)q=n[t],this.isItem(q)&&this._addReferenceToMap(q,a,b);a[b]=n;n=!0}if(d)this.onSet(a,b,g,c);return n},_addReferenceToMap:function(a,b,c){b=this.getIdentity(b);var d=a[this._reverseRefMap];d||(d=a[this._reverseRefMap]={});(a=d[b])||(a=d[b]={});a[c]=!0},_removeReferenceFromMap:function(a,b,c){b=this.getIdentity(b);var d=a[this._reverseRefMap],e;if(d){for(e in d)e==b&&(delete d[e][c],this._isEmpty(d[e])&&delete d[e]);this._isEmpty(d)&&
delete a[this._reverseRefMap]}},_dumpReferenceMap:function(){var a;for(a=0;a<this._arrayOfAllItems.length;a++);},_getValueOrValues:function(a,b){var c=void 0;this.hasAttribute(a,b)&&(c=this.getValues(a,b),c=1==c.length?c[0]:c);return c},_flatten:function(a){if(this.isItem(a))return{_reference:this.getIdentity(a)};if("object"===typeof a)for(var b in this._datatypeMap){var c=this._datatypeMap[b];if(h.isObject(c)&&!h.isFunction(c)){if(a instanceof c.type){if(!c.serialize)throw Error("ItemFileWriteStore:  No serializer defined for type mapping: ["+
b+"]");return{_type:b,_value:c.serialize(a)}}}else if(a instanceof c)return{_type:b,_value:a.toString()}}return a},_getNewFileContentString:function(){var b={},c=this._getIdentifierAttribute();c!==Number&&(b.identifier=c);this._labelAttr&&(b.label=this._labelAttr);b.items=[];for(c=0;c<this._arrayOfAllItems.length;++c){var d=this._arrayOfAllItems[c];if(null!==d){var e={},g;for(g in d)if(g!==this._storeRefPropName&&g!==this._itemNumPropName&&g!==this._reverseRefMap&&g!==this._rootItemPropName){var h=
this.getValues(d,g);if(1==h.length)e[g]=this._flatten(h[0]);else for(var q=[],r=0;r<h.length;++r)q.push(this._flatten(h[r])),e[g]=q}b.items.push(e)}}return a.toJson(b,!0)},_isEmpty:function(a){var b=!0;if(h.isObject(a))for(var c in a){b=!1;break}else h.isArray(a)&&0<a.length&&(b=!1);return b},save:function(a){this._assert(!this._saveInProgress);this._saveInProgress=!0;var b=this,d=function(){b._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};b._saveInProgress=!1;a&&a.onComplete&&a.onComplete.call(a.scope||
c.global)},e=function(d){b._saveInProgress=!1;a&&a.onError&&a.onError.call(a.scope||c.global,d)};if(this._saveEverything){var g=this._getNewFileContentString();this._saveEverything(d,e,g)}this._saveCustom&&this._saveCustom(d,e);!this._saveEverything&&!this._saveCustom&&d()},revert:function(){this._assert(!this._saveInProgress);for(var a in this._pending._modifiedItems){var b=this._pending._modifiedItems[a],c=null,c=this._itemsByIdentity?this._itemsByIdentity[a]:this._arrayOfAllItems[a];b[this._storeRefPropName]=
this;for(var d in c)delete c[d];h.mixin(c,b)}var g;for(a in this._pending._deletedItems)g=this._pending._deletedItems[a],g[this._storeRefPropName]=this,b=g[this._itemNumPropName],g["backup_"+this._reverseRefMap]&&(g[this._reverseRefMap]=g["backup_"+this._reverseRefMap],delete g["backup_"+this._reverseRefMap]),this._arrayOfAllItems[b]=g,this._itemsByIdentity&&(this._itemsByIdentity[a]=g),g[this._rootItemPropName]&&this._arrayOfTopLevelItems.push(g);for(a in this._pending._deletedItems)g=this._pending._deletedItems[a],
g["backupRefs_"+this._reverseRefMap]&&(e.forEach(g["backupRefs_"+this._reverseRefMap],function(a){this._addReferenceToMap(this._itemsByIdentity?this._itemsByIdentity[a.id]:this._arrayOfAllItems[a.id],g,a.attr)},this),delete g["backupRefs_"+this._reverseRefMap]);for(a in this._pending._newItems)b=this._pending._newItems[a],b[this._storeRefPropName]=null,this._arrayOfAllItems[b[this._itemNumPropName]]=null,b[this._rootItemPropName]&&this._removeArrayElement(this._arrayOfTopLevelItems,b),this._itemsByIdentity&&
delete this._itemsByIdentity[a];this._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};return!0},isDirty:function(a){return a?(a=this.getIdentity(a),(new Boolean(this._pending._newItems[a]||this._pending._modifiedItems[a]||this._pending._deletedItems[a])).valueOf()):!this._isEmpty(this._pending._newItems)||!this._isEmpty(this._pending._modifiedItems)||!this._isEmpty(this._pending._deletedItems)},onSet:function(a,b,c,d){},onNew:function(a,b){},onDelete:function(a){},close:function(a){if(this.clearOnClose){if(this.isDirty())throw Error("dojo.data.ItemFileWriteStore: There are unsaved changes present in the store.  Please save or revert the changes before invoking close.");
this.inherited(arguments)}}})})},"redfin/common/widgets/contactBox/ContactBoxNavigation":function(){require({cache:{"url:redfin/common/widgets/contactBox/templates/ContactBoxNavigation.html":'\x3cdiv class\x3d"contactBoxNavigation" dojoAttachPoint\x3d"navWrapper"\x3e\n\t\x3cdiv class\x3d"leftNavContainer" dojoAttachPoint\x3d"leftNavContainer"\x3e\n\t\t\x3cdiv class\x3d"leftNav" dojoAttachPoint\x3d"leftNav"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"navigationCirclesContainer hidden" dojoAttachPoint\x3d"navCirclesContainer"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"rightNavContainer" dojoAttachPoint\x3d"rightNavContainer"\x3e\n\t\t\x3cdiv class\x3d"rightNav" dojoAttachPoint\x3d"rightNav"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e'}});
define("redfin/common/widgets/contactBox/ContactBoxNavigation","dojo dojo/topic dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/on dojo/text!redfin/common/widgets/contactBox/templates/ContactBoxNavigation.html dijit/_Widget dijit/_TemplatedMixin redfin/common/widgets/contactBox/ContactBoxComponentMixin".split(" "),function(h,b,e,a,c,d,g,f,k,l,m,p){return e("redfin.common.widgets.contactBox.ContactBoxNavigation",[l,m,p],{templateString:k,data:null,gaAction:"Click:Navigation",
currentPosition:1,numPositions:1,navCirclesArray:[],postCreate:function(){this.data&&(a.forEach(this.data.classes,c.hitch(this,function(a){h.addClass(this.navWrapper,a)})),this.data.numSlots&&(this.numPositions=this.data.numSlots,d.remove(this.navCirclesContainer,"hidden"),this.generateNavigationCircles(),b.subscribe("contactBox/navigate-left",c.hitch(this,this.navigateCircleLeft)),b.subscribe("contactBox/navigate-right",c.hitch(this,this.navigateCircleRight))));this.data&&this.data.numSlots?(f(this.leftNavContainer,
"click",c.hitch(this,this._onLeftNav)),f(this.rightNavContainer,"click",c.hitch(this,this._onRightNav)),f(this.leftNavContainer,"click",c.hitch(this,this.trackClick)),f(this.rightNavContainer,"click",c.hitch(this,this.trackClick))):(f(this.leftNav,"click",c.hitch(this,this._onLeftNav)),f(this.rightNav,"click",c.hitch(this,this._onRightNav)),f(this.leftNav,"click",c.hitch(this,this.trackClick)),f(this.rightNav,"click",c.hitch(this,this.trackClick)))},generateNavigationCircles:function(){for(var a=
0;a<this.numPositions;a++){var b=null,b=0==a?g.create("div",{"class":"inline-block navigation_circle navigation_selected"},this.navCirclesContainer,"last"):g.create("div",{"class":"inline-block navigation_circle navigation_unselected"},this.navCirclesContainer,"last");this.navCirclesArray.push(b)}},moveToAgent:function(a){var b=a.target;b||(b=a.srcElement);var c=0;for(a=0;a<this.navCirclesArray.length;a++)if(b==this.navCirclesArray[a]){c=a+1;break}if(c<this.currentPosition){d.remove(this.navCirclesArray[this.currentPosition-
1],"navigation_selected");d.add(this.navCirclesArray[this.currentPosition-1],"navigation_unselected");c=this.currentPosition-c;for(a=0;a<c;a++)this._onLeftNav();d.add(b,"navigation_selected");d.remove(b,"navigation_unselected")}else if(c>this.currentPosition){d.remove(this.navCirclesArray[this.currentPosition-1],"navigation_selected");d.add(this.navCirclesArray[this.currentPosition-1],"navigation_unselected");c-=this.currentPosition;for(a=0;a<c;a++)this._onRightNav();d.add(b,"navigation_selected");
d.remove(b,"navigation_unselected")}},_onLeftNav:function(){this.navigateCircleLeft();this.onLeftNav()},_onRightNav:function(){this.navigateCircleRight();this.onRightNav()},onLeftNav:function(){},onRightNav:function(){},navigateCircleLeft:function(){0<this.navCirclesArray.length&&(d.remove(this.navCirclesArray[this.currentPosition-1],"navigation_selected"),d.add(this.navCirclesArray[this.currentPosition-1],"navigation_unselected"));1==this.currentPosition?this.currentPosition=this.numPositions:this.currentPosition--;
0<this.navCirclesArray.length&&(d.add(this.navCirclesArray[this.currentPosition-1],"navigation_selected"),d.remove(this.navCirclesArray[this.currentPosition-1],"navigation_unselected"))},navigateCircleRight:function(){0<this.navCirclesArray.length&&(d.remove(this.navCirclesArray[this.currentPosition-1],"navigation_selected"),d.add(this.navCirclesArray[this.currentPosition-1],"navigation_unselected"));this.currentPosition==this.numPositions?this.currentPosition=1:this.currentPosition++;0<this.navCirclesArray.length&&
(d.add(this.navCirclesArray[this.currentPosition-1],"navigation_selected"),d.remove(this.navCirclesArray[this.currentPosition-1],"navigation_unselected"))},trackClick:function(){this.gaEventMap[this.gaAction]||(this.gaEventMap[this.gaAction]=!0,this._trackEvent(this.gaAction),h.xhrGet({url:"/stingray/clicktracker.jsp?category\x3dredfin.core.mvc\x26action\x3dagentChoiceFirstArrowClick",sync:!1}))}})})},"dojox/data/QueryReadStore":function(){define("dojox/data/QueryReadStore",["dojo","dojox","dojo/data/util/sorter",
"dojo/string"],function(h,b){h.declare("dojox.data.QueryReadStore",null,{url:"",requestMethod:"get",_className:"dojox.data.QueryReadStore",_items:[],_lastServerQuery:null,_numRows:-1,lastRequestHash:null,doClientPaging:!1,doClientSorting:!1,_itemsByIdentity:null,_identifier:null,_features:{"dojo.data.api.Read":!0,"dojo.data.api.Identity":!0},_labelAttr:"label",constructor:function(b){h.mixin(this,b)},getValue:function(b,a,c){this._assertIsItem(b);if(!h.isString(a))throw Error(this._className+".getValue(): Invalid attribute, string expected!");
return!this.hasAttribute(b,a)&&c?c:b.i[a]},getValues:function(b,a){this._assertIsItem(b);var c=[];this.hasAttribute(b,a)&&c.push(b.i[a]);return c},getAttributes:function(b){this._assertIsItem(b);var a=[],c;for(c in b.i)a.push(c);return a},hasAttribute:function(b,a){return this.isItem(b)&&"undefined"!=typeof b.i[a]},containsValue:function(b,a,c){b=this.getValues(b,a);a=b.length;for(var d=0;d<a;d++)if(b[d]==c)return!0;return!1},isItem:function(b){return b?"undefined"!=typeof b.r&&b.r==this:!1},isItemLoaded:function(b){return this.isItem(b)},
loadItem:function(b){this.isItemLoaded(b.item)},fetch:function(b){b=b||{};b.store||(b.store=this);var a=this;this._fetchItems(b,function(b,d,e){var f=d.abort||null,k=!1,l=d.start?d.start:0;!1==a.doClientPaging&&(l=0);var m=d.count?l+d.count:b.length;d.abort=function(){k=!0;f&&f.call(d)};var p=d.scope||h.global;d.store||(d.store=a);d.onBegin&&d.onBegin.call(p,e,d);d.sort&&a.doClientSorting&&b.sort(h.data.util.sorter.createSortFunction(d.sort,a));if(d.onItem)for(e=l;e<b.length&&e<m;++e){var n=b[e];
k||d.onItem.call(p,n,d)}d.onComplete&&!k&&(e=null,d.onItem||(e=b.slice(l,m)),d.onComplete.call(p,e,d))},function(a,b){b.onError&&b.onError.call(b.scope||h.global,a,b)});return b},getFeatures:function(){return this._features},close:function(b){},getLabel:function(b){if(this._labelAttr&&this.isItem(b))return this.getValue(b,this._labelAttr)},getLabelAttributes:function(b){return this._labelAttr?[this._labelAttr]:null},_xhrFetchHandler:function(b,a,c,d){b=this._filterResponse(b);b.label&&(this._labelAttr=
b.label);d=b.numRows||-1;this._items=[];h.forEach(b.items,function(a){this._items.push({i:a,r:this})},this);b=b.identifier;this._itemsByIdentity={};if(b){this._identifier=b;var g;for(g=0;g<this._items.length;++g){var f=this._items[g].i,k=f[b];if(this._itemsByIdentity[k])throw Error(this._className+":  The json data as specified by: ["+this.url+"] is malformed.  Items within the list have identifier: ["+b+"].  Value collided: ["+k+"]");this._itemsByIdentity[k]=f}}else{this._identifier=Number;for(g=
0;g<this._items.length;++g)this._items[g].n=g}d=this._numRows=-1===d?this._items.length:d;c(this._items,a,d);this._numRows=d},_fetchItems:function(b,a,c){var d=b.serverQuery||b.query||{};this.doClientPaging||(d.start=b.start||0,b.count&&(d.count=b.count));if(!this.doClientSorting&&b.sort){var g=[];h.forEach(b.sort,function(a){a&&a.attribute&&g.push((a.descending?"-":"")+a.attribute)});d.sort=g.join(",")}if(this.doClientPaging&&null!==this._lastServerQuery&&h.toJson(d)==h.toJson(this._lastServerQuery))this._numRows=
-1===this._numRows?this._items.length:this._numRows,a(this._items,b,this._numRows);else{var f=("post"==this.requestMethod.toLowerCase()?h.xhrPost:h.xhrGet)({url:this.url,handleAs:"json-comment-optional",content:d,failOk:!0});b.abort=function(){f.cancel()};f.addCallback(h.hitch(this,function(d){this._xhrFetchHandler(d,b,a,c)}));f.addErrback(function(a){c(a,b)});this.lastRequestHash=(new Date).getTime()+"-"+String(Math.random()).substring(2);this._lastServerQuery=h.mixin({},d)}},_filterResponse:function(b){return b},
_assertIsItem:function(b){if(!this.isItem(b))throw Error(this._className+": Invalid item argument.");},_assertIsAttribute:function(b){if("string"!==typeof b)throw Error(this._className+": Invalid attribute argument ('"+b+"').");},fetchItemByIdentity:function(b){if(this._itemsByIdentity){var a=this._itemsByIdentity[b.identity];if(void 0!==a){b.onItem&&b.onItem.call(b.scope?b.scope:h.global,{i:a,r:this});return}}this._fetchItems({serverQuery:{id:b.identity}},function(a,d){var g=b.scope?b.scope:h.global;
try{var f=null;a&&1==a.length&&(f=a[0]);b.onItem&&b.onItem.call(g,f)}catch(k){b.onError&&b.onError.call(g,k)}},function(a,d){var g=b.scope?b.scope:h.global;b.onError&&b.onError.call(g,a)})},getIdentity:function(b){var a=null;return a=this._identifier===Number?b.n:b.i[this._identifier]},getIdentityAttributes:function(b){return[this._identifier]}});return b.data.QueryReadStore})},"redfin/search/map/HomeCardResults":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/HomeCardResults.html dojo/_base/lang dojo/dom dojo/dom-class dojo/on dojo/query dojo/topic redfin/common/elements/HomeInfoCard redfin/common/elements/Button redfin/search/data/mixins/_PropertyCssMixin redfin/search/map/topics redfin/search/map/GisHashState redfin/common/data/Favorite redfin/common/data/MlsStatus".split(" "),
function(h,b,e,a,c,d,g,f,k,l,m,p,n,q,r,t){var u=h("redfin.search.map.HomeCardResults",[b,e,a],{templateString:c,homes:null,homeCards:null,homeCardNodeList:null,currentPage:1,totalNumPages:0,homeCardsNode:null,paginationNode:null,prevButton:null,pageNumberNode:null,nextButton:null,constructor:function(){this.homes=[];this.homeCards=[];this.homeCardNodeList=l.NodeList()},buildRendering:function(){this.inherited(arguments);this.own(this.prevButton.on("click",d.hitch(this,this.previousPage)),this.nextButton.on("click",
d.hitch(this,this.nextPage)))},_setHomesAttr:function(a){this._set("homes",a);this.set("totalNumPages",Math.ceil(this.homes.length/u.NUM_RESULTS_PER_PAGE));this.set("currentPage",1)},_setCurrentPageAttr:function(a){0<this.totalNumPages&&(1>a||a>this.totalNumPages)||(this._set("currentPage",a),this._handlePaginationElements(),this.displayResults())},previousPage:function(){1<this.currentPage&&this.set("currentPage",this.currentPage-1)},nextPage:function(){this.currentPage<this.totalNumPages&&this.set("currentPage",
this.currentPage+1)},_handlePaginationElements:function(){this.homes.length<=u.NUM_RESULTS_PER_PAGE?f.add(this.paginationNode,"hidden"):(this.pageNumberNode.innerHTML="page "+this.currentPage+" of "+this.totalNumPages,1==this.currentPage?(f.add(this.prevButtonContainer,"hidden"),f.remove(this.nextButtonContainer,"hidden"),f.remove(this.nextButtonContainer,"two-button")):this.currentPage==this.totalNumPages?(f.remove(this.prevButtonContainer,"hidden"),f.add(this.nextButtonContainer,"hidden"),f.remove(this.prevButtonContainer,
"two-button")):(f.remove(this.prevButtonContainer,"hidden"),f.remove(this.nextButtonContainer,"hidden"),f.add(this.nextButtonContainer,"two-button"),f.add(this.prevButtonContainer,"two-button")),f.remove(this.paginationNode,"hidden"));scroll(0,0)},displayResults:function(){0<this.homes.length?(this.modifyHomeInfoCards(),f.remove(this.homeCardsNode,"hidden")):f.add(this.homeCardsNode,"hidden")},modifyHomeInfoCards:function(){var a,b=this.homeCards.length;a=(this.currentPage-1)*u.NUM_RESULTS_PER_PAGE;
for(var c=Math.min(this.homes.length,a+u.NUM_RESULTS_PER_PAGE),d=0;a<c;a++,d++)d>=this.homeCards.length&&(this.homeCards.push(this._getNewHomeInfoCard()),this.homeCardNodeList.push(this.homeCards[d].domNode)),this.updateHomeInfoCard(this.homeCards[d],this.homes[a]);this.homeCardNodeList.slice(b,d).place(this.homeCardsNode,"last");this.homeCardNodeList.slice(0,d).removeClass("hidden");this.homeCardNodeList.slice(d).addClass("hidden");for(a=b;a<d;a++)this.homeCards[a].startup()},_getNewHomeInfoCard:function(){return p({hideOuterSash:!1,
loginFacebook:!1,showHeaderInfo:!0,showBasicInfo:!0,showNotes:!0,showOutline:!0,showAddressTooltip:!0,windowSize:redfin.common.elements.HomeInfoCard.WINDOW_SIZE_MEDIUM,clickable:!0})},updateHomeInfoCard:function(a,b){a.propertyId=b.getPropertyID();a.setUrl(g_unsecureWebServerUrl+b.getUrl()).setPrice(b.getPrice()).setAddress(b.getAddressDisplay()).setCityState(b.getCityStateDisplay()).setBeds(b.getBeds()).setBaths(b.getBaths()).setSquareFeetAsString(b.getSqftDisplay()).setSearchStatus(b.getSearchStatus()).setListingType(b.getListingType()).setPropertyType(b.getPropertyTypeRaw()).setMlsStatus(new redfin.common.data.MlsStatus({id:b.mls_status,
sashMessage:b.getMlsSashMessage()})).setAgc(b.shouldShowExistenceOfAgc()).setIsRedfinListing(b.isRedfinListing()).setIsShortSale(b.isShortSale()).setIsNew(b.is_new).setHasOpenHouse(!!b.getOpenHouseTimeStart());b.favoriteType&&a.setFavoriteProperty(new redfin.common.data.Favorite({id:b.getPropertyID(),favoritePropertyType:b.favoriteType}));var c=t().getLatLong();c&&a.setDistance(redfin.util.distance(b.getLatitude(),b.getLongitude(),c.lat,c["long"]),!1);a.loadPhoto(b.getMidsizePhotoUrl(),b.getAddressDisplay())}});
d.mixin(u,{NUM_RESULTS_PER_PAGE:25});return u})},"url:redfin/common/widgets/contactBox/templates/ContactBoxCall.html":'\x3cdiv class\x3d"contactBoxCall" dojoAttachPoint\x3d"content"\x3e\x3c/div\x3e',"redfin/request/util":function(){define("dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/query dojo/has dojo/cookie".split(" "),function(h,b,e,a,c,d){return{optionsWithDefaults:function(a){return h.mixin({method:"GET",handleAs:"json"},a)},addCsrfTokenToRequestData:function(a){"GET"!==a.method&&
(c("native-formdata")&&a&&a.data&&a.data instanceof FormData?a.data.append("__rf_secure",d("RF_AUTH")):(a.data=h.delegate(a.data||{}),a.data.__rf_secure=d("RF_AUTH")))},addCsrfTokenToForm:function(c){c=h.isArray(c)?c:[c];b.forEach(c,function(b){if("form"!==b.tagName.toLowerCase())throw"Can only protect \x3cform\x3e dom nodes! Received: "+b.tagName.toLowerCase();0===a("input[name\x3d__rf_secure]",b).length&&e.create("input",{type:"hidden",name:"__rf_secure",value:d("RF_AUTH")},b)})}}})},"redfin/search/map/GisUrlGenerator":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/has dojo/request dojo/io-query redfin/common/util redfin/search/util/NameValueUtil redfin/search/service_endpoints redfin/common/access_level_util redfin/common/net/UrlGenerator".split(" "),
function(h,b,e,a,c,d,g,f,k,l,m){return b("redfin.search.map.GisUrlGenerator",[m],{start:function(b){this.inherited(arguments);this.add("v",8);a("mobile-enabled")&&this.add("start","0");return this},getRoot:function(){return this.adjustRootForCache(this.root)},adjustRootForCache:function(a){return a==redfin.serviceEndpoints.gisSearch&&!this.query.lat&&!this.query["long"]&&!this.query.zoomLevel&&this.query.region_id&&this.query.region_type?redfin.serviceEndpoints.gisCacheableSearch:a},appendMarket:function(a){a&&
(a.name&&this.add("market",a.name),a.numListingsToShow&&this.add("num_homes",a.numListingsToShow));return this},appendSearchForm:function(a){a&&(a=a.serializeForGisSearch())&&e.mixin(this.query,d.queryToObject(a));return this},appendBoundingBox:function(a,b){b||(b="poly");if(a){var c=a.minlat,d=a.minlong,e=a.maxlat,f=a.maxlong;this.add(b,d+" "+c+","+f+" "+c+","+f+" "+e+","+d+" "+e+","+d+" "+c)}return this},appendAccessLevel:function(a){a&&this.add("al",a);return this},appendCurrentAccessLevel:function(){return this.appendAccessLevel(redfin.common.AccessLevelUtil.currentLoginAccessLevel())},
appendSearchState:function(b,c){"-"==b.rd&&(b.rd="");b.max_listing_approx_size=b.max_listing_approx_size||"";b.max_num_beds=b.max_num_beds||"";b.max_parcel_size=b.max_parcel_size||"";b.max_price=b.max_price||"";b.max_year_built=b.max_year_built||"";b.min_listing_approx_size=b.min_listing_approx_size||"";b.min_parcel_size=b.min_parcel_size||"";b.min_price=b.min_price||"";b.min_year_built=b.min_year_built||"";b.num_baths=b.num_baths||"";b.num_beds=b.num_beds||"";b.open_house=b.open_house||"";b.rd=b.rd||
"";b.sold_within_days=b.sold_within_days||"";b.pkg=b.pkg||"-";b.sst=c&&c.cannotComingleSaleTypes?b.sst||"1":b.sst||"";a("mobile-enabled")&&(b.start=b.start||"0");b.sf=c&&c.cannotComingleListingTypes?b.sf||"1,2":b.sf||"1,2,3";b.hoa=b.hoa||"";b.status=b.status||"1";b.time_on_market_range=b.time_on_market_range||"-";b.uipt=b.uipt||"6,5,4,3,2,1";b.v=redfin.search.SearchBootstrap.PROTOCOL_VERSION;b.market&&delete b.market;delete b.lat;delete b["long"];delete b.zoomLevel;e.mixin(this.query,d.queryToObject(redfin.util.NameValue.constructQueryString(b,
!0)));return this},appendSuppressPersonalization:function(){return this.add("sp","t")},appendRegion:function(a){a&&(this.add("region_id",a.tableId),this.add("region_type",a.regionType));return this},appendLocation:function(a){a&&this.add("location",a);return this},appendLatLong:function(a){a&&(a.lat&&a["long"])&&(this.add("lat",a.lat),this.add("long",a["long"]));return this},appendMinPrice:function(a){a&&this.add("min_price",a);return this},appendMaxPrice:function(a){a&&this.add("max_price",a);return this},
appendPriceRange:function(a){a&&(this.appendMinPrice(a.minPrice),this.appendMaxPrice(a.maxPrice));return this},appendPropertyType:function(a){a&&this.add("uipt",a.join(","));return this},appendOrderBy:function(a){this.add("ord",a);this.add("orderBy",a);return this},startLocationQuery:function(b){this.start(redfin.serviceEndpoints.queryLocation).appendLocation(b);a("mobile-enabled")&&(this.appendOrderBy("homes-for-sale"),this.add("num_homes",500));return this},startRegionIdQuery:function(a){return this.start(redfin.serviceEndpoints.queryRegionId).appendRegion(a)},
startRegionQuery:function(b){this.start(redfin.serviceEndpoints.gisSearch).appendRegion(b);a("mobile-enabled")&&(this.appendOrderBy("homes-for-sale"),this.add("num_homes",500));return this},startSchoolQuery:function(){return this.start(redfin.serviceEndpoints.gisSchoolSearch)},startProximitySearch:function(a){this.start("/stingray/do/gis-proximity-search?");return this.appendLatLong(a)},startGisSearch:function(){this.start(redfin.serviceEndpoints.gisSearch);a("mobile-enabled")&&(this.appendOrderBy("homes-for-sale"),
this.add("num_homes",500));return this},startHomesForSale:function(){return this.start("/homes-for-sale#")}})})},"dijit/form/_FormValueWidget":function(){define("dijit/form/_FormValueWidget",["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(h,b,e,a){return h("dijit.form._FormValueWidget",[e,a],{_layoutHackIE7:function(){if(7==b("ie"))for(var a=this.domNode,d=a.parentNode,e=a.firstChild||a,f=e.style.filter,k=this;d&&0==d.clientHeight;)(function(){var a=k.connect(d,"onscroll",
function(){k.disconnect(a);e.style.filter=(new Date).getMilliseconds();k.defer(function(){e.style.filter=f})})})(),d=d.parentNode}})})},"dijit/focus":function(){define("dijit/focus","dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/ready dojo/sniff dojo/Stateful dojo/_base/unload dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),function(h,b,e,a,c,d,g,f,k,l,m,p,n,q,r,t,u){var w=new (b([m,d],{curNode:null,activeStack:[],
constructor:function(){var a=g.hitch(this,function(a){e.isDescendant(this.curNode,a)&&this.set("curNode",null);e.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});h.before(c,"empty",a);h.before(c,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(a,b){var c=this,d=function(a){c._justMouseDowned=!0;setTimeout(function(){c._justMouseDowned=!1},0);if(!l("ie")||!a||!(a.srcElement&&null==a.srcElement.parentNode))c._onTouchNode(b||a.target||
a.srcElement,"mouse")},e=l("ie")?a.document.documentElement:a.document;if(e){if(l("ie")){a.document.body.attachEvent("onmousedown",d);var f=function(a){var d=a.srcElement.tagName.toLowerCase();"#document"==d||"body"==d||(r.isTabNavigable(a.srcElement)?c._onFocusNode(b||a.srcElement):c._onTouchNode(b||a.srcElement))};e.attachEvent("onfocusin",f);var g=function(a){c._onBlurNode(b||a.srcElement)};e.attachEvent("onfocusout",g);return{remove:function(){a.document.detachEvent("onmousedown",d);e.detachEvent("onfocusin",
f);e.detachEvent("onfocusout",g);e=null}}}e.body.addEventListener("mousedown",d,!0);e.body.addEventListener("touchstart",d,!0);var k=function(a){c._onFocusNode(b||a.target)};e.addEventListener("focus",k,!0);var h=function(a){c._onBlurNode(b||a.target)};e.addEventListener("blur",h,!0);return{remove:function(){e.body.removeEventListener("mousedown",d,!0);e.body.removeEventListener("touchstart",d,!0);e.removeEventListener("focus",k,!0);e.removeEventListener("blur",h,!0);e=null}}}},_onBlurNode:function(a){this._clearFocusTimer&&
clearTimeout(this._clearFocusTimer);this._clearFocusTimer=setTimeout(g.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0);this._justMouseDowned||(this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),this._clearActiveWidgetsTimer=setTimeout(g.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0))},_onTouchNode:function(b,c){this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);
var d=[];try{for(;b;){var e=a.get(b,"dijitPopupParent");if(e)b=t.byId(e).domNode;else if(b.tagName&&"body"==b.tagName.toLowerCase()){if(b===n.body())break;b=q.get(b.ownerDocument).frameElement}else{var f=b.getAttribute&&b.getAttribute("widgetId"),g=f&&t.byId(f);g&&!("mouse"==c&&g.get("disabled"))&&d.unshift(f);b=b.parentNode}}}catch(k){}this._setStack(d,c)},_onFocusNode:function(a){a&&9!=a.nodeType&&(this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),
a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,b){var c=this.activeStack;this.set("activeStack",a);for(var d=0;d<Math.min(c.length,a.length)&&c[d]==a[d];d++);for(var e,f=c.length-1;f>=d;f--)if(e=t.byId(c[f]))e._hasBeenBlurred=!0,e.set("focused",!1),e._focusManager==this&&e._onBlur(b),this.emit("widget-blur",e,b);for(f=d;f<a.length;f++)if(e=t.byId(a[f]))e.set("focused",!0),e._focusManager==this&&e._onFocus(b),this.emit("widget-focus",e,b)},focus:function(a){if(a)try{a.focus()}catch(b){}}}));
k(function(){var a=w.registerWin(q.get(n.doc));l("ie")&&p.addOnWindowUnload(function(){a&&(a.remove(),a=null)})});u.focus=function(a){w.focus(a)};for(var v in w)/^_/.test(v)||(u.focus[v]="function"==typeof w[v]?g.hitch(w,v):w[v]);w.watch(function(a,b,c){u.focus[a]=c});return w})},"redfin/common/data/MethodGenerator":function(){define("redfin/common/data/MethodGenerator",["dojo/_base/lang","redfin/common/data/DataObject"],function(h,b){function e(a){return a.substring(0,1).toUpperCase()+a.substring(1)}
function a(a,b){"undefined"===typeof a._autoGenFields&&(a._autoGenFields={});a._autoGenFields[b]="regular"}function c(a,b,c){var d=e(b),f=g(c),q=f.omitUnderscore?b:"_"+b;b={};b["get"+d]=function(){return f.useModel?function(){var a=this._attributes[q];return h.isFunction(a)?a.apply(this,arguments):"undefined"===typeof a?null:a}:function(){var a=this[q];return"undefined"===typeof a?null:a}}();h.extend(a,b)}function d(a,b,c){var d=e(b),f=g(c),q=f.omitUnderscore?b:"_"+b;b={};b["set"+d]=function(){return f.useModel?
function(a){return this.set(q,a)}:function(a){var b=this[q],c=this["onChange"+d];a!==b&&(this[q]=a,c(this,a,b))}}();h.extend(a,b)}function g(a){return h.isObject(a)?a:{omitUnderscore:a,useModel:!1}}var f={_generateSetter:d,_getFieldNameCapitalized:e,generateGetter:c,generateMethods:function(b,f,g){a(b,f);var p=e(f);c(b,f,g);d(b,f,g);f={};f["onChange"+p]=function(a,b){};h.extend(b,f)},generateListMethods:function(a,b,d){"undefined"===typeof a._autoGenFields&&(a._autoGenFields={});a._autoGenFields[b]=
"list";e(b);c(a,b,d)},generateMethodsWithError:function(a,b,c){this.generateMethods(a,b,c);c={};b=e(b);c["onError"+b]=function(a){};h.extend(a,c)}};h.setObject("redfin.common.data.MethodGenerator",f);return f})},"redfin/search/util/LocationUtil":function(){define(["dijit","dojo","dojox"],function(h,b,e){b.provide("redfin.search.util.LocationUtil");b.declare("redfin.util.location",null,{});b.safeMixin(redfin.util.location,{isValid:function(a){return a&&0<a.length?!0:!1},set:function(a,b){redfin.util.location.isValid(b)&&
(a.location=b)},replace:function(a,b){redfin.util.location.isValid(b)&&a.location.replace(b)},open:function(a,b,d){redfin.util.location.isValid(b)&&a.open(b,d)}})})},"dojo/text":function(){define(["./_base/kernel","require","./has","./_base/xhr"],function(h,b,e,a){var c;c=function(b,c,d){a("GET",{url:b,sync:!!c,load:d,headers:h.config.textPluginHeaders||{}})};var d={},g=function(a){if(a){a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);
b&&(a=b[1])}else a="";return a},f={},k={};h.cache=function(a,e,f){var k;"string"==typeof a?/\//.test(a)?(k=a,f=e):k=b.toUrl(a.replace(/\./g,"/")+(e?"/"+e:"")):(k=a+"",f=e);a=void 0!=f&&"string"!=typeof f?f.value:f;f=f&&f.sanitize;if("string"==typeof a)return d[k]=a,f?g(a):a;if(null===a)return delete d[k],null;k in d||c(k,!0,function(a){d[k]=a});return f?g(d[k]):d[k]};return{dynamic:!0,normalize:function(a,b){var c=a.split("!"),d=c[0];return(/^\./.test(d)?b(d):d)+(c[1]?"!"+c[1]:"")},load:function(a,
b,e){a=a.split("!");var h=1<a.length,q=a[0],r=b.toUrl(a[0]);a="url:"+r;var t=f,u=function(a){e(h?g(a):a)};q in d?t=d[q]:a in b.cache?t=b.cache[a]:r in d&&(t=d[r]);if(t===f)if(k[r])k[r].push(u);else{var w=k[r]=[u];c(r,!b.async,function(a){d[q]=d[r]=a;for(var b=0;b<w.length;)w[b++](a);delete k[r]})}else u(t)}}})},"redfin/homepage/widgets/SavedSearchesWidget":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/SavedSearchesWidget.html dojo/dom-class dojo/_base/lang dojo/when dojo/promise/all dojo/request dojo/has dojo/on dojo/sniff dojo/_base/event dojo/_base/fx dojo/fx dojo/topic redfin/bouncer/Bouncer redfin/search/service_endpoints redfin/common/data/SavedSearch redfin/common/data/Login redfin/homepage/widgets/SearchItem redfin/common/data/ObjectGraph redfin/homepage/widgets/LastSearchWidget redfin/search/common/_Spinner".split(" "),
function(h,b,e,a,c,d,g,f,k,l,m,p,n,q,r,t,u,w,v,x,s,y,C,A,z){return h("redfin.homepage.widgets.SavedSearchesWidget",[b,e,a,z],{templateString:c,savedSearchesData:null,WEB_SERVER:g_webServerUrl,NOT_LOGGED_IN:4,postCreate:function(){this.inherited(arguments);w.isOn(g_feature.MOBILE_SEARCH_RESULTS)&&d.remove(this.domNode,"desktop");this._spinner=this.singleSpinner({width:6,radius:20,color:"#000"});this._spinner.spin(this.loadSpinner);p(this.savedSearchesHeaderNode,"click",g.hitch(this,this.onClickSavedSearchesHeader,
this.savedSearchesHeaderNode));f(this.savedSearchesData,g.hitch(this,this.handleSavedSearchesResponse),g.hitch(this,this.handleSavedSearchesError));u.subscribe("loadSpinner",g.hitch(this,function(){this._spinner.spin(this.loadSpinner)}));u.subscribe("stopSpinner",g.hitch(this,function(){this._spinner.stop(this.loadSpinner)}))},handleSavedSearchesResponse:function(a){var b=a&&(new C(a.payload)).getRoot().savedSearches||[];a=a&&a.payload&&(new C(a.payload)).getRoot().invalidLastSearch||!1;dojo.cookie("lastSearch")&&
!a&&(d.remove(this.mostRecentSearchNode,"hidden"),(new A({GAEvent:!0,savedSearchesData:this.savedSearchesData})).placeAt(this.mostRecentSearchContentNode),u.subscribe("lastSearchSaved",g.hitch(this,this.handleLastSearchSaved)));this._spinner.stop(this.loadSpinner);if(0<b.length){for(a=0;a<b.length;a++){var c=b[a].savedSearch;(new y({searchName:c.getSearchName(),searchUrl:c.getSearchUrl(),searchId:c.getId(),emailFrequency:b[a].emailFrequency,errorMessageNode:this.errorMessageNode,GAEvent:!0,eventValue:a+
1})).placeAt(this.savedSearchesNode)}p(this.moreSavedSearchesNode,"click",g.hitch(this,this.onClickMoreSavedSearches,this.moreSavedSearchesNode))}else this.showGhostTown()},handleSavedSearchesError:function(a){this._spinner.stop(this.loadSpinner);a.resultCode==this.NOT_LOGGED_IN?this.showGhostTown():(this.savedSearchesNode.innerHTML="We're sorry, there was an error getting your saved searches.\x3cbr/\x3ePlease try again later.",console.error("redfin.homepage.widgets.SavedSearchesWidget.handleSavedSearchesError",
a,!0))},showGhostTown:function(){d.remove(this.savedSearchesGhostTownNode,"hidden");d.add(this.savedSearchesControlsNode,"hidden")},onClickSavedSearchesHeader:function(a,b){q.stop(b);dojo.global._gaq&&dojo.global._gaq.push(["_trackEvent","Homepage","Saved_Searches_Header_Clicked",null,null]);if("_blank"==a.target)return!0;setTimeout(function(){window.location=a.href},250);return!1},onClickMoreSavedSearches:function(a,b){q.stop(b);dojo.global._gaq&&dojo.global._gaq.push(["_trackEvent","Homepage","Saved_Searches_More_Clicked",
null,null]);if("_blank"==a.target)return!0;setTimeout(function(){window.location=a.href},250);return!1},handleLastSearchSaved:function(a){var b=new y({searchName:a.ss.name,searchUrl:g_webServerUrl+"/homes-for-sale#!"+a.searchTerm,searchId:a.ss.id,emailFrequency:g_alertFrequencyType.INSTANT,errorMessageNode:this.errorMessageNode,GAEvent:!0,eventValue:0});if(m("ie")){a=r.fadeOut({node:this.savedSearchesGhostTownNode,duration:1E3,onEnd:g.hitch(this,function(){d.add(this.savedSearchesGhostTownNode,"hidden");
b.placeAt(this.savedSearchesNode,"first")})});var c=r.fadeOut({node:this.mostRecentSearchNode,duration:1E3,onEnd:g.hitch(this,function(){d.add(this.mostRecentSearchNode,"hidden");d.remove(this.savedSearchesControlsNode,"hidden")})});t.chain([a,c]).play()}else d.add(b.domNode,"collapsed"),d.add(this.savedSearchesGhostTownNode,"collapsed"),b.placeAt(this.savedSearchesNode,"first"),setTimeout(g.hitch(this,function(){d.remove(b.domNode,"collapsed")}),300),setTimeout(g.hitch(this,function(){d.add(this.savedSearchesGhostTownNode,
"hidden");d.add(this.mostRecentSearchNode,"collapsed")}),1100),setTimeout(g.hitch(this,function(){d.add(this.mostRecentSearchNode,"hidden")}),1900),d.remove(this.savedSearchesControlsNode,"hidden")},savedSearchesHeaderNode:null,mostRecentSearchNode:null,mostRecentSearchContentNode:null,savedSearchesNode:null,savedSearchesGhostTownNode:null,savedSearchesControlsNode:null,moreSavedSearchesNode:null,errorMessageNode:null,loadSpinner:null})})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./_base/xhr ./json module".split(" "),
function(h,b,e,a,c,d,g,f,k){e.add("dojo-preload-i18n-Api",1);var l=h.i18n={},m=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,p=function(a,b,c,d){var e=[c+d];b=b.split("-");for(var f="",g=0;g<b.length;g++)f+=(f?"-":"")+b[g],(!a||a[f])&&e.push(c+f+"/"+d);return e},n={},q=function(a,b,c){c=c?c.toLowerCase():h.locale;a=a.replace(/\./g,"/");b=b.replace(/\./g,"/");return/root/i.test(c)?a+"/nls/"+b:a+"/nls/"+c+"/"+b};h.getL10nName=function(a,b,c){return k.id+"!"+q(a,b,c)};var r=function(a,b,c,e,f,g){a([b],function(k){var h=
d.clone(k.root),l=p(!k._v1x&&k,f,c,e);a(l,function(){for(var a=1;a<l.length;a++)h=d.mixin(d.clone(h),arguments[a]);n[b+"/"+f]=h;g()})})},t=function(a){var b=c.extraLocale||[],b=d.isArray(b)?b:[b];b.push(a);return b},u=function(b,c,g){if(e("dojo-preload-i18n-Api")){var k=b.split("*"),l="preload"==k[1];l&&(n[b]||(n[b]=1,y(k[2],f.parse(k[3]),1,c)),g(1));if(!(k=l))x&&s.push([b,c,g]),k=x;if(k)return}b=m.exec(b);var p=b[1]+"/",q=b[5]||b[4],v=p+q,k=(b=b[5]&&b[4])||h.locale,u=v+"/"+k;b=b?[k]:t(k);var z=b.length,
w=function(){--z||g(d.delegate(n[u]))};a.forEach(b,function(a){var b=v+"/"+a;e("dojo-preload-i18n-Api")&&C(b);n[b]?w():r(c,v,p,q,a,w)})};if(e("dojo-unit-tests"))var w=l.unitTests=[];e("dojo-preload-i18n-Api");var v=l.normalizeLocale=function(a){a=a?a.toLowerCase():h.locale;return"root"==a?"ROOT":a},x=0,s=[],y=l._preloadLocalizations=function(c,d,e,f){function g(a,c){f.isXdUrl(b.toUrl(a+".js"))||e?f([a],c):G([a],c,f)}function k(a,b){for(var c=a.split("-");c.length;){if(b(c.join("-")))return;c.pop()}b("ROOT")}
function l(e){e=v(e);k(e,function(e){if(0<=a.indexOf(d,e)){var f=c.replace(/\./g,"/")+"_"+e;x++;g(f,function(a){for(var c in a)n[b.toAbsMid(c)+"/"+e]=a[c];for(--x;!x&&s.length;)u.apply(null,s.shift())});return!0}return!1})}f=f||b;l();a.forEach(h.config.extraLocale,l)},C=function(){},A={},z=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define \x3d function(mid, factory){define.called \x3d 1; __amdValue.result \x3d factory || mid;},\t   require \x3d function(){define.called \x3d 1;};try{define.called \x3d 0;eval(__bundle);if(define.called\x3d\x3d1)return __amdValue;if((__checkForLegacyModules \x3d __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),
G=function(b,c,d){var e=[];a.forEach(b,function(a){function b(d){d=z(d,C,a,A);d===A?e.push(n[c]=A.result):(d instanceof Error&&(console.error("failed to evaluate i18n bundle; url\x3d"+c,d),d={}),e.push(n[c]=/nls\/[^\/]+\/[^\/]+$/.test(c)?d:{root:d,_v1x:1}))}var c=d.toUrl(a+".js");if(n[c])e.push(n[c]);else{var f=d.syncLoadNls(a);if(f)e.push(f);else if(g)g.get({url:c,sync:!0,load:b,error:function(){e.push(n[c]={})}});else try{d.getText(c,!0,b)}catch(k){e.push(n[c]={})}}});c&&c.apply(null,e)},C=function(a){for(var b,
c=a.split("/"),d=h.global[c[0]],e=1;d&&e<c.length-1;d=d[c[e++]]);d&&((b=d[c[e]])||(b=d[c[e].replace(/-/g,"_")]),b&&(n[a]=b));return b};l.getLocalization=function(a,c,d){var e;a=q(a,c,d);u(a,!b.isXdUrl(b.toUrl(a+".js"))?function(a,c){G(a,c,b)}:b,function(a){e=a});return e};e("dojo-unit-tests")&&w.push(function(a){a.register("tests.i18n.unit",function(a){var b;b=z("{prop:1}",C,"nonsense",A);a.is({prop:1},b);a.is(void 0,b[1]);b=z("({prop:1})",C,"nonsense",A);a.is({prop:1},b);a.is(void 0,b[1]);b=z("{'prop-x':1}",
C,"nonsense",A);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=z("({'prop-x':1})",C,"nonsense",A);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=z("define({'prop-x':1})",C,"nonsense",A);a.is(A,b);a.is({"prop-x":1},A.result);b=z("define('some/module', {'prop-x':1})",C,"nonsense",A);a.is(A,b);a.is({"prop-x":1},A.result);b=z("this is total nonsense and should throw an error",C,"nonsense",A);a.is(b instanceof Error,!0)})});return d.mixin(l,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:u,cache:n})})},
"redfin/common/data/DataObjectListModel":function(){define(["dijit","dojo","dojox","dojo/require!redfin/common/data/util/_Resettable"],function(h,b,e){b.provide("redfin.common.data.DataObjectListModel");b.require("redfin.common.data.util._Resettable");b.declare("redfin.common.data.DataObjectListModel",[],{_backingList:null,_Resettable_resetData:null,constructor:function(a){this._backingList=a||[];this._Resettable_resetData=[].concat(this._backingList)},size:function(){return this._backingList.length},
get:function(a){return this._backingList[a]},add:function(a){b.isArray(a)||(a=[a]);Array.prototype.push.apply(this._backingList,a);this.onAdd(a)},remove:function(a,c){c=this._defaultIfUndefined(c,!0);var d=b.indexOf(this._backingList,a);if(0<=d){if(this._backingList.splice(d,1),c)this.onRemove(a,d)}else throw console.error("Item is not present in list: ",a),"Item is not present in list";},commit:function(){b.forEach(this._backingList,function(a){this._isInstanceOfResettable(a)&&a.commit()},this);
this._Resettable_resetData=[].concat(this._backingList);this.onCommit()},reset:function(){this._backingList=[].concat(this._Resettable_resetData);b.forEach(this._backingList,function(a){this._isInstanceOfResettable(a)&&a.reset()},this);this.onReset()},forEach:function(a,c){c=this._defaultIfUndefined(c,this);b.forEach(this._backingList,a,c)},toArray:function(){return[].concat(this._backingList)},sort:function(a){this._backingList.sort(a);return this.toArray()},onAdd:function(a){},onRemove:function(a){},
onCommit:function(){},onReset:function(a){},_isInstanceOfResettable:function(a){return a&&"function"===typeof a.isInstanceOf&&(a.isInstanceOf(redfin.common.data.util._Resettable)||a.isInstanceOf(redfin.common.data.DataObjectListModel))},_defaultIfUndefined:function(a,b){return"undefined"!==typeof a?a:b}})})},"redfin/search/common/elements/HoverTooltip":function(){define("dojo dojo/_base/array dojo/_base/declare dojo/_base/window dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/has dojo/text!redfin/search/common/elements/templates/HoverTooltip.html dijit/_Widget redfin/search/common/_PhasedWidget redfin/search/common/dialogs/FixedDialogUnderlay redfin/search/util/NumberUtil".split(" "),
function(h,b,e,a,c,d,g,f,k,l,m,p,n,q){if(k("touch"))return e("redfin.search.common.elements.HoverTooltip",[m],{show:function(){},hide:function(){}});k=e("redfin.search.common.elements.HoverTooltip",m,{connectIds:null,text:"",xBuffer:0,yBuffer:0,zIndex:0,_master:null,showPosition:["below","above","before-centered","after-centered"],leftToRight:!1,buildRendering:function(){redfin.search.common.elements.HoverTooltip.masterToolTip||(redfin.search.common.elements.HoverTooltip.masterToolTip=new redfin.search.common.elements.MasterHoverTooltip);
this._master=redfin.search.common.elements.HoverTooltip.masterToolTip},postCreate:function(){this.connectIds=this.connectIds||[this.srcNodeRef];b.forEach(this.connectIds,function(a){a=c.byId(a);null!==a&&(this.connect(a,"onmouseenter",this.show),this.connect(a,"onmouseleave",this.hide),this.connect(a,"onfocus",this.show),this.connect(a,"onblur",this.hide))},this)},show:function(a){var d=a.target,e;for(e in this.connectIds){var f=c.byId(this.connectIds[e]);if(f==a.target){d=a.target;break}else-1!==
b.indexOf(f.childNodes,a.target)&&(d=f)}this._master.show(this.text,d,this.showPosition,this.xBuffer,this.yBuffer,this.zIndex,this.leftToRight)},hide:function(){this._master.hide()}});e("redfin.search.common.elements.MasterHoverTooltip",p,{templateString:l,_showing:!1,_withUnderlay:!1,buildRendering:function(){this.inherited(arguments);"MobileSafari"==BrowserDetect.browser&&(this._withUnderlay=!0);this.placeAt(a.body(),"last");if(this._withUnderlay){redfin.search.common.elements.MasterHoverTooltip._underlay||
(redfin.search.common.elements.MasterHoverTooltip._underlay=new n({dialogId:this.id}));this.underlay=redfin.search.common.elements.MasterHoverTooltip._underlay;this.connect(this.underlay.domNode,"click",function(){this.hide()});var b=f.get(this.domNode,"zIndex");redfin.util.num.isNumeric(b)?f.set(this.underlay.domNode,"zIndex",b-1):console.error("HoverTooltip z-index is not a number and can't be used for setting z-index of the underlay. Are you missing styles?");f.set(this.underlay.domNode,"height",
window.document.height+"px")}},show:function(a,b,c,e,k,l,m){this._showing||(this._showing=!0,h.html.set(this.contentNode,a),d.remove(this.domNode,"hidden"),a=dijit.place.around(this.domNode,b,c?c:dijit.Tooltip.defaultPosition,m),b=g.position(b,!0),e&&(a.x>b.x?f.set(this.domNode,{left:a.x+e+"px"}):f.set(this.domNode,{left:a.x-e+"px"})),k&&(a.y>b.y?f.set(this.domNode,{top:a.y+k+"px"}):f.set(this.domNode,{top:a.y-k+"px"})),l&&f.set(this.domNode,"zIndex",l),d.remove(this.arrowNode),d.add(this.arrowNode,
"arrow-"+a.corner.toLowerCase()),f.set(this.domNode,"opacity",1),this._withUnderlay&&this.underlay.show())},hide:function(){this._showing&&(this._showing=!1,d.add(this.domNode,"hidden"),f.set(this.domNode,"opacity",null),this._withUnderlay&&this.underlay.hide())}});return k})},"url:redfin/homepage/widgets/templates/SearchItem.html":'\x3cdiv class\x3d"searchItem clear-fix"\x3e\n\t\x3cspan class\x3d"search_item_icon"\x3e\x3c/span\x3e\n\t\x3ca class\x3d"searchName" dojoAttachPoint\x3d"searchNameNode"\x3e\x3c/a\x3e\n\t\x3cspan class\x3d"control btn_toggle_on clickable" dojoAttachPoint\x3d"instantUpdatesToggleNode"\x3e\x3c/span\x3e\n\x3c/div\x3e',
"url:redfin/common/templates/OmsAd.html":'\x3cdiv class\x3d"OmsAd"\x3e\n\t\x3cdiv class\x3d"ad" data-dojo-attach-point\x3d"adNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:redfin/common/templates/HomeAddress.html":"\x3ca class\x3d'HomeAddress'\x3e\n\t\x3cdiv class\x3d'address' data-dojo-attach-point\x3d'_addressNode'\x3e\n\t\t\x3cspan class\x3d'street' data-dojo-attach-point\x3d'_streetNode'\x3e\x3c/span\x3e\x26nbsp;\x3c!--\n\t\t--\x3e\x3cspan class\x3d'unit' data-dojo-attach-point\x3d'_unitNode'\x3e\x3c/span\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d'region' data-dojo-attach-point\x3d'_regionNode'\x3e\x3c/div\x3e\n\x3c/a\x3e",
"redfin/header/HoverDelayManager":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/on","dijit/_WidgetBase"],function(h,b,e,a,c){var d=h("redfin.header.HoverDelayManager",[c],{currentMouseOverTimer:null,previousMouseOverTimer:null,currentMouseOutTimer:null,previousMouseOutTimer:null,allCloseFuncs:null,registeredElements:null,openElement:null,MOUSE_OVER_DELAY:150,MOUSE_OUT_DELAY:300,buildRendering:function(){this.inherited(arguments);this.allCloseFuncs=[];this.registeredElements=
[]},registerMenu:function(c,d,k){this.registeredElements.push(c);this.allCloseFuncs.push(k);this.own(a(c,"mouseover",b.hitch(this,function(){c==this.openElement&&window.clearTimeout(this.currentMouseOutTimer);e.contains(c,"hover")||(window.clearTimeout(this.currentMouseOverTimer),this.currentMouseOverTimer=window.setTimeout(b.hitch(this,function(){for(var a=0;a<this.registeredElements.length;a++)if(this.registeredElements[a]!=c&&(e.remove(this.registeredElements[a],"hover"),window.clearTimeout(this.currentMouseOutTimer),
null!=this.allCloseFuncs[a]))this.allCloseFuncs[a]();e.add(c,"hover");this.openElement=c;null!=d&&d()}),this.MOUSE_OVER_DELAY))})),a(c,"mouseout",b.hitch(this,function(){c!=this.openElement&&window.clearTimeout(this.currentMouseOverTimer);e.contains(c,"hover")&&(window.clearTimeout(this.currentMouseOutTimer),this.currentMouseOutTimer=window.setTimeout(b.hitch(this,function(){e.remove(c,"hover");this.openElement=null;null!=k&&k()}),this.MOUSE_OUT_DELAY))})))}});d.getInstance=function(){null==d._instance&&
(d._instance=new d);return d._instance};return d})},"dojo/data/util/simpleFetch":function(){define(["../../_base/lang","../../_base/kernel","./sorter"],function(h,b,e){var a={};h.setObject("dojo.data.util.simpleFetch",a);a.errorHandler=function(a,d){d.onError&&d.onError.call(d.scope||b.global,a,d)};a.fetchHandler=function(a,d){var g=d.abort||null,f=!1,k=d.start?d.start:0,h=d.count&&Infinity!==d.count?k+d.count:a.length;d.abort=function(){f=!0;g&&g.call(d)};var m=d.scope||b.global;d.store||(d.store=
this);d.onBegin&&d.onBegin.call(m,a.length,d);d.sort&&a.sort(e.createSortFunction(d.sort,this));if(d.onItem)for(var p=k;p<a.length&&p<h;++p){var n=a[p];f||d.onItem.call(m,n,d)}d.onComplete&&!f&&(p=null,d.onItem||(p=a.slice(k,h)),d.onComplete.call(m,p,d))};a.fetch=function(a){a=a||{};a.store||(a.store=this);this._fetchItems(a,h.hitch(this,"fetchHandler"),h.hitch(this,"errorHandler"));return a};return a})},"redfin/header/UserMenu":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/sniff dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/io/script redfin/common/login_popup redfin/facebook/login redfin/google/googleLogin redfin/header/UserMenuNotification redfin/header/NumberBubble redfin/facebook/FacebookLoader redfin/common/data/util/UserNotificationFactory redfin/header/HoverDelayManager redfin/common/testing/ABTestController dojo/text!./templates/UserMenu.html dojo/on dojo/touch dojo/cookie".split(" "),
function(h,b,e,a,c,d,g,f,k,l,m,p,n,q,r,t,u,w,v,x){return h("redfin.header.UserMenu",[dijit._Widget,dijit._TemplatedMixin,dijit._WidgetsInTemplateMixin],{inlineReg:"",isLoginPage:"",mobileShowJoinFirst:!0,widgetsInTemplate:!0,templateString:u,g_secureWebServerUrl:"",g_unsecureWebServerUrl:"",_silhouetteUrl:g_imageServerUrl+"/images/myredfin/photo/default-25x25.png",mobileSearchHeaderNode:null,mobileSearchHeaderLink:null,mobileNavMenuButtonNode:null,mobileNavCanvasItemsNode:null,mobileHeaderImageNode:null,
facebookAppId:"",facebookPermsRequested:"",skipMultiget:!1,showPinningOptions:!1,ready:null,MOUSE_OVER_DELAY:150,MOUSE_OUT_DELAY:300,onReady:function(){dojo.publish("UserMenuReady",[{}]);this.ready&&(this.ready.resolve(),this.ready=null)},hamburgerMenuOpen:!1,_numActiveTodoNotifications:0,postMixInProperties:function(){this.inherited(arguments);this.g_secureWebServerUrl=g_secureWebServerUrl;this.g_unsecureWebServerUrl=g_unsecureWebServerUrl;this.ready=new dojo.Deferred},buildRendering:function(){this.inherited(arguments);
this.joinLink.href=g_secureWebServerUrl+"/stingray/do/login?showSignupFirst\x3dtrue";this.signInLink.href=g_secureWebServerUrl+"/stingray/do/login?redirect-path\x3d"+encodeURIComponent(window.location.href);this.mobileSignInLink.href=g_secureWebServerUrl+"/stingray/do/login?showSignupFirst\x3d"+this.mobileShowJoinFirst+"\x26redirect-path\x3d"+encodeURIComponent(window.location.href);this.mobileHeaderSignInLink.href=g_secureWebServerUrl+"/stingray/do/login?showSignupFirst\x3d"+this.mobileShowJoinFirst+
"\x26redirect-path\x3d"+encodeURIComponent(window.location.href);"undefined"!==typeof g_bouncer&&"undefined"!==typeof g_feature&&g_bouncer().isOn(g_feature.MOBILE_SEARCH_RESULTS)&&(dojo.removeClass(this.mobileSearchHeaderNode,"hidden"),this.mobileSearchHeaderLink.href=g_unsecureWebServerUrl+"/#search");if("undefined"!==typeof g_bouncer&&"undefined"!==typeof g_feature&&g_bouncer().isOn(g_feature.MOBILE_HAMBURGER_HEADER)){dojo.removeClass(this.mobileNavMenuButtonNode,"hidden");var a=dojo.query(".sprite-header-logo")[0];
dojo.addClass(a,"logo-with-hamburger-button");a=dojo.query(".logo-link")[0];dojo.addClass(a,"logo-link-with-hamburger-button");this._addMobileMenuItems(null);w(document,v.press,b.hitch(this,function(a){this.hamburgerMenuOpen&&a.target!==this.mobileNavMenuLink&&!this.hasParentNode(a.target,this.mobileNavCanvasNode)&&(a.preventDefault(),this.toggleMobileHeader())}))}a=redfin.header.HoverDelayManager.getInstance();a.registerMenu(this.nameAndThumbnail,dojo.hitch(this,this._showMenuDropdown),dojo.hitch(this,
this._hideMenuDropdown));a.registerMenu(this.todoNotificationsNode,dojo.hitch(this,this._showTodoDropdown),dojo.hitch(this,this._hideTodoDropdown))},postCreate:function(){this.inherited(arguments);this._refresh();dojo.subscribe("onLogin",this,dojo.hitch(this,function(){this.skipMultiget=!1;this._refresh()}));dojo.subscribe("onSocialLoginSuccess",this,dojo.hitch(this,function(){this.skipMultiget=!0;this._refresh()}))},hasParentNode:function(a,b){for(;"undefined"!==typeof a&&null!==a;){if(a===b)return!0;
a=a.parentNode}return!1},toggleMobileHeader:function(){var a=dojo.query("body")[0],b=dojo.query("html")[0];dojo.hasClass(this.mobileNavMenuButtonNode,"menuClosed")?(this.hamburgerMenuOpen=!0,dojo.addClass(a,"body-content-moved-70"),dojo.addClass(b,"mobile-menu-open"),dojo.removeClass(this.mobileNavMenuButtonNode,"menuClosed"),dojo.addClass(this.mobileNavMenuButtonNode,"menuOpened"),setTimeout(dojo.hitch(this,function(){dojo.addClass(this.mobileNavCanvasNode,"fixedMobileNavCanvas")}),200)):(dojo.removeClass(this.mobileNavCanvasNode,
"fixedMobileNavCanvas"),dojo.removeClass(a,"body-content-moved-70"),dojo.removeClass(b,"mobile-menu-open"),dojo.removeClass(this.mobileNavMenuButtonNode,"menuOpened"),dojo.addClass(this.mobileNavMenuButtonNode,"menuClosed"),this.hamburgerMenuOpen=!1)},_initSocialButtons:function(){"/"==document.location.pathname&&("undefined"!=typeof g_bouncer&&"undefined"!=typeof g_feature)&&(this.abTestController=new redfin.common.testing.ABTestController,this.abTestController.initialize({experimentId:g_feature.SOCIAL_BUTTONS_IN_HEADER_FOOTER,
category:"header_footer",target:["facebook","twitter","google_plus"],experimentInstanceId:x("RF_BROWSER_ID")}),dojo.when(this.abTestController.loaded,dojo.hitch(this,function(a){this.socialVariant=a;"In_header"==this.socialVariant?(dojo.removeClass(this.facebookNode,"hidden"),dojo.removeClass(this.twitterNode,"hidden"),dojo.removeClass(this.googlePlusNode,"hidden"),a=redfin.header.HoverDelayManager.getInstance(),a.registerMenu(this.facebookNode),a.registerMenu(this.twitterNode),a.registerMenu(this.googlePlusNode),
this._loadFbJs(),this._loadTwitterJs(),this._loadGooglePlusJs()):"In_footer"==this.socialVariant?(dojo.removeClass(dojo.byId("footerFacebookIcon"),"hidden"),dojo.removeClass(dojo.byId("footerTwitterIcon"),"hidden"),dojo.removeClass(dojo.byId("footerGooglePlusIcon"),"hidden"),this._loadFbJs(),this._loadTwitterJs(),this._loadGooglePlusJs()):"Top_right"==this.socialVariant?(dojo.removeClass("sidebarContainerNode","hidden"),dojo.removeClass("sidebarBackgroundNode","hidden"),dojo.removeClass("sideFacebookNode",
"hidden"),dojo.removeClass("sideTwitterNode","hidden"),dojo.removeClass("sideGooglePlusNode","hidden"),a=redfin.header.HoverDelayManager.getInstance(),a.registerMenu(dojo.byId("sideFacebookNode")),a.registerMenu(dojo.byId("sideTwitterNode")),a.registerMenu(dojo.byId("sideGooglePlusNode")),this._loadFbJs(),this._loadTwitterJs(),this._loadGooglePlusJs()):"Under_header"==this.socialVariant&&(dojo.removeClass("underBackgroundNode","hidden"),dojo.removeClass("underFacebookNode","hidden"),dojo.removeClass("underTwitterNode",
"hidden"),dojo.removeClass("underGooglePlusNode","hidden"),a=redfin.header.HoverDelayManager.getInstance(),a.registerMenu(dojo.byId("underFacebookNode")),a.registerMenu(dojo.byId("underTwitterNode")),a.registerMenu(dojo.byId("underGooglePlusNode")),this._loadFbJs(),this._loadTwitterJs(),this._loadGooglePlusJs())})))},_loadFbJs:function(){"undefined"!=typeof g_facebookLoader&&(g_facebookLoader().load(this.facebookAppId),dojo.when(g_facebookLoader().loaded,dojo.hitch(this,function(){this.fbLikeConnection||
(FB.Event.subscribe("edge.create",dojo.hitch(this,function(a,b){this.abTestController.completedGoal(function(){},{target:"facebook"},!0)})),this.fbLikeConnection=!0);if(dojo.isIE&&!this.fbIEProcessor){for(var a=dojo.query(".fb-like"),b=0;b<a.length;b++)dojo.style(a[b].parentNode,{height:"21px",textAlign:"left",marginLeft:"10px"}),a[b].innerHTML='\x3ciframe src\x3d"//www.facebook.com/plugins/like.php?href\x3dhttp%3A%2F%2Fwww.redfin.com\x26amp;width\x3d100\x26amp;height\x3d21\x26amp;colorscheme\x3dlight\x26amp;layout\x3dbutton_count\x26amp;action\x3dlike\x26amp;show_faces\x3dfalse\x26amp;send\x3dfalse\x26amp;appId\x3d'+
this.facebookAppId+'" scrolling\x3d"no" frameborder\x3d"0" style\x3d"border:none; overflow:hidden; width:100px; height:21px;" allowTransparency\x3d"true"\x3e\x3c/iframe\x3e';this.fbIEProcessor=!0}})))},_loadTwitterJs:function(){this.twitterLoaded||(window.twttr=function(a,b,c){var d,e=a.getElementsByTagName(b)[0];if(!a.getElementById(c))return a=a.createElement(b),a.id=c,a.src="https://platform.twitter.com/widgets.js",e.parentNode.insertBefore(a,e),window.twttr||(d={_e:[],ready:function(a){d._e.push(a)}})}(document,
"script","twitter-wjs"),this.twitterLoaded=!0,twttr.ready(dojo.hitch(this,function(a){a.events.bind("follow",dojo.hitch(this,function(a){this.abTestController.completedGoal(function(){},{target:"twitter"},!0)}))})))},_loadGooglePlusJs:function(){this.googlePlusLoaded||(window.UserMenuGooglePlusCallback=dojo.hitch(this,function(a){"on"==a.state&&this.abTestController.completedGoal(function(){},{target:"google_plus"},!0)}),function(){var a=document.createElement("script");a.type="text/javascript";a.async=
!0;a.src="https://apis.google.com/js/plusone.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}(),this.googlePlusLoaded=!0,0<dojo.query(".g-plusone",this.googlePlusNode).length&&"undefined"!=typeof gapi&&gapi.plusone.go())},_refresh:function(a){dojo.style(this.domNode,"display","none");a=this.USER_URL;"undefined"!=typeof g_webServerUrl&&(a=g_webServerUrl+this.USER_URL);dojo.io.script.get({url:a,callbackParamName:"callback",content:{__rf_secure:x("RF_AUTH")},load:dojo.hitch(this,
this._getHeaderSuccess),error:dojo.hitch(this,this._getHeaderError),handleAs:"json"});setTimeout(dojo.hitch(this,this._showTimeoutMenu),2500)},_getHeaderSuccess:function(a,b){if(!this._menuIsDisplayed())if(0!=a.resultCode)this._showFallbackMenu();else{var c=a.payload.data;this.showPinningOptions=c.showPinningOptions;c.loginId?this._showSignedInMenu(c.userPhotoUrl,c.loginId,c.firstName,c.extraMenuItems,c.bouncerSettings,!1,c.userNotifications):(c.googleAppId&&(this.googleAppId=c.googleAppId),c.facebookAppId&&
c.facebookPermsRequested&&(this.facebookAppId=c.facebookAppId,this.facebookPermsRequested=c.facebookPermsRequested,this._setupFacebook()),this._showSignedOutMenu());this._initSocialButtons()}},_showTimeoutMenu:function(){this._menuIsDisplayed()||this._showFallbackMenu()},_showFallbackMenu:function(){this._showSignedInMenu(this._silhouetteUrl,null,"My Redfin",null,null,!0,[])},_showSignedOutMenu:function(){this.userIsLoggedIn=!1;this._updateUserNotificationCookie();dojo.style(this.nameNode,"display",
"none");if(2>this._getSignedOutNoteStatus())dojo.style(this.todoNotificationsNode,"display","none");else{var a=redfin.common.data.util.UserNotificationFactory.getUserNotification("mobile_app_download",null);a.isActive=2==this._getSignedOutNoteStatus()?!0:!1;this._addTodoItems([a]);dojo.style(this.todoNotificationsNode,"display","inline-block")}dojo.style(this.phoneNode,"display","inline-block");!0==this.isLoginPage||"true"==this.isLoginPage?(dojo.style(this.joinOrSignInNode,"display","none"),dojo.style(this.joinOrSignInDisabledNode,
"display","inline-block"),dojo.style(this.mobileHeaderJoinOrSignInNode,"display","none"),dojo.addClass(this.mobileSignInLink,"hidden")):(dojo.style(this.joinOrSignInNode,"display","inline-block"),dojo.style(this.joinOrSignInDisabledNode,"display","none"),dojo.style(this.mobileHeaderJoinOrSignInNode,"display","inline-block"),this.connect(this.imageNode,"onclick",this._imageClick),dojo.style(this.imageNode,"cursor","pointer"));"undefined"!==typeof g_bouncer&&"undefined"!==typeof g_feature&&g_bouncer().isOn(g_feature.MOBILE_HAMBURGER_HEADER)&&
(a=dojo.query(".hamburgerSignOutNode")[0],dojo.addClass(a,"hidden"));dojo.style(this.userMenuOptions,"display","none");dojo.style(this.userMenuDescription,"display","block");this.imageNode.src=this._silhouetteUrl;this.mobileHeaderImageNode.src=this._silhouetteUrl;this._displayMenu()},_updateUserNotificationCookie:function(){null==x("signedOutNote")?x("signedOutNote","1",{expires:14,path:"/"}):"1"==x("signedOutNote")&&x("signedOutNote","2",{expires:14,path:"/"})},_deactivateUserNotificationCookie:function(){null!=
x("signedOutNote")&&x("signedOutNote","3",{expires:14,path:"/"})},_getSignedOutNoteStatus:function(){return null==x("signedOutNote")?0:x("signedOutNote")},_setupFacebook:function(){var a=window.location;if(!0==this.isLoginPage||"true"==this.isLoginPage)if(-1<window.location.href.indexOf("?")){var b=window.location.href.substring(window.location.href.indexOf("?")+1,window.location.href.length);dojo.queryToObject(b)["redirect-path"]&&(a=dojo.queryToObject(b)["redirect-path"])}else a=this.g_unsecureWebServerUrl+
"/";var c=new redfin.facebook.login({action:g_secureWebServerUrl+"/stingray/do/login_facebook",permsRequested:this.facebookPermsRequested,facebookAppId:this.facebookAppId,useFacebookButton:!0,facebookButtonText:"Sign in with Facebook",redirectPath:a,fromUserMenu:!0,bypassAcctCreatedPage:!0,registrationReason:"join",registrationMode:"myredfin",useFacebookButton:!0,useFacebookButtonSmall:!0});this.facebookLoginDiv.appendChild(c.domNode);dojo.style(this.facebookLoginDiv,"paddingBottom","5px");dojo.connect(c.domNode,
"onclick",this,function(){this._onFacebookLoginClick(a)});this.facebookSpinner.src=g_imageServerUrl+"/images/4_0/spinner_ask.gif";g_bouncer().isOn(g_feature.GOOGLE_PLUS_SIGN_ON)?(this.googleLogin=new redfin.google.googleLogin({postType:"script",buttonWidth:"standard",redirectPath:a,bypassAcctCreatedPage:!0,registrationReason:"join",registrationMode:"myredfin",googleAppId:this.googleAppId},this.googleLoginDiv),g_googleAppId=this.googleAppId):dojo.addClass(this.googleLoginDiv,"hidden");dojo.isIE||(dojo.subscribe("onSocialLoginError",
this,function(a){dojo.style(this.facebookLoginDiv,"display","");dojo.style(this.facebookSpinner,"display","none")}),dojo.connect(this.facebookLoginDiv,"onclick",this,function(){dojo.addClass(this.googleLogin.domNode,"hidden");dojo.style(this.facebookLoginDiv,"display","none");dojo.style(this.facebookSpinner,"display","block")}));g_facebookLoader().load(this.facebookAppId);dojo.when(g_facebookLoader().loaded,function(){c.facebookLoaded()})},_onFacebookLoginClick:function(a){dojo.subscribe("onSocialLoginSuccess",
function(){setTimeout(function(){window.location==a?window.location.reload():window.location=a},4E3)})},_showSignedInMenu:function(a,b,c,d,e,f,g){b&&(this.userIsLoggedIn=!0);if(null!=g&&0<g.length)for(var k=0;k<g.length;k++){var h=redfin.common.data.util.UserNotificationFactory.getUserNotification(g[k].type,this.userIsLoggedIn);"abandoned_tour"==g[k].type&&(this.hasTourReminder=!0);dojo.mixin(g[k],h)}dojo.style(this.nameNode,"display","inline-block");f?(dojo.style(this.todoNotificationsNode,"display",
"none"),dojo.style(this.phoneNode,"display","inline-block")):(dojo.style(this.todoNotificationsNode,"display","inline-block"),dojo.style(this.phoneNode,"display","none"));dojo.style(this.joinOrSignInNode,"display","none");dojo.style(this.joinOrSignInDisabledNode,"display","none");dojo.style(this.mobileHeaderJoinOrSignInNode,"display","none");dojo.style(this.userMenuOptions,"display","block");dojo.style(this.userMenuDescription,"display","none");dojo.style(this.facebookLoginDiv,"display","none");this.googleLogin&&
dojo.addClass(this.googleLogin.domNode,"hidden");a?(this.imageNode.src=a,this.mobileHeaderImageNode.src=a):(this.imageNode.src=this._silhouetteUrl,this.mobileHeaderImageNode.src=this._silhouetteUrl);this.connect(this.imageNode,"onclick",this._imageClick);this.connect(this.mobileHeaderImageNode,"onclick",this._imageClick);dojo.style(this.imageNode,"cursor","pointer");b&&dojo.addClass(this.imageNode,"loginId"+b);this.nameLink.innerHTML=this._trunkateFirstName(c);if(!this.nameLink.innerHTML||"null"===
this.nameLink.innerHTML)this.nameLink.innerHTML="My Redfin";this.mobileHeaderNameLink.innerHTML="Hi "+this._trunkateFirstName(c)+"!";this._clearMenuItems();d&&0<d.length&&(d[d.length-1].lastInSection=!0,this._addMenuItems(d,e,this.userMenuOptionsList));this._addStandardMenuItems(e);g&&0<g.length?this._addTodoItems(g):dojo.removeClass(this.todoNotificationsListEmptyMessage,"hidden");this._displayMenu();dojo.addClass(this.mobileSignInLink,"hidden");if("undefined"===typeof g_bouncer||"undefined"===typeof g_feature||
!g_bouncer().isOn(g_feature.MOBILE_HAMBURGER_HEADER))this.mobileSignOutLink.href=g_secureWebServerUrl+"/stingray/do/logout",dojo.connect(this.mobileSignOutLink,"onclick",function(){"function"==typeof LO&&LO()}),dojo.removeClass(this.mobileSignOutLink,"hidden")},_displayMenu:function(){this._hideMenuDropdown();this._hideTodoDropdown();dojo.style(this.domNode,"display","block");this.onReady()},_menuIsDisplayed:function(){return"block"==dojo.style(this.domNode,"display")},_trunkateFirstName:function(a){a&&
15<a.length&&(a=a.substring(0,15)+"...");return a},_showMenuDropdown:function(){dojo.publish("UserMenuOpen")},_hideMenuDropdown:function(){},_clearMenuItems:function(){this.userMenuOptionsList.innerHTML=""},_addStandardMenuItems:function(a){this._addMenuItems([{name:"Favorites \x26 X-Outs",href:g_unsecureWebServerUrl+"/myredfin/favorites",lastInSection:!1},{name:"Notes \x26 Home Photos",href:g_unsecureWebServerUrl+"/myredfin/notes",lastInSection:!1},{name:"Estimates",href:g_unsecureWebServerUrl+"/myredfin/estimates",
lastInSection:!1},{name:"Saved Searches",href:g_unsecureWebServerUrl+"/myredfin/saved-searches",lastInSection:!1},{name:"Collections",href:g_unsecureWebServerUrl+"/collections/me",lastInSection:!0,bouncerFeature:"COLLECTIONS"},{name:"Agent",href:g_secureWebServerUrl+"/myredfin/agent",lastInSection:!1},{name:"Home Tours",href:g_unsecureWebServerUrl+"/myredfin/tours",lastInSection:!1},{name:"Offers",href:g_secureWebServerUrl+"/myredfin/offers",lastInSection:!1},{name:"Listings",href:g_secureWebServerUrl+
"/myredfin/listings",lastInSection:!1},{name:"Reviews",href:g_unsecureWebServerUrl+"/myredfin/reviews",lastInSection:!0},{name:"Alerts \x26 Emails",href:g_secureWebServerUrl+"/myredfin/alerts-settings",lastInSection:!1},{name:"Account",href:g_secureWebServerUrl+"/myredfin/settings",lastInSection:!1},{name:"Help",href:g_unsecureWebServerUrl+"/help",lastInSection:!1},{name:"Contact Us",href:g_unsecureWebServerUrl+"/about/contact-us",lastInSection:!0},{name:"Sign Out",href:g_secureWebServerUrl+"/stingray/do/logout",
lastInSection:!1,onClick:function(){"function"==typeof LO&&LO()}}],a,this.userMenuOptionsList)},_addMenuItems:function(a,b,c){for(var d=0;d<a.length;d++)if(menuItem=a[d],this._shouldDisplayMenuItem(menuItem,b)){var e=dojo.create("li",null,c),e=dojo.create("a",{href:menuItem.href,innerHTML:menuItem.name,target:"_top"},e),f=menuItem.onClick;f&&"undefined"!=typeof f&&dojo.connect(e,"onclick",f);menuItem.lastInSection&&(e=dojo.create("li",{className:"breaker"},c),dojo.create("hr",null,e))}},_shouldDisplayMenuItem:function(a,
b){return a.bouncerFeature?b?"COLLECTIONS"==a.bouncerFeature?b[a.bouncerFeature]&&!this.showPinningOptions:b[a.bouncerFeature]:!1:!0},_onMenuItemMouseOver:function(a){dojo.addClass(a.target,"hover")},_onMenuItemMouseOut:function(a){dojo.removeClass(a.target,"hover")},_addMobileMenuItems:function(a){var c=e("ios")||0<=(window.location.hash||"").indexOf("ios"),d=e("android")||0<=(window.location.hash||"").indexOf("android"),f="Get the Mobile App",g=g_unsecureWebServerUrl+"/mobile";c?(f="Get the iPhone App",
g="http://c.tapsense.com/c/track/website/5192ea41e4b0e14cc61d01f2?cid\x3dhamburgerMenu_getAppMenuItem"):d&&("Get the Android App",g="https://play.google.com/store/apps/details?id\x3dcom.redfin.android\x26referrer\x3dutm_source%3DhamburgerMenu%26utm_medium%3Dredfinwebsite%26utm_content%3DgetAppMenuItem%26utm_campaign%3Dredfinwebsite");c=[{name:"Options",menuHeaderSection:!0},{name:f,href:g,className:"mobile_icon",onClick:b.hitch(this,this.toggleMobileHeader)},{name:"Search for Homes",href:g_unsecureWebServerUrl+
"/#search",className:"hamburger_search_icon",onClick:b.hitch(this,this.toggleMobileHeader)},{name:"Redfin Blog",href:"http://blog.redfin.com/",className:"blog_icon",onClick:b.hitch(this,this.toggleMobileHeader)},{name:"Help",href:"http://support.redfin.com/",className:"forum_icon",onClick:b.hitch(this,this.toggleMobileHeader)},{name:"Sign Out",href:g_secureWebServerUrl+"/stingray/do/logout",className:"sign_out_icon",onClick:b.hitch(this,function(){this.toggleMobileHeader();"function"==typeof LO&&
LO()})}];this._createMobileMenuItems(c,a,this.mobileNavCanvasItemsNode)},_createMobileMenuItems:function(a,b,c){for(var d=0;d<a.length;d++)if(menuItem=a[d],menuItem.menuHeaderSection){var e=dojo.create("li",{className:"hamburgerSubHeader"},c);dojo.create("div",{innerHTML:menuItem.name},e)}else if(this._shouldDisplayMenuItem(menuItem,b)){e=dojo.create("li",null,c);"Sign Out"===menuItem.name&&dojo.addClass(e,"hamburgerSignOutNode");var f=dojo.create("div",{href:menuItem.href,className:"navIcons "+menuItem.className},
e),f=dojo.create("a",{href:menuItem.href,target:"_top"},f),e=dojo.create("a",{href:menuItem.href,innerHTML:menuItem.name,target:"_top"},e),g=menuItem.onClick;g&&"undefined"!==typeof g&&(dojo.connect(e,"onclick",g),dojo.connect(f,"onclick",g))}},_showTodoDropdown:function(){dojo.removeClass(this.todoNotificationImageNode,"light");this._deactivateNotificationsAfterDelay();var a=0;this._todoNotificationWidgets&&this._todoNotificationWidgets.length&&(a=this._todoNotificationWidgets.length);var b="Display Todo Dropdown",
b=this.userIsLoggedIn?b+"-Reg":b+"-Unreg",b=0<this._numActiveTodoNotifications?b+"-withActive":b+"-withoutActive";dojo.global._gaq.push(["_trackEvent","UserNotification",b,a+" items"]);this.hasTourReminder&&dojo.global._gaq.push(["_trackEvent","UserNotification","Display Tour Reminder",a.toString()])},_hideTodoDropdown:function(){dojo.addClass(this.todoNotificationImageNode,"light");this._clearTodoTimeout()},_clearTodoTimeout:function(){this._todoTimeout&&clearTimeout(this._todoTimeout)},_deactivateNotificationsAfterDelay:function(){0!=
this._numActiveTodoNotifications&&(this._clearTodoTimeout(),this._todoTimeout=setTimeout(dojo.hitch(this,this._deactivateNotifications),1E3))},_deactivateNotifications:function(){this._deactivateUserNotificationCookie();var a="/stingray/do/api-deactivate-notifications";"undefined"!=typeof g_webServerUrl&&(a=g_webServerUrl+a);dojo.io.script.get({url:a,callbackParamName:"callback",content:{__rf_secure:x("RF_AUTH")},load:dojo.hitch(this,this._deactivateNotificationsSuccess),error:dojo.hitch(this,this._deactivateNotificationsError),
handleAs:"json"})},_deactivateNotificationsSuccess:function(a,b){if(0==a.resultCode){this._numActiveTodoNotifications=0;for(var c in this._todoNotificationWidgets)this._todoNotificationWidgets[c].deactivate();this._todoNumberBubble&&this._todoNumberBubble.fadeOut()}},_deactivateNotificationsError:function(){},_addTodoItems:function(a){this._todoNotificationWidgets=[];a=a.sort(function(a,b){var c={fyi:0,todo:1};return c[b.priority]-c[a.priority]||b.createdDate-a.createdDate});for(var b in a){todoItem=
a[b];(!0==todoItem.isActive||"true"==todoItem.isActive)&&this._numActiveTodoNotifications++;var c=new redfin.header.UserMenuNotification({data:todoItem});this.connect(c,"onHidden",this._onTodoItemHidden);this._todoNotificationWidgets.push(c);dojo.place(c.domNode,this.todoNotificationsList,"last")}0<this._numActiveTodoNotifications&&(this._todoNumberBubble=redfin.header.NumberBubble({number:this._numActiveTodoNotifications,style:"position:absolute;top:1px;left:1px;"},this.todoNumberBubbleNode))},_onTodoItemHidden:function(){for(var a in this._todoNotificationWidgets)if(!dojo.hasClass(this._todoNotificationWidgets[a].domNode,
"hidden"))return;dojo.removeClass(this.todoNotificationsListEmptyMessage,"hidden")},_getHeaderError:function(a,b){this._menuIsDisplayed()||this._showFallbackMenu()},doInlineReg:function(){return!0==this.inlineReg||"true"==this.inlineReg},_joinClick:function(a){this.doInlineReg()&&(redfin.common.LoginPopup.showNewDialogIfNeeded({message:"join",view:"join"}),a.preventDefault())},_signInClick:function(a){this.doInlineReg()&&(redfin.common.LoginPopup.showNewDialogIfNeeded({message:"join",view:"signin"}),
a.preventDefault())},_imageClick:function(a){this.userIsLoggedIn?window.location=g_secureWebServerUrl+"/myredfin":this.doInlineReg()?redfin.common.LoginPopup.showNewDialogIfNeeded({message:"join",view:"signin"}):window.location=g_secureWebServerUrl+"/stingray/do/login";a.preventDefault()},USER_URL:"/stingray/do/api-get-header-user-menu",setupStaticMultiget:function(a){if(null!=this._multigetDeferreds&&"undefined"==typeof phantom)throw"Error in redfin.header.UserMenu.setupStaticMultiget; multiget is ALREADY set up";
this._multigetDeferreds=this._getMultigetNoCache(a)},getMultiget:function(a){return null!=this._multigetDeferreds?(a=this._multigetDeferreds,this._multigetDeferreds=null,a):this._getMultigetNoCache(a)},_getMultigetNoCache:function(a){return redfin.MultiGet.add({batch:a,url:this.USER_URL,content:{__rf_secure:x("RF_AUTH")}})},_multigetDeferreds:null})})},"redfin/search/common/mixins/xhr/_BaseXHRMixin":function(){define(["dijit","dojo","dojox","dojo/require!redfin/common/data/ObjectGraph"],function(h,
b,e){b.provide("redfin.search.common.mixins.xhr._BaseXHRMixin");b.require("redfin.common.data.ObjectGraph");redfin.search.common.mixins.xhr._BaseXHRMixin={inflateObject:function(a){try{return(new redfin.common.data.ObjectGraph(a.payload)).getRoot()}catch(b){return console.error("XHR: caught error while trying to process response: "+b),null}},_basicXhrParams:{sync:!1,preventCache:!0,timeout:12E4,handleAs:"json"},xhrPost:function(a){return b.xhrPost(b.safeMixin(a,this._basicXhrParams))},xhrGet:function(a){return b.xhrGet(b.safeMixin(a,
this._basicXhrParams))},xhrDelete:function(a){return b.xhrDelete(b.safeMixin(a,this._basicXhrParams))}}})},"redfin/search/user_preferences":function(){define("redfin/search/user_preferences",["dojo/_base/lang","dojo/cookie","dojo/io-query"],function(h,b,e){function a(a){return"true"==m[a]?!0:!1}function c(a,b){b?d(a,"true"):d(a,"false")}function d(a,c){null!==c?m[a]=c:delete m[a];b(g,e.objectToQuery(m),{expires:f,path:k,domain:cookieDomain})}var g="userPreferences",f=3600,k="/",l={h:"hybrid",a:"satellite",
r:"roadmap",s:"roadmap"},m=h.mixin({parcels:"true",schools:"true",mapStyle:"s",statistics:"true",agcTooltip:"false",agentReset:"false",ldpRegister:"false"},e.queryToObject(b(g)||"")),p={getDismissedSchoolTooltip:function(){return a("dismissedSchoolTooltip")},setDismissedSchoolTooltip:function(a){c("dismissedSchoolTooltip",a)},getSchoolTab:function(){return m.schoolTab},setSchoolTab:function(a){d("schoolTab",a)},getDirectMarketingRegistered:function(){return a("dmRegistered")},deleteDirectMarketingRegistered:function(){d("dmRegistered",
null)},setFacebookStatus:function(a){d("fbStatus",a)},getFacebookStatus:function(){return m.fbStatus},deleteFacebookStatus:function(){d("fbStatus",null)},setGoogleStatus:function(a){d("googleStatus",a)},getGoogleStatus:function(){return m.googleStatus},deleteGoogleStatus:function(){d("googleStatus",null)},setDismissedLdpRegister:function(a){c("ldpRegister",a)},getDismissedLdpRegister:function(){return a("ldpRegister")},setAgentReset:function(a){c("agentReset",a)},getAgentReset:function(){return a("agentReset")},
deleteAgentReset:function(){d("agentReset",null)},setTourHomeEntryPointWhenNotLoggedIn:function(a){d("tourHomeEntryPointWhenNotLoggedIn",a)},getTourHomeEntryPointWhenNotLoggedIn:function(){return m.tourHomeEntryPointWhenNotLoggedIn},deleteTourHomeEntryPointWhenNotLoggedIn:function(){d("tourHomeEntryPointWhenNotLoggedIn",null)},setDismissedAgcTooltip:function(a){c("agcTooltip",a)},getDismissedAgcTooltip:function(){return a("agcTooltip")},setParcels:function(a){c("parcels",a)},getParcels:function(){return a("parcels")},
setSchools:function(a){c("schools",a)},getSchools:function(){return a("schools")},setStatistics:function(a){c("statistics",a)},getStatistics:function(){return a("statistics")},setMapStyle:function(a){switch(a){case "satellite":a="a";break;case "hybrid":a="h";break;default:a="r"}d("mapStyle",a)},getMapStyle:function(){return l[m.mapStyle]},setLdpMapStyle:function(a){switch(a){case "satellite":a="a";break;case "hybrid":a="h";break;default:a="r"}d("ldpMapStyle",a)},getLdpMapStyle:function(){m.mapStyleV2&&
(this.setLdpMapStyle("ldpMapStyle",m.mapStyleV2),d("mapStyleV2",null));return l[m.ldpMapStyle]||"roadmap"},setLdpMapZoom:function(a){d("lz",a)},getLdpMapZoom:function(){return parseInt(m.lz||17,10)},setRegionNameString:function(a){d("regionName",a)},getRegionNameString:function(){return m.regionName},setStopLdpContactBoxAgentSlideShow:function(a){c("stopLdpContactBoxAgentSlideShow",a)},getStopLdpContactBoxAgentSlideShow:function(){return a("stopLdpContactBoxAgentSlideShow")},setAnonUserLoggedInFromPopup:function(a){c("anonUserLoggedInFromPopup",
a)},getAnonUserLoggedInFromPopup:function(){return a("anonUserLoggedInFromPopup")}};h.setObject("redfin.ui.UserPreferences",p);return p})},"dijit/_CssStateMixin":function(){define("dijit/_CssStateMixin","dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-class dojo/has dojo/_base/lang dojo/on dojo/ready dojo/_base/window ./registry".split(" "),function(h,b,e,a,c,d,g,f,k,l){b=b("dijit._CssStateMixin",[],{cssStateNodes:{},hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);
h.forEach("disabled readOnly checked selected focused state hovering active _opened".split(" "),function(a){this.watch(a,d.hitch(this,"_setStateClass"))},this);for(var a in this.cssStateNodes)this._trackMouseState(this[a],this.cssStateNodes[a]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":this._set("hovering",!0);this._set("active",this._mouseDown);break;case "mouseout":this._set("hovering",!1);
this._set("active",!1);break;case "mousedown":case "touchstart":this._set("active",!0);break;case "mouseup":case "touchend":this._set("active",!1)}},_setStateClass:function(){function a(c){b=b.concat(h.map(b,function(a){return a+c}),"dijit"+c)}var b=this.baseClass.split(" ");this.isLeftToRight()||a("Rtl");var c="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&a(c);this.state&&a(this.state);this.selected&&a("Selected");this._opened&&a("Opened");this.disabled?a("Disabled"):this.readOnly?
a("ReadOnly"):this.active?a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var c=this.stateNode||this.domNode,d={};h.forEach(c.className.split(" "),function(a){d[a]=!0});"_stateClasses"in this&&h.forEach(this._stateClasses,function(a){delete d[a]});h.forEach(b,function(a){d[a]=!0});var e=[],f;for(f in d)e.push(f);c.className=e.join(" ");this._stateClasses=b},_subnodeCssMouseEvent:function(b,c,d){function e(d){a.toggle(b,c+"Active",d)}if(!this.disabled&&!this.readOnly)switch(d.type){case "mouseover":a.toggle(b,
c+"Hover",!0);break;case "mouseout":a.toggle(b,c+"Hover",!1);e(!1);break;case "mousedown":case "touchstart":e(!0);break;case "mouseup":case "touchend":e(!1);break;case "focus":case "focusin":a.toggle(b,c+"Focused",!0);break;case "blur":case "focusout":a.toggle(b,c+"Focused",!1)}},_trackMouseState:function(a,b){a._cssState=b}});f(function(){function a(b){if(!e.isDescendant(b.relatedTarget,b.target))for(var c=b.target;c&&c!=b.relatedTarget;c=c.parentNode)if(c._cssState){var d=l.getEnclosingWidget(c);
d&&(c==d.domNode?d._cssMouseEvent(b):d._subnodeCssMouseEvent(c,c._cssState,b))}}function b(c){c.target=c.srcElement;a(c)}var d=k.body(),f=(c("touch")?[]:["mouseover","mouseout"]).concat(["mousedown","touchstart","mouseup","touchend"]);h.forEach(f,function(c){d.addEventListener?d.addEventListener(c,a,!0):d.attachEvent("on"+c,b)});g(d,"focusin, focusout",function(a){var b=a.target;b._cssState&&!b.getAttribute("widgetId")&&l.getEnclosingWidget(b)._subnodeCssMouseEvent(b,b._cssState,a)})});return b})},
"url:redfin/search/common/dialogs/templates/FixedDialogUnderlay.html":'\x3cdiv class\x3d"FixedDialogUnderlay sprite-clear-bg hidden"\x3e\x3cdiv data-dojo-attach-point\x3d"node"\x3e\x3c/div\x3e\x3c/div\x3e',"dijit/form/FilteringSelect":function(){define("dijit/form/FilteringSelect","dojo/data/util/filter dojo/_base/declare dojo/_base/lang dojo/when ./MappedTextBox ./ComboBoxMixin".split(" "),function(h,b,e,a,c,d){return b("dijit.form.FilteringSelect",[c,d],{required:!0,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened},
isValid:function(){return!!this.item||!this.required&&""==this.get("displayedValue")},_refreshState:function(){this.searchTimer||this.inherited(arguments)},_callbackSetLabel:function(a,b,c,d){b&&b[this.searchAttr]!==this._lastQuery||!b&&a.length&&this.store.getIdentity(a[0])!=this._lastQuery||(a.length?this.set("item",a[0],d):this.set("value","",d||void 0===d&&!this.focused,this.textbox.value,null))},_openResultList:function(a,b,c){b[this.searchAttr]===this._lastQuery&&(this.inherited(arguments),
void 0===this.item&&this.validate(!0))},_getValueAttr:function(){return this.valueNode.value},_getValueField:function(){return"value"},_setValueAttr:function(b,c,d,h){this._onChangeActive||(c=null);if(void 0===h){if(null===b||""===b)if(b="",!e.isString(d)){this._setDisplayedValueAttr(d||"",c);return}var m=this;this._lastQuery=b;a(this.store.get(b),function(a){m._callbackSetLabel(a?[a]:[],void 0,void 0,c)})}else this.valueNode.value=b,this.inherited(arguments)},_setItemAttr:function(a,b,c){this.inherited(arguments);
this._lastDisplayedValue=this.textbox.value},_getDisplayQueryString:function(a){return a.replace(/([\\\*\?])/g,"\\$1")},_setDisplayedValueAttr:function(b,c){null==b&&(b="");if(!this._created){if(!("displayedValue"in this.params))return;c=!1}if(this.store){this.closeDropDown();var d=e.clone(this.query),l=this._getDisplayQueryString(b),m;this.store._oldAPI?m=l:(m=h.patternToRegExp(l,this.ignoreCase),m.toString=function(){return l});this._lastQuery=d[this.searchAttr]=m;this._lastDisplayedValue=this.textbox.value=
b;this._set("displayedValue",b);var p=this,n={ignoreCase:this.ignoreCase,deep:!0};e.mixin(n,this.fetchProperties);this._fetchHandle=this.store.query(d,n);a(this._fetchHandle,function(a){p._fetchHandle=null;p._callbackSetLabel(a||[],d,n,c)},function(a){p._fetchHandle=null;p._cancelingQuery||console.error("dijit.form.FilteringSelect: "+a.toString())})}},undo:function(){this.set("displayedValue",this._lastDisplayedValue)}})})},"redfin/common/data/ObjectGraph":function(){define(["dijit","dojo","dojox",
"dojo/require!dojox/json/ref"],function(h,b,e){b.provide("redfin.common.data.ObjectGraph");b.require("dojox.json.ref");b.declare("redfin.common.data.ObjectGraph",null,{constructor:function(a,b){globalIds={};this._types=a.__types;this._global_attribute_names=a.__att_names;this._root=null==a.__root?a:this._recursiveHydrate(a.__root,globalIds,b);this._recursiveResolve(this._root,globalIds,b)},getRoot:function(){return this._root},_recursiveHydrate:function(a,c,d){if(null==a)return a;if(b.isArray(a)){var e=
[];b.forEach(a,function(a){e.push(this._recursiveHydrate(a,c,d))},this);return e}if(b.isObject(a)){var f={},k={},h,m;for(m in a)"__g_id"===m?h=a[m]:"__t_idx"===m||"__atts"===m||(f[m]=this._recursiveHydrate(a[m],c,d));if(void 0!==a.__t_idx){var p=parseInt(a.__t_idx),k=this._types[p];a=a.__atts;m=a.length;for(var p=this._global_attribute_names[p],n=0;n<m;++n)f[p[n]]=this._recursiveHydrate(a[n],c,d);a=b.getObject(k);if(!a)try{a=require(k.replace(/\./g,"/"))}catch(q){a=null}a||console.error("The type '"+
k+"' could not be instantiated.  Have you dojo.required it?");k=new a(f);"function"===typeof d&&d(k)}else k=f;h&&(c[h]=k);return k}return a},_recursiveResolve:function(a,c){if(null!==a)if(b.isArray(a))for(var d=0;d<a.length;d++){var e=a[d];null!=e&&b.isObject(e)&&e.$ref&&c[e.$ref]?a[d]=c[e.$ref]:this._recursiveResolve(e,c)}else if(b.isObject(a))if(b.isFunction(a.isInstanceOf)&&a.isInstanceOf(redfin.common.data.DataObjectListModel))this._recursiveResolve(a._backingList,c),a._Resettable_resetData=[].concat(a._backingList);
else for(d in a)!/^_Resettable.*/.test(d)&&a.hasOwnProperty(d)&&(e=a[d],null===e||b.isFunction(e)||(b.isObject(e)&&e.$ref&&c[e.$ref]?(a[d]=c[e.$ref],b.isFunction(a.isInstanceOf)&&a.isInstanceOf(redfin.common.data.util._Resettable)&&(a._Resettable_resetData[d]=a[d])):(b.isArray(e)||b.isObject(e))&&this._recursiveResolve(e,c)))}})})},"dijit/_WidgetBase":function(){define("dijit/_WidgetBase","require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable ./registry".split(" "),
function(h,b,e,a,c,d,g,f,k,l,m,p,n,q,r,t,u,w,v,x,s,y){function C(a){return function(b){f[b?"set":"remove"](this.domNode,a,b);this._set(a,b)}}n.add("dijit-legacy-requires",!q.isAsync);n("dijit-legacy-requires")&&u(0,function(){h(["dijit/_base/manager"])});var A={};return d("dijit._WidgetBase",[w,s],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:C("lang"),dir:"",_setDirAttr:C("dir"),textDir:"","class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,
domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",a)},attributeMap:{},_blankGif:a.blankGif||h.toUrl("dojo/resources/blank.gif"),postscript:function(a,b){this.create(a,b)},create:function(a,b){this.srcNodeRef=g.byId(b);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id);a&&(this.params=a,r.mixin(this,a));this.postMixInProperties();this.id||(this.id=y.getUniqueId(this.declaredClass.replace(/\./g,
"_")),this.params&&delete this.params.id);this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:x.doc);this.ownerDocumentBody=x.body(this.ownerDocument);y.add(this);this.buildRendering();var c;if(this.domNode){this._applyAttributes();var d=this.srcNodeRef;d&&(d.parentNode&&this.domNode!==d)&&(d.parentNode.replaceChild(this.domNode,d),c=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();c&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a=
this.constructor,c=a._setterAttrs;if(!c){var c=a._setterAttrs=[],d;for(d in this.attributeMap)c.push(d);var a=a.prototype,e;for(e in a)e in this.attributeMap||"_set"+e.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()})+"Attr"in a&&c.push(e)}var f={},g;for(g in this.params||{})f[g]=this[g];b.forEach(c,function(a){a in f||this[a]&&this.set(a,this[a])},this);for(g in f)this.set(g,f[g])},postMixInProperties:function(){},buildRendering:function(){this.domNode||(this.domNode=
this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(b.map(a,function(a){return a+"Rtl"})));k.add(this.domNode,a)}},postCreate:function(){},startup:function(){this._started||(this._started=!0,b.forEach(this.getChildren(),function(a){!a._started&&(!a._destroyed&&r.isFunction(a.startup))&&(a.startup(),a._started=!0)}))},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},
destroy:function(a){function c(b){b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a)}this._beingDestroyed=!0;this.uninitialize();b.forEach(this._connects,r.hitch(this,"disconnect"));b.forEach(this._supportingWidgets,c);this.domNode&&b.forEach(y.findWidgets(this.domNode,this.containerNode),c);this.destroyRendering(a);y.remove(this.id);this._destroyed=!0},destroyRendering:function(a){this.bgIframe&&(this.bgIframe.destroy(a),delete this.bgIframe);this.domNode&&(a?f.remove(this.domNode,
"widgetId"):l.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(a||l.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){b.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var b=this.domNode;r.isObject(a)?p.set(b,a):b.style.cssText=b.style.cssText?b.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(a,c,d){d=3<=arguments.length?d:this.attributeMap[a];
b.forEach(r.isArray(d)?d:[d],function(b){var d=this[b.node||b||"domNode"];switch(b.type||"attribute"){case "attribute":r.isFunction(c)&&(c=r.hitch(this,c));b=b.attribute?b.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;d.tagName?f.set(d,b,c):d.set(b,c);break;case "innerText":d.innerHTML="";d.appendChild(this.ownerDocument.createTextNode(c));break;case "innerHTML":d.innerHTML=c;break;case "class":k.replace(d,c,this[a])}},this)},get:function(a){var b=this._getAttrNames(a);return this[b.g]?
this[b.g]():this[a]},set:function(a,b){if("object"===typeof a){for(var c in a)this.set(c,a[c]);return this}c=this._getAttrNames(a);var d=this[c.s];if(r.isFunction(d))var e=d.apply(this,Array.prototype.slice.call(arguments,1));else{var d=this.focusNode&&!r.isFunction(this.focusNode)?"focusNode":"domNode",f=this[d].tagName,g;if(!(g=A[f])){g=this[d];var k={},h;for(h in g)k[h.toLowerCase()]=!0;g=A[f]=k}h=a in this.attributeMap?this.attributeMap[a]:c.s in this?this[c.s]:c.l in g&&"function"!=typeof b||
/^aria-|^data-|^role$/.test(a)?d:null;null!=h&&this._attrToDom(a,b,h);this._set(a,b)}return e||this},_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var c=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return b[a]={n:a+"Node",s:"_set"+c+"Attr",g:"_get"+c+"Attr",l:c.toLowerCase()}},_set:function(a,b){var c=this[a];this[a]=b;this._created&&b!==c&&(this._watchCallbacks&&this._watchCallbacks(a,c,b),this.emit("attrmodified-"+
a,{detail:{prevValue:c,newValue:b}}))},emit:function(a,b,c){b=b||{};void 0===b.bubbles&&(b.bubbles=!0);void 0===b.cancelable&&(b.cancelable=!0);b.detail||(b.detail={});b.detail.widget=this;var d,e=this["on"+a];e&&(d=e.apply(this,c?c:[b]));this._started&&!this._beingDestroyed&&t.emit(this.domNode,a.toLowerCase(),b);return d},on:function(a,b){var c=this._onMap(a);return c?e.after(this,c,b,!0):this.own(t(this.domNode,a,b))[0]},_onMap:function(a){var b=this.constructor,c=b._onMap;if(!c){var c=b._onMap=
{},d;for(d in b.prototype)/^on/.test(d)&&(c[d.replace(/^on/,"").toLowerCase()]=d)}return c["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?y.findWidgets(this.containerNode):[]},getParent:function(){return y.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,b,d){return this.own(c.connect(a,b,this,d))[0]},disconnect:function(a){a&&a.remove()},subscribe:function(a,
b){return this.own(v.subscribe(a,r.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir:m.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=p.get(this.domNode,"display")},placeAt:function(a,b){var c=!a.tagName&&y.byId(a);c&&c.addChild&&(!b||"number"===typeof b)?c.addChild(this,b):(c=c?c.containerNode&&!/after|before|replace/.test(b||"")?c.containerNode:c.domNode:g.byId(a,this.ownerDocument),l.place(this.domNode,
c,b),!this._started&&(this.getParent()||{})._started&&this.startup());return this},getTextDir:function(a,b){return b},applyTextDir:function(){},defer:function(a,b){var c=setTimeout(r.hitch(this,function(){c=null;this._destroyed||r.hitch(this,a)()}),b||0);return{remove:function(){c&&(clearTimeout(c),c=null);return null}}}})})},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(h,b){h.cookie=function(e,a,c){var d=document.cookie,g;if(1==arguments.length)g=(g=d.match(RegExp("(?:^|; )"+
b.escapeString(e)+"\x3d([^;]*)")))?decodeURIComponent(g[1]):void 0;else{c=c||{};d=c.expires;if("number"==typeof d){var f=new Date;f.setTime(f.getTime()+864E5*d);d=c.expires=f}d&&d.toUTCString&&(c.expires=d.toUTCString());a=encodeURIComponent(a);var d=e+"\x3d"+a,k;for(k in c)d+="; "+k,f=c[k],!0!==f&&(d+="\x3d"+f);document.cookie=d}return g};h.cookie.isSupported=function(){"cookieEnabled"in navigator||(this("__djCookieTest__","CookiesAllowed"),navigator.cookieEnabled="CookiesAllowed"==this("__djCookieTest__"),
navigator.cookieEnabled&&this("__djCookieTest__","",{expires:-1}));return navigator.cookieEnabled};return h.cookie})},"redfin/common/elements/Flyout":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom dojo/dom-class dojo/dom-style dojo/dom-construct dojo/dom-geometry dojo/query dojo/keys dojo/window dijit/registry dijit/_Widget dijit/_TemplatedMixin dijit/_FocusMixin dijit/_Container dojo/text!./templates/Flyout.html".split(" "),function(h,b,e,a,c,d,g,f,k,l,m,p,n,q,r,
t,u){var w=h("redfin.common.elements.Flyout",[n,q,t,r],{closeOnBlur:!1,title:null,relativeTo:null,group:null,scrollOnOverflow:!1,maxOverflow:0,maxHeight:null,flyoutNode:null,containerNode:null,headerNode:null,titleNode:null,closeNode:null,_possiblePositions:["below","above","right","left"],_possibleAlignments:["center","left","right","above","below"],templateString:u,postMixInProperties:function(){this.inherited(arguments);this.group&&(w.GROUPS[this.group]||(w.GROUPS[this.group]=[]),w.GROUPS[this.group].push(this))},
postCreate:function(){this.inherited(arguments);this.keepWithin||this.set("keepWithin",a.byId("content"));"undefined"===typeof this.type?c.add(this.domNode,"standard"):"string"===typeof this.type&&("definition"===this.type&&c.add(this.domNode,"standard"),c.add(this.domNode,this.type));this._setLayoutMethod();this.relativeTo&&g.place(this.domNode,this.relativeTo,"after")},startup:function(){this._started||(this.inherited(arguments),this._doLayout())},destroy:function(){var a=w.GROUPS[this.group]||
[],b=e.indexOf(a,this);-1<b&&a.splice(b,1);this.inherited(arguments)},onShow:function(){},onHide:function(){},_setContentAttr:function(a){e.forEach(this.getChildren(),function(a){a.destroyRecursive?a.destroyRecursive():a.destroy()},this);g.empty(this.containerNode);a&&(a.domNode?this.addChild(a):(1!=g.toDom(a).nodeType&&(a="\x3cspan\x3e"+a+"\x3c/span\x3e"),g.place(a,this.containerNode)))},_setTitleAttr:function(a){"string"!==typeof a&&(a=void 0);this._set("title",a);g.empty(this._titleNode);this.title||
this.showClose?c.remove(this.headerNode,"hidden"):c.add(this.headerNode,"hidden");this.title&&(this._titleNode.innerHTML=this.title)},_setPositionAttr:function(a){this._set("position",a);this._started&&this._setLayoutMethod()},_setAlignmentAttr:function(a){this._set("alignment",a);this._started&&this._setLayoutMethod()},_setShowCloseAttr:function(a){console.warn("WARN: "+this.declaredClass+" - Close buttons not supported on flyouts",this)},_setCloseOnBlurAttr:function(a){this._set("closeOnBlur",!0===
a)},_setKeepWithinAttr:function(a){this._set("keepWithin",a);this._started&&this._setLayoutMethod()},_getContentAttr:function(){var a=k("\x3e *:first-child",this.containerNode);if(0<a.length){var b=p.byNode(a[0]);return b?b:a[0]}return null},_getTitleAttr:function(){return this.title},_getShownAttr:function(){return!c.contains(this.domNode,"hidden")},_getHasScrollAttr:function(){return this._hasScroll},_getCurrentScrollAttr:function(){return this.containerNode.scrollTop},_getContainerPositionAttr:function(){return f.position(this.containerNode)},
show:function(){this._started||this.startup();this.group&&w.GROUPS[this.group]&&e.forEach(w.GROUPS[this.group],function(a){this!==a&&a.get("shown")&&a.hide()},this);this.closeOnBlur&&this._attachCloseOnBlurEvents();c.add(this.domNode,"positioning");c.remove(this.domNode,"hidden");this._doLayout();c.remove(this.domNode,"positioning");this.onShow()},hide:function(){this._detachEvents();c.add(this.domNode,"hidden");this._removeScroll();this.onHide(this)},isShown:function(){console.warn("DEPRECATED: "+
this.declaredClass+".isShown()",this);return this.get("shown")},_bindEvents:function(){this.connect(this.domNode,"onmouseenter","_onMouseEnter");this.connect(this.domNode,"onmouseleave","_onMouseLeave");this.showClose&&(this.connect(this.closeNode,"onclick","_onCloseClick"),this.connect(this.closeNode,"onmouseenter","_onCloseMouseEnter"),this.connect(this.closeNode,"onmouseleave","_onCloseMouseLeave"),this.connect(this.closeNode,"onmousedown","_onCloseMouseDown"),this.connect(this.closeNode,"onmouseup",
"_onCloseMouseUp"))},_detachEvents:function(){this._detachCloseOnBlurEvents()},_onMouseEnter:function(){},_onMouseLeave:function(){},_onCloseClick:function(){this.hide()},_onCloseMouseEnter:function(){c.add(this.closeNode,"hover")},_onCloseMouseLeave:function(){c.remove(this.closeNode,"hover");c.remove(this.closeNode,"down")},_onCloseMouseDown:function(){c.add(this.closeNode,"down")},_onCloseMouseUp:function(){c.remove(this.closeNode,"down")},_attachCloseOnBlurEvents:function(){setTimeout(b.hitch(this,
function(){this._onBlurConnects||(this._onBlurConnects=[]);this._onBlurConnects.push(this.connect(document,"onclick",this._windowOnClick));this._onBlurConnects.push(this.connect(document,"onkeypress",this._windowOnKeyPress))}),100)},_detachCloseOnBlurEvents:function(){this._onBlurConnects&&(e.forEach(this._onBlurConnects,function(a){this.disconnect(a)},this),this._onBlurConnects=[])},_windowOnClick:function(a){for(a=a.target;null!=a&&"BODY"!=a.tagName;a=a.parentNode)if(c.contains(a,"Flyout"))return;
this.hide()},_windowOnKeyPress:function(a){l.ESCAPE==a.keyCode&&this.hide()},_setLayoutMethod:function(){var a=this._possiblePositions[0];-1===e.indexOf(this._possiblePositions,this.position)&&this._set("position",a);var b=this._possibleAlignments[0];-1===e.indexOf(this._possibleAlignments,this.alignment)&&this._set("alignment",b);var c=!1;switch(this.position){case "above":case "below":switch(this.alignment){case "center":this._layoutMethod="js";break;case "left":case "right":this._layoutMethod=
"css";break;case "above":case "below":c=!0}break;case "left":case "right":switch(this.alignment){case "center":this._layoutMethod="js";break;case "left":case "right":c=!0;break;case "above":case "below":this._layoutMethod="css"}}c&&(console.warn("WARN: "+this.declaredClass+' - Incompatible Layout Parameters, "Position: '+this.position+'" cannot be used with "Alignment: '+this.alignment+'", using defaults',this),this._set("alignment",b),this._set("position",a));"js"!==this._layoutMethod&&this.keepWithin&&
(console.warn("WARN: "+this.declaredClass+" - keepWithin can only be used with Javascript positioned layout parameters, setting to false",this),this._set("keepWithin",!1))},_clearLayout:function(){d.set(this.flyoutNode,{top:"",right:"",bottom:"",left:""});e.forEach(this._possiblePositions,function(a){c.remove(this.domNode,"position-"+a)},this);e.forEach(this._possibleAlignments,function(a){c.remove(this.domNode,"alignment-"+a)},this)},_doLayout:function(){this._clearLayout();c.add(this.domNode,"position-"+
this.position);c.add(this.domNode,"alignment-"+this.alignment);this.relativeTo&&this._calculateRelativePosition();var a=f.getMarginBox(this.flyoutNode);if(0<a.w){var b=f.position(this.domNode,!0);if("js"===this._layoutMethod){if(this.keepWithin)var e=f.getContentBox(this.keepWithin),g=f.position(this.keepWithin,!0);switch(this.position){case "above":case "below":switch(this.alignment){case "center":var k=-1*(a.w/2);if(this.keepWithin){var h=b.x+a.w/2,l=b.x-a.w/2,p=g.x,e=g.x+e.w,g=h>e+this.maxOverflow,
n=l<p-this.maxOverflow;if((g||n)&&(!g||!n))g&&(k=k-(h-e)+this.maxOverflow),n&&(k=k-(l-p)-this.maxOverflow)}d.set(this.flyoutNode,"left",k+"px")}break;case "left":case "right":switch(this.alignment){case "center":d.set(this.flyoutNode,"top",-1*(a.h/2)+"px")}}}this.scrollOnOverflow&&(k=m.getBox(),b=k.h+k.t-b.y,b<a.h?(d.set(this.containerNode,"height",Math.floor(b)-20+"px"),c.add(this.domNode,"scrollable"),this.maxHeight&&d.set(this.containerNode,"max-height",this.maxHeight+"px"),this._hasScroll=!0):
(this._removeScroll(),this._hasScroll=!1))}},_calculateRelativePosition:function(){var a=f.getContentBox(this.relativeTo);if(this.relativeTo.offsetParent){var b=this.relativeTo.offsetTop,c=this.relativeTo.offsetLeft;if("above"===this.position||"below"===this.position)d.set(this.domNode,{position:"absolute",top:b+("below"===this.position?a.h:0)+"px",left:c+Math.floor(a.w/2)+"px"});else if("left"===this.position||"right"===this.position)d.set(this.domNode,{position:"absolute",top:b+Math.floor(a.h/2)+
"px",left:c+("right"===this.position?a.w:0)+"px"})}else throw"In order for Flyouts to work properly, the relativeTo node must have an ancestor that is position:relative";},_removeScroll:function(){c.remove(this.domNode,"scrollable");d.set(this.containerNode,{height:"auto","max-height":""})},scrollTo:function(a){this.containerNode.scrollTop=a}});w.GROUPS=[];return w})},"url:redfin/widget/templates/Button.html":'\x3ca class\x3d"Button ${buttonType} ${size} inline-block basic-border-radius ${class}" tabindex\x3d"${tabindex}" style\x3d"${style}" data-dojo-attach-point\x3d"buttonNode" data-dojo-attach-event\x3d"onclick:_onClick"\x3e\t\n\t\x3cdiv style\x3d"position:absolute; z-index:-50; top:0px; width:20px; height:20px; visibility: hidden;" data-dojo-attach-point\x3d"hiddenSubmitInput"\x3e\t\n\t\t\x3c!-- \n\t\t\twe need to have an invisible submit button for IE to submit on enter correctly\n\t\t\thowever, we can\'t use display:none or visibility hidden, position:absolute on the input \n\t\t\talso dose not seem to work correctly, so we have to be tricky to make this not visible\n\t\t --\x3e\n\t\t\x3cinput type\x3d"submit" style\x3d"z-index:-10; border: none; width:0px; height:0px; position:relative; height:7px;" value\x3d"i"\x3e\x3c/div\x3e\n\t\x3cspan data-dojo-attach-point\x3d"labelNode"\x3e${label}\x3c/span\x3e\n\x3c/a\x3e',
"redfin/search/util/StringUtil":function(){define(["dojo/_base/lang"],function(h){var b={quote:function(b){return"undefined"!==typeof b||null!==b?'"'+b+'"':""},defaultValue:function(b,a){return"undefined"===typeof b||null===b||""===b?a:b},dash:function(b){return redfin.util.string.defaultValue(b,"\x26mdash;")},truncate:function(b,a,c){"undefined"==typeof a&&(a=12);"undefined"==typeof c&&(c="...");return null===b||void 0===b||null===b.length||void 0===b.length?null:b.length<=a?b:b.substr(0,a)+c},capitalize:function(b){b=
b.split(" ");for(var a=[],c=0;c<b.length;++c)a.push(redfin.util.string.capitalizeFirst(b[c]));return a.join(" ")},capitalizeFirst:function(b){return b&&0<b.length?b.charAt(0).toUpperCase()+b.slice(1).toLowerCase():b}};h.mixin(h.getObject("redfin.util.string",!0),b);return b})},"redfin/common/google_analytics":function(){define("redfin/common/google_analytics",["dijit","dojo","dojox"],function(h,b,e){b.provide("redfin.common.google_analytics");b.declare("redfin.common.GoogleAnalytics",null,{withPageTrackerQueue:function(){var a=
new b.Deferred;this._withPageTrackerQueueInternal(a);return a},_withPageTrackerQueueInternal:function(a){"undefined"==typeof b.global._gaq||!b.global.g_gaReady?setTimeout(b.hitch(this,this._withPageTrackerQueueInternal,a),500):a.callback(b.global._gaq)},trackEvent:function(a,c){try{this.withPageTrackerQueue().addCallback(b.hitch(this,function(b){try{b.push(["_trackPageview",redfin.common.GoogleAnalytics.EVENT_PREFIX+a+"?"+redfin.util.NameValue.hashToNameValueString(c,"\x26","\x3d",encodeURIComponent,
!1)])}catch(d){console.error("Error in redfin.common.GoogleAnalytics.trackEvent",d)}}))}catch(d){console.error("Error in redfin.common.GoogleAnalytics.trackEvent",d)}}});b.mixin(redfin.common.GoogleAnalytics,{EVENT_PREFIX:"/event_"})})},"redfin/common/page_analytics":function(){define("redfin/common/page_analytics",["dijit","dojo","dojox"],function(h,b,e){b.provide("redfin.common.page_analytics");b.declare("redfin.common.PageAnalytics",null,{_isHashChange:!1,setIsHashChange:function(a){this._isHashChange=
a},_strVirtualPageView:null,setVirtualPageView:function(a){this._strVirtualPageView=a},trackPageAnalyticsRequest:function(){var a={};a.path=window.location.pathname;a.sr=window.screen.width+"x"+window.screen.height;var c;"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?c=document.documentElement.offsetWidth+"x"+document.documentElement.offsetHeight:window.innerWidth&&window.innerHeight&&(c=window.innerWidth+"x"+window.innerHeight);a.vp=c;window.location.search&&
(a.querystring=window.location.search);window.location.hash&&(a.hash=window.location.hash.replace(/^.*#/,""));this._isHashChange&&(a.isHashChange=this._isHashChange);this._strVirtualPageView&&(a.virt_page_view=this._strVirtualPageView);a.referrer=document.referrer;a="/stingray/page-analytics.jsp?"+b.objectToQuery(a);b.xhrGet({url:a})}})})},"url:dojox/date/zoneinfo/backward":"Link\tAfrica/Asmara\t\tAfrica/Asmera\nLink\tAfrica/Bamako\t\tAfrica/Timbuktu\nLink\tAmerica/Argentina/Catamarca\tAmerica/Argentina/ComodRivadavia\nLink\tAmerica/Adak\t\tAmerica/Atka\nLink\tAmerica/Argentina/Buenos_Aires\tAmerica/Buenos_Aires\nLink\tAmerica/Argentina/Catamarca\tAmerica/Catamarca\nLink\tAmerica/Atikokan\tAmerica/Coral_Harbour\nLink\tAmerica/Argentina/Cordoba\tAmerica/Cordoba\nLink\tAmerica/Tijuana\t\tAmerica/Ensenada\nLink\tAmerica/Indiana/Indianapolis\tAmerica/Fort_Wayne\nLink\tAmerica/Indiana/Indianapolis\tAmerica/Indianapolis\nLink\tAmerica/Argentina/Jujuy\tAmerica/Jujuy\nLink\tAmerica/Indiana/Knox\tAmerica/Knox_IN\nLink\tAmerica/Kentucky/Louisville\tAmerica/Louisville\nLink\tAmerica/Argentina/Mendoza\tAmerica/Mendoza\nLink\tAmerica/Rio_Branco\tAmerica/Porto_Acre\nLink\tAmerica/Argentina/Cordoba\tAmerica/Rosario\nLink\tAmerica/St_Thomas\tAmerica/Virgin\nLink\tAsia/Ashgabat\t\tAsia/Ashkhabad\nLink\tAsia/Chongqing\t\tAsia/Chungking\nLink\tAsia/Dhaka\t\tAsia/Dacca\nLink\tAsia/Kathmandu\t\tAsia/Katmandu\nLink\tAsia/Kolkata\t\tAsia/Calcutta\nLink\tAsia/Macau\t\tAsia/Macao\nLink\tAsia/Jerusalem\t\tAsia/Tel_Aviv\nLink\tAsia/Ho_Chi_Minh\tAsia/Saigon\nLink\tAsia/Thimphu\t\tAsia/Thimbu\nLink\tAsia/Makassar\t\tAsia/Ujung_Pandang\nLink\tAsia/Ulaanbaatar\tAsia/Ulan_Bator\nLink\tAtlantic/Faroe\t\tAtlantic/Faeroe\nLink\tEurope/Oslo\t\tAtlantic/Jan_Mayen\nLink\tAustralia/Sydney\tAustralia/ACT\nLink\tAustralia/Sydney\tAustralia/Canberra\nLink\tAustralia/Lord_Howe\tAustralia/LHI\nLink\tAustralia/Sydney\tAustralia/NSW\nLink\tAustralia/Darwin\tAustralia/North\nLink\tAustralia/Brisbane\tAustralia/Queensland\nLink\tAustralia/Adelaide\tAustralia/South\nLink\tAustralia/Hobart\tAustralia/Tasmania\nLink\tAustralia/Melbourne\tAustralia/Victoria\nLink\tAustralia/Perth\t\tAustralia/West\nLink\tAustralia/Broken_Hill\tAustralia/Yancowinna\nLink\tAmerica/Rio_Branco\tBrazil/Acre\nLink\tAmerica/Noronha\t\tBrazil/DeNoronha\nLink\tAmerica/Sao_Paulo\tBrazil/East\nLink\tAmerica/Manaus\t\tBrazil/West\nLink\tAmerica/Halifax\t\tCanada/Atlantic\nLink\tAmerica/Winnipeg\tCanada/Central\nLink\tAmerica/Regina\t\tCanada/East-Saskatchewan\nLink\tAmerica/Toronto\t\tCanada/Eastern\nLink\tAmerica/Edmonton\tCanada/Mountain\nLink\tAmerica/St_Johns\tCanada/Newfoundland\nLink\tAmerica/Vancouver\tCanada/Pacific\nLink\tAmerica/Regina\t\tCanada/Saskatchewan\nLink\tAmerica/Whitehorse\tCanada/Yukon\nLink\tAmerica/Santiago\tChile/Continental\nLink\tPacific/Easter\t\tChile/EasterIsland\nLink\tAmerica/Havana\t\tCuba\nLink\tAfrica/Cairo\t\tEgypt\nLink\tEurope/Dublin\t\tEire\nLink\tEurope/London\t\tEurope/Belfast\nLink\tEurope/Chisinau\t\tEurope/Tiraspol\nLink\tEurope/London\t\tGB\nLink\tEurope/London\t\tGB-Eire\nLink\tEtc/GMT\t\t\tGMT+0\nLink\tEtc/GMT\t\t\tGMT-0\nLink\tEtc/GMT\t\t\tGMT0\nLink\tEtc/GMT\t\t\tGreenwich\nLink\tAsia/Hong_Kong\t\tHongkong\nLink\tAtlantic/Reykjavik\tIceland\nLink\tAsia/Tehran\t\tIran\nLink\tAsia/Jerusalem\t\tIsrael\nLink\tAmerica/Jamaica\t\tJamaica\nLink\tAsia/Tokyo\t\tJapan\nLink\tPacific/Kwajalein\tKwajalein\nLink\tAfrica/Tripoli\t\tLibya\nLink\tAmerica/Tijuana\t\tMexico/BajaNorte\nLink\tAmerica/Mazatlan\tMexico/BajaSur\nLink\tAmerica/Mexico_City\tMexico/General\nLink\tPacific/Auckland\tNZ\nLink\tPacific/Chatham\t\tNZ-CHAT\nLink\tAmerica/Denver\t\tNavajo\nLink\tAsia/Shanghai\t\tPRC\nLink\tPacific/Pago_Pago\tPacific/Samoa\nLink\tPacific/Truk\t\tPacific/Yap\nLink\tEurope/Warsaw\t\tPoland\nLink\tEurope/Lisbon\t\tPortugal\nLink\tAsia/Taipei\t\tROC\nLink\tAsia/Seoul\t\tROK\nLink\tAsia/Singapore\t\tSingapore\nLink\tEurope/Istanbul\t\tTurkey\nLink\tEtc/UCT\t\t\tUCT\nLink\tAmerica/Anchorage\tUS/Alaska\nLink\tAmerica/Adak\t\tUS/Aleutian\nLink\tAmerica/Phoenix\t\tUS/Arizona\nLink\tAmerica/Chicago\t\tUS/Central\nLink\tAmerica/Indiana/Indianapolis\tUS/East-Indiana\nLink\tAmerica/New_York\tUS/Eastern\nLink\tPacific/Honolulu\tUS/Hawaii\nLink\tAmerica/Indiana/Knox\tUS/Indiana-Starke\nLink\tAmerica/Detroit\t\tUS/Michigan\nLink\tAmerica/Denver\t\tUS/Mountain\nLink\tAmerica/Los_Angeles\tUS/Pacific\nLink\tPacific/Pago_Pago\tUS/Samoa\nLink\tEtc/UTC\t\t\tUTC\nLink\tEtc/UTC\t\t\tUniversal\nLink\tEurope/Moscow\t\tW-SU\nLink\tEtc/UTC\t\t\tZulu\n",
"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./ready","./sniff","./_base/window"],function(h,b,e,a,c){var d=c.doc.documentElement,g=a("ie"),f=a("opera"),k=Math.floor,l=a("ff");c=h.boxModel.replace(/-/,"");g={dj_ie:g,dj_ie6:6==k(g),dj_ie7:7==k(g),dj_ie8:8==k(g),dj_ie9:9==k(g),dj_quirks:a("quirks"),dj_iequirks:g&&a("quirks"),dj_opera:f,dj_khtml:a("khtml"),dj_webkit:a("webkit"),dj_safari:a("safari"),dj_chrome:a("chrome"),dj_gecko:a("mozilla"),dj_ff3:3==k(l)};g["dj_"+c]=!0;var m="",
p;for(p in g)g[p]&&(m+=p+" ");d.className=b.trim(d.className+" "+m);e(90,function(){if(!h.isBodyLtr()){var a="dj_rtl dijitRtl "+m.replace(/ /g,"-rtl ");d.className=b.trim(d.className+" "+a+"dj_rtl dijitRtl "+m.replace(/ /g,"-rtl "))}});return a})},"dijit/form/nls/validate":function(){define("dijit/form/nls/validate",{root:{invalidMessage:"The value entered is not valid.",missingMessage:"This value is required.",rangeMessage:"This value is out of range."},zh:!0,"zh-tw":!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,
ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,hu:!0,hr:!0,he:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,cs:!0,ca:!0,az:!0,ar:!0})},"redfin/common/util/strings":function(){define("dojo/_base/lang dojo/string dojo/number dojo/dom dojo/date/stamp dojo/date/locale dojox/html/entities".split(" "),function(h,b,e,a,c,d,g){var f={truncate:function(a,b){return a.length>b?h.trim(a.substr(0,b-1))+"\x26hellip;":a},capitalizeFirst:function(a){return null==a?null:a.charAt(0).toUpperCase()+
a.slice(1)},formatDateTiny:function(a,b){return this.formatDate(a,b,"M/d/yy",null,"date")},formatDateShort:function(a,b){if(void 0===a||null===a)return"";if("number"==typeof a||"object"==typeof a||"string"==typeof a){var d=a;a=new Date(a);isNaN(a)&&(a=c.fromISOString(d))}return(new Date).getFullYear()==a.getFullYear()?this.formatDate(a,b,"MMM d",null,"date"):this.formatDate(a,b,"MMM d, yyyy",null,"date")},formatDateStandard:function(a,b){return this.formatDate(a,b,"MMM d, yyyy",null,"date")},formatDateFull:function(a,
b){return this.formatDate(a,b,"EEE, MMM d, yyyy",null,"date")},formatTimeStandard:function(a,b){return this.formatDate(a,b,null,"h:mma","time")},formatTimeFull:function(a,b){return this.formatDate(a,b,null,"h:mm a z","time")},formatDateTimeShort:function(a,b){return this.formatDateTiny(a,b)+" "+this.formatTimeFull(a,b)},formatDateTimeStandard:function(a,b){return this.formatDate(a,b,"MMM d, yyyy","h:mm a","date and time")},formatDateTimeFull:function(a,b){return this.formatDate(a,b,"EEE, MMM d, yyyy",
"h:mm a z","date and time")},formatDateTimeISO:function(a,b){if(a){var c=this.formatDate(a,b,"yyyy-MM-dd",null,"date"),d=this.formatDate(a,b,null,"HH:mm","time");return c+"T"+d}return null},formatDateISO:function(a,b){return a?this.formatDate(a,b,"yyyy-MM-dd",null,"date"):null},formatDate:function(a,b,c,e,f){if(void 0===a||null===a)return"";if("number"==typeof a||"object"==typeof a||"string"==typeof a)a=new Date(a);b||(b="US/Pacific");c||(c="EEE, MMM d, yyyy");e||(e="h:mm a z");f||(f="date and time");
return 0>a.getTime()||2038<=a.getFullYear()?d.format(a,{datePattern:c,timePattern:e,selector:f}):d.format(a,{timezone:b,datePattern:c,timePattern:e,selector:f})},formatDateInTermsOfNow:function(a,b,c,d,e){c=!!c;d=!!d;var f=a.getFullYear(),g=a.getMonth(),h=a.getDate(),u=a.getMinutes(),w=b.getHours()-a.getHours();0>w&&(w=24+w);a="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");if(b.getMonth()!=g||b.getDate()!=h||12<w){c="";!1!==e&&(c+="on ");c+=a[g]+" "+h;if(b.getFullYear()!=f||d)c+=", "+
f;return c}if(1<=w&&!(1==w&&b.getMinutes()<u))return w+(1==w?" hour ago":" hours ago");b=b.getMinutes()-u;0>b&&(b=60+b);return 1>b&&c?"Just now":1===b?"1 minute ago":b+" minutes ago"},formatDateInTermsOfNowLongTerm:function(a,b){var c="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),d=b.getTime()-a.getTime();if(0>d)return"On "+c[a.getMonth()]+" "+a.getDate();c=d/6E4;if(60>c)return Math.floor(c)+(1==Math.floor(c)?" minute":" minutes")+" ago";c=d/36E5;if(24>c)return Math.floor(c)+(1==Math.floor(c)?
" hour":" hours")+" ago";c=d/864E5;if(61>c)return Math.floor(c)+(1==Math.floor(c)?" day":" days")+" ago";d/=2592E6;return Math.floor(d)+(1==Math.floor(d)?" month":" months")+" ago"},formatDateInTermsOfNowFuture:function(a,b){var c="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),d=a.getTime()-b.getTime();if(0>d)return"on "+c[a.getMonth()]+" "+a.getDate();c=d/6E4;if(60>c)return"in "+Math.floor(c)+(1==Math.floor(c)?" minute":" minutes");c=d/36E5;if(24>c)return"in "+Math.floor(c)+(1==Math.floor(c)?
" hour":" hours");c=d/864E5;if(61>c)return"in "+Math.floor(c)+(1==Math.floor(c)?" day":" days");d/=2592E6;return"in "+Math.floor(d)+(1==Math.floor(d)?" month":" months")},formatPlural:function(a,b,c){a=1!=b?null!==a.match(/y$/)?"property".replace(/y$/,"ies"):a+"s":a;prefix=c&&!b?c:b;return prefix+" "+a},safeDisplay:function(a){return a?g.encode(a):""},htmlLineBreaks:function(a){return a.replace(/\n/gm,"\x3cbr\x3e\n")},htmlLineBreaksWithoutNewlines:function(a){return a.replace(/\n/gm,"\x3cbr /\x3e")},
formatPhoneNumber:function(a,b){if(!a)return a;a=a.replace(/[^\d]/g,"");a=a.replace(/1?(\d{3})(\d{3})(\d{4})(\d*)/,"$1-$2-$3 x$4");a.match(/[\d-] x$/)&&(a=a.substring(0,a.indexOf(" x")));return a},formatPrice:function(a,b){if(isNaN(a)||0!==a&&!a)return"";var c=isNaN(b)?0:Math.abs(b);return(0>a?"-":"")+"$"+e.format(Math.abs(a),{places:c})},formatPercent:function(a,b){"undefined"===typeof b&&(b=1);return-1!=a?this.formatNumber(100*a,b)+"%":"N/A"},formatNumber:function(a,b){return null==a?"":e.format(a,
{places:b||0})},join:function(a,b){"undefined"===typeof b&&(b=", ");for(var c="",d=0;d<a.length;d++){var e=a[d];null!==e&&e.length&&(c+=e,d!=a.length-1&&(c+=b))}return c},formatPriceSmall:function(a,b){return 1E6<=Math.abs(a)?this.formatPrice(a/1E6,2)+"M":Math.abs(a)>=(void 0!==b?b:1E5)?this.formatPrice(Math.round(a/1E3),0)+"K":this.formatPrice(a,0)},formatPriceInK:function(a){return 1E3<=Math.abs(a)?this.formatPrice(Math.round(a/1E3),0)+"K":this.formatPrice(a,0)},getCleanCMS:function(b,c){var d=
"";if(b&&0<b.length){var e=a.byId(b);e&&(d=e.innerHTML||"")}if(0===d.length||0<=d.indexOf("cms-nocontent"))d=c;return d},getNumberStringOrNumeric:function(a,b){var c="";if(9<a)return a;0===a?c="Zero":1==a?c="One":2==a?c="Two":3==a?c="Three":4==a?c="Four":5==a?c="Five":6==a?c="Six":7==a?c="Seven":8==a?c="Eight":9==a&&(c="Nine");if(c)return b&&(c=c.charAt(0).toLowerCase()+c.slice(1)),c},formatLotSize:function(a,b){var c,d;if(0===a)return"-";10890>a?(c=e.format(a,{places:0}),d=b?" SF":" Sq. Ft."):(d=
a/43560,c=e.format(d,{places:2}),d=b?" A":1==d?" Acre":" Acres");return c+d},search:function(a,b,c){c="number"===typeof c&&0<=c?c:0;a=a.substring(c).search(b);return 0>a?a:a+c},replaceUrls:function(a){var b;b=RegExp("(^|\\s)(((?:http://|https://|ftp://|mailto:(?:[\\-;:\x26\x3d\\+\\$,\\w\\.]+@))[A-Za-z0-9\\.\\-]+\\.(?:com|net|org|edu|gov|mil|[A-Za-z]{2}(?\x3d\\s|/|\\?|#|$)))((?:/[\\+~%/\\.\\w\\-_]*|/?)?(?:\\?(?:[\\-\\+\x3d\x26;%@\\.\\w_]*)|\\??)?(?:#(?:[\\.\\!/\\\\\\w]*)|#?)?)?)","gi");a=a.replace(b,
'$1\x3ca href\x3d"$2" target\x3d_blank\x3e$2\x3c/a\x3e');b=RegExp("(^|\\s)(((?:[A-Za-z0-9\\-\\.]+)\\.(?:com|net|org|edu|gov|mil|[A-Za-z]{2}(?\x3d\\s|/|\\?|#|$)))((?:/[\\+~%/\\.\\w\\-_]*|/?)?(?:\\?(?:[\\-\\+\x3d\x26;%@\\.\\w_]*)|\\??)?(?:#(?:[\\.\\!/\\\\\\w]*)|#?)?)?)","gi");return a=a.replace(b,'$1\x3ca href\x3d"http://$2" target\x3d_blank\x3e$2\x3c/a\x3e')},createClassName:function(a){a=a.replace(/[\.,-\/#!$%\^&\*;:{}=\-_`~()\[\]\\]/g,"");a=b.trim(a);a=a.split(/\s+/);for(var c="",d=0;d<a.length;d++)a[d]=
0==d?a[d].charAt(0).toLowerCase()+a[d].slice(1):a[d].charAt(0).toUpperCase()+a[d].slice(1),c+=a[d];return c}};h.setObject("redfin.strings",f);return f})},"redfin/search/map/MapAjaxLoader":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/has dojo/request dojo/request/xhr redfin/common/util redfin/search/map/util redfin/search/util/NameValueUtil redfin/search/service_endpoints redfin/search/map/PerformanceTiming".split(" "),function(h,b,e,a,c,d,g,f,k,l,m){h=b("redfin.search.map.MapAjaxLoader",
null,{searchTimeoutSecs:20,constructor:function(a){e.mixin(this,a)},searchByUrl:function(a){if(a=this.setupCachedRequest(redfin.search.map.MapAjaxLoader.PROACTIVE_SEARCH_CACHE_NAME,a))return a.deferred.then(e.hitch(this,this.onPreloadGisSearch),e.hitch(this,this.onPreloadGisSearchError)),m.startPerformanceTiming(m.GIS_SEARCH_TIMING_NAME),a.deferred},getSearch:function(a){if(a=this.doGetOrUseCache(redfin.search.map.MapAjaxLoader.PROACTIVE_SEARCH_CACHE_NAME,a))return a.wasCached||m.startPerformanceTiming(m.GIS_SEARCH_TIMING_NAME),
a.deferred},searchByLocation:function(a,b){var c=this.setupCachedRequest(redfin.search.map.MapAjaxLoader.PROACTIVE_LOCATION_SEARCH_CACHE_NAME,a);if(c)return c.location=b,c.deferred.then(e.hitch(this,this.onPreloadLocationSearch),e.hitch(this,this.onPreloadLocationSearchError)),m.startPerformanceTiming(m.LOCATION_SEARCH_TIMING_NAME),c.deferred},getByLocation:function(a,b){var c=this.doGetOrUseCache(redfin.search.map.MapAjaxLoader.PROACTIVE_LOCATION_SEARCH_CACHE_NAME,a,function(a){return a.location==
b});if(c)return c.wasCached||m.startPerformanceTiming(m.LOCATION_SEARCH_TIMING_NAME),c.deferred},searchByRegion:function(a,b){var c=this.setupCachedRequest(redfin.search.map.MapAjaxLoader.PROACTIVE_REGION_ID_SEARCH_CACHE_NAME,a);if(c)return c.tableId=b.tableId,c.regionType=b.regionType,c.deferred},getByRegion:function(a,b){var c=this.doGetOrUseCache(redfin.search.map.MapAjaxLoader.PROACTIVE_REGION_ID_SEARCH_CACHE_NAME,a,function(a){return a.tableId!=b.tableId||a.regionType!=b.regionType?!1:!0});if(c)return c.deferred},
searchPersonalization:function(){var a=this.setupCachedRequest(redfin.search.map.MapAjaxLoader.PERSONALIZATION_CACHE_NAME,redfin.serviceEndpoints.gisSearchPersonalization);if(a)return a.deferred},getPersonalization:function(){var a=this.doGetOrUseCache(redfin.search.map.MapAjaxLoader.PERSONALIZATION_CACHE_NAME,redfin.serviceEndpoints.gisSearchPersonalization);if(a)return a.deferred},search:function(a,b){return this.load(a,b)},load:function(a,b){var c={handleAs:"json",timeout:1E3*this.searchTimeoutSecs,
failOk:!0},c=e.mixin(c,b);return d.get(a,c)},setupCachedRequest:function(a,b){var d=e.getObject(a,!0);if(d.defunct)return null;d.url=b;d.defunct=!1;d.status=redfin.search.map.MapAjaxLoader.STATUS_IN_PROGRESS;d.startTime=(new Date).getTime();d.deferred=c.get(b,{handleAs:"json",timeout:1E3*this.searchTimeoutSecs,failOk:!0});return d},onPreloadGisSearch:function(a){this.onPreloadSearchHelper(a,redfin.search.map.MapAjaxLoader.PROACTIVE_SEARCH_CACHE_NAME,m.GIS_SEARCH_TIMING_NAME)},onPreloadGisSearchError:function(a,
b){this.onPreloadSearchErrorHelper(a,b,redfin.search.map.MapAjaxLoader.PROACTIVE_SEARCH_CACHE_NAME,m.GIS_SEARCH_TIMING_NAME)},onPreloadLocationSearch:function(a){this.onPreloadSearchHelper(a,redfin.search.map.MapAjaxLoader.PROACTIVE_LOCATION_SEARCH_CACHE_NAME,m.LOCATION_SEARCH_TIMING_NAME)},onPreloadLocationSearchError:function(a,b){this.onPreloadSearchErrorHelper(a,b,redfin.search.map.MapAjaxLoader.PROACTIVE_LOCATION_SEARCH_CACHE_NAME,m.LOCATION_SEARCH_TIMING_NAME)},onPreloadSearchHelper:function(a,
b,c){if((a=e.getObject(b,!1))&&!a.defunct)a.status=redfin.search.map.MapAjaxLoader.STATUS_DONE;m.endPerformanceTiming(c)},onPreloadSearchErrorHelper:function(a,b,c){if((b=e.getObject(c,!1))&&!b.defunct)b.status=a&&a.dojoType&&"timeout"==a.dojoType?redfin.search.map.MapAjaxLoader.STATUS_TIMEOUT:redfin.search.map.MapAjaxLoader.STATUS_ERROR},_get:function(a,b){return dojo.getObject(a,!1)?this.doGetOrUseCache(a,b):this.setupCachedRequest(a,b)},doGetOrUseCache:function(a,b,c){var d=dojo.getObject(a,!1);
a=null;var e=!1;if(d&&!d.defunct){if(redfin.search.map.MapAjaxLoader.STATUS_IN_PROGRESS==d.status||redfin.search.map.MapAjaxLoader.STATUS_DONE==d.status){var f=(new Date).getTime()-d.startTime<redfin.search.map.MapAjaxLoader.CACHE_EXPIRE_TIME;c||(c=function(a){return d.url==b});f&&c(d)&&(a=d.deferred,e=!0,shouldStartRequest=!1)}e||(d.defunct=!0,d.deferred=null,d.location=null,d.url=null,d.status=null)}e||(a=dojo.xhrGet({url:b,handleAs:"json",timeout:1E3*this.searchTimeoutSecs,failOk:!0}));return{deferred:a,
wasCached:e}}});e.mixin(redfin.search.map.MapAjaxLoader,{PROACTIVE_SEARCH_CACHE_NAME:"redfin.search.g_proactiveSearchReq",PROACTIVE_LOCATION_SEARCH_CACHE_NAME:"redfin.search.g_proactiveLocationSearchReq",PERSONALIZATION_CACHE_NAME:"redfin.search.g_PersonalizationSearchReq",PROACTIVE_REGION_ID_SEARCH_CACHE_NAME:"redfin.search.g_proactiveRegionIdReq",CACHE_EXPIRE_TIME:9E5,STATUS_NONE:1,STATUS_IN_PROGRESS:2,STATUS_DONE:3,STATUS_ERROR:4,STATUS_TIMEOUT:5});return h})},"redfin/search/common/widgets/footer/Footer":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/cookie dojo/dom-class dojo/text!./templates/Footer.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container".split(" "),
function(h,b,e,a,c,d,g,f,k){return h([g,f,k],{templateString:d,mobilized:!0,copyrightYear:(new Date).getFullYear(),switchSiteText:"",postMixInProperties:function(){this.inherited(arguments);this.switchSiteText=a("RF_FORCE_DESKTOP")?"View Mobile Site":"View Desktop Site"},_setMobilizedAttr:function(a){c.toggle(this.switchSiteContainer,"hidden",!a);this._set("mobilized",a)},postCreate:function(){this.inherited(arguments);this.own(e(this.switchSiteNode,"click",b.hitch(this,this.switchSite)))},switchSite:function(){a("RF_FORCE_DESKTOP")?
(a("RF_FORCE_DESKTOP",null,{expires:-1}),dojo.global._gaq&&dojo.global._gaq.push(["_trackEvent","ResponsiveSite","ViewMobileSite",null,null])):(a("RF_FORCE_DESKTOP","true"),dojo.global._gaq&&dojo.global._gaq.push(["_trackEvent","ResponsiveSite","ViewDesktopSite",null,null]));window.setTimeout(function(){window.location.reload()},100)}})})},"url:redfin/common/elements/templates/Flyout.html":"\x3cdiv class\x3d'Flyout hidden'\x3e\n\t\x3cdiv class\x3d'flyout' dojoAttachPoint\x3d'flyoutNode'\x3e\n\t\t\x3cdiv class\x3d'header hidden' dojoAttachPoint\x3d'headerNode'\x3e\n\t\t\t\x3cspan class\x3d'title' dojoAttachPoint\x3d'_titleNode'\x3e\x3c/span\x3e\n\t\t\t\x3cspan class\x3d'close' dojoAttachPoint\x3d'closeNode'\x3e\x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d'container' dojoAttachPoint\x3d'containerNode'\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d'arrow'\x3e\x26nbsp;\x3c/div\x3e\n\x3c/div\x3e\n",
"dijit/form/_FormWidget":function(){define("dijit/form/_FormWidget","dojo/_base/declare dojo/has dojo/_base/kernel dojo/ready ../_Widget ../_CssStateMixin ../_TemplatedMixin ./_FormWidgetMixin".split(" "),function(h,b,e,a,c,d,g,f){b("dijit-legacy-requires")&&a(0,function(){require(["dijit/form/_FormValueWidget"])});return h("dijit.form._FormWidget",[c,g,d,f],{setDisabled:function(a){e.deprecated("setDisabled("+a+") is deprecated. Use set('disabled',"+a+") instead.","","2.0");this.set("disabled",a)},
setValue:function(a){e.deprecated("dijit.form._FormWidget:setValue("+a+") is deprecated.  Use set('value',"+a+") instead.","","2.0");this.set("value",a)},getValue:function(){e.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=this.name?'name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"";this.inherited(arguments)},_setTypeAttr:null})})},"redfin/homepage/widgets/SearchItem":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/SearchItem.html dojo/dom-class dojo/dom-attr dojo/_base/lang dojo/request dojo/topic dojo/on dojo/_base/event redfin/common/data/SavedSearch".split(" "),
function(h,b,e,a,c,d,g,f,k,l,m,p,n,q){return h("redfin.homepage.widgets.SearchItem",[b,e,a],{templateString:c,searchName:null,searchUrl:null,searchId:null,emailFrequency:null,errorMessageNode:null,GAEvent:!1,eventValue:null,UPDATE_SAVED_SEARCH_FREQ_URL:g_webServerUrl+"/stingray/do/api-change-save-search-frequency",postCreate:function(){this.inherited(arguments);g.set(this.searchNameNode,"innerHTML",this.searchName);g.set(this.searchNameNode,"href",this.searchUrl);m(this.searchNameNode,"click",f.hitch(this,
this.onClickSearchName,this.searchNameNode));1==this.emailFrequency&&(d.remove(this.instantUpdatesToggleNode,"btn_toggle_on"),d.add(this.instantUpdatesToggleNode,"btn_toggle_off"));m(this.instantUpdatesToggleNode,"click",f.hitch(this,this.onInstantUpdateToggle))},onInstantUpdateToggle:function(){l.publish("loadSpinner");if(d.contains(this.instantUpdatesToggleNode,"btn_toggle_on")){var a=this.UPDATE_SAVED_SEARCH_FREQ_URL+"?id\x3d"+this.searchId+"\x26emailFreq\x3d"+g_alertFrequencyType.NEVER;k(a,{method:"POST",
preventCache:!0,handleAs:"json-squiggly"}).then(f.hitch(this,this.handleUnsubscribeResponse),f.hitch(this,this.handleInstantUpdatesError))}else a=this.UPDATE_SAVED_SEARCH_FREQ_URL+"?id\x3d"+this.searchId+"\x26emailFreq\x3d"+g_alertFrequencyType.INSTANT,k(a,{method:"POST",preventCache:!0,handleAs:"json-squiggly"}).then(f.hitch(this,this.handleSubscribeResponse),f.hitch(this,this.handleInstantUpdatesError))},handleUnsubscribeResponse:function(a){l.publish("stopSpinner");this.errorMessageNode.innerHTML=
"";this.GAEvent&&dojo.global._gaq&&dojo.global._gaq.push(["_trackEvent","Homepage","Saved_Searches_Instant_Updates_Toggle","Off",this.eventValue]);"Success."==a.errorMessage?(d.remove(this.instantUpdatesToggleNode,"btn_toggle_on"),d.add(this.instantUpdatesToggleNode,"btn_toggle_off")):this.handleInstantUpdatesError(a)},handleSubscribeResponse:function(a){l.publish("stopSpinner");this.errorMessageNode.innerHTML="";this.GAEvent&&dojo.global._gaq&&dojo.global._gaq.push(["_trackEvent","Homepage","Saved_Searches_Instant_Updates_Toggle",
"On",this.eventValue]);"Success."==a.errorMessage?(d.remove(this.instantUpdatesToggleNode,"btn_toggle_off"),d.add(this.instantUpdatesToggleNode,"btn_toggle_on")):this.handleInstantUpdatesError(a)},handleInstantUpdatesError:function(a){l.publish("stopSpinner");this.errorMessageNode.innerHTML="We're sorry, there was an error updating your instant updates.\x3cbr/\x3ePlease try again later.";console.error("redfin.homepage.widgets.SearchItem.handleInstantUpdatesError",a,!0)},onClickSearchName:function(a,
b){p.stop(b);this.GAEvent&&dojo.global._gaq&&dojo.global._gaq.push(["_trackEvent","Homepage","Saved_Searches_Clicked",null,this.eventValue]);if("_blank"==a.target)return!0;setTimeout(function(){window.location=a.href},250);return!1},searchNameNode:null,instantUpdatesToggleNode:null})})},"dojox/timing/_base":function(){define("dojox/timing/_base",["dojo/_base/kernel","dojo/_base/lang"],function(h){h.experimental("dojox.timing");h.getObject("timing",!0,dojox);dojox.timing.Timer=function(b){this.timer=
null;this.isRunning=!1;this.interval=b;this.onStop=this.onStart=null};h.extend(dojox.timing.Timer,{onTick:function(){},setInterval:function(b){this.isRunning&&window.clearInterval(this.timer);this.interval=b;this.isRunning&&(this.timer=window.setInterval(h.hitch(this,"onTick"),this.interval))},start:function(){if("function"==typeof this.onStart)this.onStart();this.isRunning=!0;this.timer=window.setInterval(h.hitch(this,"onTick"),this.interval)},stop:function(){if("function"==typeof this.onStop)this.onStop();
this.isRunning=!1;window.clearInterval(this.timer)}});return dojox.timing})},"dojo/fx/easing":function(){define(["../_base/lang"],function(h){var b={linear:function(b){return b},quadIn:function(b){return Math.pow(b,2)},quadOut:function(b){return-1*b*(b-2)},quadInOut:function(b){b*=2;return 1>b?Math.pow(b,2)/2:-1*(--b*(b-2)-1)/2},cubicIn:function(b){return Math.pow(b,3)},cubicOut:function(b){return Math.pow(b-1,3)+1},cubicInOut:function(b){b*=2;return 1>b?Math.pow(b,3)/2:(Math.pow(b-2,3)+2)/2},quartIn:function(b){return Math.pow(b,
4)},quartOut:function(b){return-1*(Math.pow(b-1,4)-1)},quartInOut:function(b){b*=2;return 1>b?Math.pow(b,4)/2:-0.5*(Math.pow(b-2,4)-2)},quintIn:function(b){return Math.pow(b,5)},quintOut:function(b){return Math.pow(b-1,5)+1},quintInOut:function(b){b*=2;return 1>b?Math.pow(b,5)/2:(Math.pow(b-2,5)+2)/2},sineIn:function(b){return-1*Math.cos(b*(Math.PI/2))+1},sineOut:function(b){return Math.sin(b*(Math.PI/2))},sineInOut:function(b){return-1*(Math.cos(Math.PI*b)-1)/2},expoIn:function(b){return 0==b?0:
Math.pow(2,10*(b-1))},expoOut:function(b){return 1==b?1:-1*Math.pow(2,-10*b)+1},expoInOut:function(b){if(0==b)return 0;if(1==b)return 1;b*=2;if(1>b)return Math.pow(2,10*(b-1))/2;--b;return(-1*Math.pow(2,-10*b)+2)/2},circIn:function(b){return-1*(Math.sqrt(1-Math.pow(b,2))-1)},circOut:function(b){return Math.sqrt(1-Math.pow(b-1,2))},circInOut:function(b){b*=2;return 1>b?-0.5*(Math.sqrt(1-Math.pow(b,2))-1):0.5*(Math.sqrt(1-Math.pow(b-2,2))+1)},backIn:function(b){return Math.pow(b,2)*(2.70158*b-1.70158)},
backOut:function(b){b-=1;return Math.pow(b,2)*(2.70158*b+1.70158)+1},backInOut:function(b){b*=2;if(1>b)return Math.pow(b,2)*(3.5949095*b-2.5949095)/2;b-=2;return(Math.pow(b,2)*(3.5949095*b+2.5949095)+2)/2},elasticIn:function(b){if(0==b||1==b)return b;b-=1;return-1*Math.pow(2,10*b)*Math.sin((b-0.075)*2*Math.PI/0.3)},elasticOut:function(b){return 0==b||1==b?b:Math.pow(2,-10*b)*Math.sin((b-0.075)*2*Math.PI/0.3)+1},elasticInOut:function(b){if(0==b)return 0;b*=2;if(2==b)return 1;var a=0.3*1.5,c=a/4;if(1>
b)return b-=1,-0.5*Math.pow(2,10*b)*Math.sin((b-c)*2*Math.PI/a);b-=1;return 0.5*Math.pow(2,-10*b)*Math.sin((b-c)*2*Math.PI/a)+1},bounceIn:function(e){return 1-b.bounceOut(1-e)},bounceOut:function(b){b<1/2.75?b=7.5625*Math.pow(b,2):b<2/2.75?b=7.5625*Math.pow(b-1.5/2.75,2)+0.75:b<2.5/2.75?(b-=2.25/2.75,b=7.5625*Math.pow(b,2)+0.9375):(b-=2.625/2.75,b=7.5625*Math.pow(b,2)+0.984375);return b},bounceInOut:function(e){return 0.5>e?b.bounceIn(2*e)/2:b.bounceOut(2*e-1)/2+0.5}};h.setObject("dojo.fx.easing",
b);return b})},"redfin/common/data/Market":function(){define("redfin/common/data/Market",["dijit","dojo","dojox","dojo/require!redfin/common/data/MethodGenerator,redfin/common/data/DataObject"],function(h,b,e){b.provide("redfin.common.data.Market");b.require("redfin.common.data.MethodGenerator");b.require("redfin.common.data.DataObject");b.declare("redfin.common.data.Market",redfin.common.data.DataObject,{getTzString:function(){return g_timeZone.idToObj[this.getTimeZone()].timeZoneIdString}});b.forEach("id name displayName urlName timeZone buyerDirectoryOn sellerDirectoryOn buyerDirectoryCategories sellerDirectoryCategories".split(" "),
function(a){redfin.common.data.MethodGenerator.generateMethods(redfin.common.data.Market,a)})})},"redfin/search/search_listings":function(){define("dojo/_base/lang dojo/cookie dojo/dom dojo/dom-style dojo/has dojo/aspect redfin/common/google_analytics redfin/common/page_analytics redfin/search/map/QuickMap redfin/search/common/dialogs/FixedDialog redfin/bouncer/Bouncer".split(" "),function(h,b,e,a,c,d,g,f,k,l,m){var p=null,n=null;e={DISAMBIGUATION_ID:"disambiguation-box",DISAMBIGUATION_TITLE_ID:"disambiguation-box-title",
DISAMBIGUATION_LIST_ID:"disambiguation-box-list",DISAMBIGUATION_FOOTER_ID:"disambiguation-box-footer",DISAMBIGUATION_FOOTER_SEARCH_TERMS_ID:"disambiguation-box-footer-search-terms",KEYBOARD_SHORTCUTS_ID:"keyboard-shortcut-box",MARKET_ID:"market-box",MARKET_LIST_ID:"market-box-list",MARKET_LIST_FAILED_SEARCH:"market-box-failed-search",MAP_CONTENT_ID:"rf_mapcontent",OUT_OF_MARKET_ID:"out-of-market-box",OUT_OF_MARKET_CLOSE_ID:"out-of-market-close",OUT_OF_MARKET_OK_ID:"out-of-market-ok",WELCOME_ID:"welcome-box",
WELCOME_CLOSE_ID:"welcome-close",WELCOME_OK_ID:"welcome-ok",DMP_NOT_LOADED:"dmp-not-loaded",BOSTON_MARKET:"boston",LOGIN_FOR_ADDR:"Sign In to View the Address",UNABLE_TO_MAP:"Unable to Map",SIGN_IN:"Sign In",N_A:"n/a",VOW_TERMS_WARN:"vow_terms_warn",VOW_LOGIN_WARN:"vow_login_warn",PROGRESS_BAR_TASKS:{SENDING:1,RECEIVING:2,MAP:3,LIST:4,LOC_SEARCH:5},DEBUG_TIMER_TASKS:{SEARCH:"search time",PARSE:"parse time",PREDRAW:"pre-draw time",POSTDRAW:"post-draw time",LIST:"list add time",MAP:"map add time",OVERALL_DISPLAY:"overall display time",
TOTAL:"total time for this search"},ICO_CONDO_SUFFIX:"_"+g_uiPropertyTypes.idToObj[g_uiPropertyTypes.CONDO].iconSuffix,ICO_FAVORITE_SUFFIX:"_fav",ICO_ANTIFAVORITE_OVERLAY_SUFFIX:"_antifav_overlay",ICO_SELECTED_SUFFIX:"_selected",ICO_REVERSE_SUFFIX:"_rev",ICO_OPEN_HOUSE_SUFFIX:"_oh",ICO_FSBO_SUFFIX:"_fsbo",ICO_BANK_OWNED_SUFFIX:"_bo",ICO_MULTIFAMILY_SUFFIX:"_"+g_uiPropertyTypes.idToObj[g_uiPropertyTypes.MULTI_FAMILY].iconSuffix,ICO_TOWNHOUSE_SUFFIX:"_"+g_uiPropertyTypes.idToObj[g_uiPropertyTypes.TOWNHOUSE].iconSuffix,
ICO_LAND_SUFFIX:"_"+g_uiPropertyTypes.idToObj[g_uiPropertyTypes.LAND].iconSuffix,ICO_REDFIN_SUFFIX:"_redfin",PARCEL_TYPE_CONDO:3,PARCEL_TYPE_TOWNHOUSE:13,PARCEL_TYPE_MULTIFAMILY_2_TO_4:4,PARCEL_TYPE_MULTIFAMILY_5_PLUS:5,PARCEL_TYPE_LAND:8,MAP_DEFAULT_ZOOM_LEVEL:8,MAP_DEFAULT_ZOOM_LEVEL_NO_MARKET:4,MAP_DEFAULT_CENTER_LAT:40.903,MAP_DEFAULT_CENTER_LONG:-99.861,DEFAULT_PROPERTY_ZOOM:17,MARKET_SEARCH_ERROR:"An error occurred when downloading available markets.\x3cbr\x3ePlease try again later.",MARKET_INFO_ERROR_STR_PREFIX:"An error occurred when downloading information about the '",
MARKET_INFO_ERROR_STR_SUFFIX:"' market.\x3cbr\x3ePlease try again later.",RF_LOGGED_IN_USER_COOKIE_NAME:"RF_PARTY_ID",RF_LOGGED_IN_COOKIE_NAME:"RF_SECURE_KEY",RF_SESSION_ID:"RF_SESSION_ID",RF_DISMISSED_MSG_COOKIE_NAME:"RF_DISMISSED_MSG",RF_MARKET_COOKIE_NAME:"RF_MARKET",RIGHT_KEY_PRESS:1,LEFT_KEY_PRESS:2,GA_EVENT_MAP_UI:"map_ui",g_garbageMarkerId:-1,g_dlgDisambiguation:null,g_dlgMarket:null,g_dlgError:null,g_dlgDmpNotLoaded:null,g_dlgCloseUpMap:null,g_savedSearchController:null,g_searchForm:null,
g_popups:[],getLoggedInUser:function(){var a=b(redfin.search.RF_LOGGED_IN_USER_COOKIE_NAME);return""===a?null:a},getBuildingInfo:function(a){var b={},c=redfin.search.firstEl(a,"point");b.lat=null;b["long"]=null;null!==c&&(b.lat=redfin.search.elVal(c,"lat"),b["long"]=redfin.search.elVal(c,"long"));c=redfin.search.elVal(a,"listingid");null!==c&&""!==c?b.listingId=c:(c=redfin.search.elVal(a,"parcelid"),null!==c&&""!==c&&(b.parcelId=c));b.market=redfin.search.elVal(a,"market");return b},floatsEqual:function(a,
b,c){"string"==typeof a&&(a=parseFloat(a));"string"==typeof b&&(b=parseFloat(b));return a.toPrecision(c)==b.toPrecision(c)},getStreetAddrStr:function(a,b,c){if(a.undisclosed||c&&!redfin.common.AccessLevelUtil.currentLoginHasAccess(c.streetLineVisibility))return"Undisclosed";var d=[];a.number&&(!c||redfin.common.AccessLevelUtil.currentLoginHasAccess(c.streetNumberVisibility))&&d.push(a.number);a.prefix&&d.push(a.prefix);a.street&&d.push(a.street);a.type&&d.push(a.type);a.suffix&&d.push(a.suffix);if(b&&
(!c||redfin.common.AccessLevelUtil.currentLoginHasAccess(c.streetNumberVisibility)))b="",a.unitType&&(b+=a.unitType),a.unitValue&&(0<b.length&&"#"!=a.unitType&&(b+=" "),b+=a.unitValue),0<b.length?d.push(b):a.unit&&d.push(a.unit);return d.join(" ")},getAddrStr:function(a,b,c){var d=[];d.push(this.getStreetAddrStr(a,b,c));d.push(a.city);return d.join(", ")},appendIfNotBlank:function(a,b,c){null!==b&&""!==b&&(a=""!==a?a+(c+b):b);return a},firstEl:function(a,b){var c=a.getElementsByTagName(b);return 0===
c.length?null:c.item(0)},els:function(a,b){return a.getElementsByTagName(b)},elVal:function(a,b){var c=redfin.search.firstEl(a,b);return null===c?null:redfin.search.textContent(c)},textContent:function(a){if(void 0!==a.textContent)return a.textContent;var b="";if(null===a)return b;for(var c=0;c<a.childNodes.length;c++)switch(a.childNodes[c].nodeType){case 1:case 5:b+=redfin.search.textContent(a.childNodes[c]);break;case 3:case 2:case 4:b+=a.childNodes[c].nodeValue}return b},att:function(a,b){return a.getAttribute(b)},
runAjaxReqCancelPrev:function(a,b){b||(b="__global");var c="redfin.search.g_CurrentRunningAjaxReq."+b;if(h.getObject(c))try{redfin.search.g_CurrentRunningAjaxReq[b].cancel()}catch(d){console.error("Error in redfin.search.runAjaxReqCancelPrev aborting previous request",d)}var f=a.load;a.load=function(a,b,d){h.setObject(c,null);f(a,b,d)};var e=a.error;a.error=function(a,b){h.setObject(c,null);e(a,b)};h.setObject(c,dojo.xhrGet(a));return redfin.search.g_CurrentRunningAjaxReq[b]},displayDmpNotLoaded:function(){redfin.search.g_dlgDmpNotLoaded.show()},
toggleCloseUpMap:function(){redfin.search.g_dlgCloseUpMap&&redfin.search.g_dlgCloseUpMap.open?redfin.search.g_dlgCloseUpMap.hide():null!==g_searchController.getSidepane().currentHomeIndex&&g_searchController.getSidepane().getCurrentHome().parent.id!=redfin.datamodel.Parcel.UNMAPPED_ID&&redfin.search.displayCloseUpMap(g_searchController.getSidepane().getCurrentHome(),redfin.search.getIconForCloseUpMapSearch(g_searchController.getSidepane().getCurrentHome()),g_searchController.getMarketInfo()?g_searchController.getMarketInfo().hasGoogleStreetView:
!0)},getIconForCloseUpMapSearch:function(a){return!a.parent||!a.parent.shape?g_searchController.getMap().getMarkerHTML(a.parent,redfin.search.GMap3.PUSHPIN_HOME,!0,a):a.parent.shape.GetCustomIcon()},getIconForCloseUpMapNonSearch:function(a){!a.parent||!a.parent.shape?(a="ico_map"+a.getIconSuffix(redfin.datamodel.Home.ICON_SUFFIX_ALL),a="\x3cimg class\x3d'"+a+"' src\x3d'"+g_imageServerUrl+"/images/clear.gif'/\x3e"):a=a.parent.shape.GetCustomIcon();return a},displayCloseUpMap:function(a,b,c){a&&(b=
m.isOn(g_feature.COMMON_DIALOGS),p||(n=new k({homeMarkerPrefix:"box22x27 sprt ",resizeOnStartup:b?!1:!0}),p=new l({title:"Quick Map",hideOnUnderlayClick:!0,"class":"",contentClass:"",content:n,closable:!0}),b||d.after(p,"resize",function(){n.resizeMap()})),n.set("mapType","roadmap"),n.set({home:{id:a.getPropertyID(),lat:a.getLatitude(),lng:a.getLongitude(),iconCssName:"ico_map"+a.getIconSuffix(redfin.datamodel.Home.ICON_SUFFIX_ALL)},bing:{lat:a.getLatitude(),lng:a.getLongitude(),price:a.getPrice(),
beds:a.getBeds(),baths:a.getBaths(),address:a.getAddressDisplay()},detailsLink:a.getUrl()}),b||n.resizeMap(),p.show(),(new redfin.common.GoogleAnalytics).trackEvent(redfin.search.GA_EVENT_MAP_UI,{action:"show_zoom_in"}))},onHideCloseUpMap:function(){2==c("ff")&&/(Macintosh)|(OS\sX)|(\sMac\s)/i.test(navigator.userAgent)&&(g_searchController.searchResultsStatusBox.hide(),a.set("backToClustersWidget","display",""))},shouldShowSelectedStatusChanges:function(){return g_searchController.isLoggedIn()?!0:
!1},displayErrorMessageReliable:function(a,b){console.error(a+": %o",b);if(c("dojo-debug-messages"))throw b;},redirectIfNecessary:function(){var a=redfin.util.NameValue.deconstructQueryString(redfin.ui.SearchListingsBrowserState.getSearch()),b=redfin.ui.SearchListingsBrowserState.getHash();b&&0<b.length&&redfin.util.NameValue.deconstructQueryString(b);var c=redfin.ui.SearchListingsBrowserState.getLastSearchCookie();if(a.searchterms&&a.searchMarket)top.window.location.replace(top.window.location.pathname+
"#!market\x3d"+a.searchMarket+"\x26search_location\x3d"+a.searchterms.replace(/\+/g,"%20")),setTimeout(function(){var a=new redfin.common.PageAnalytics;a.setIsHashChange(!0);a.trackPageAnalyticsRequest()},50);else if(c&&(redfin.util.NameValue.nameValueStringToHash(c,"\x26","\x3d"),0===redfin.ui.SearchListingsBrowserState.getHash().length||0<=b.indexOf("agent_prompt_save\x3dtrue"))){var d=top.window.location.pathname;a.test_setup&&(d+="?test_setup\x3d"+a.test_setup);a.delayed_setup&&(d+="?delayed_setup\x3d1");
0<=b.indexOf("agent_prompt_save\x3dtrue")&&c.indexOf("agent_prompt_save"<0)&&(c+="\x26agent_prompt_save\x3dtrue",0<=b.indexOf("agent_tools_customer_email")&&(a=b.substring(b.indexOf("agent_tools_customer_email"),b.length),c+="\x26"+a));top.window.location.replace(d+"#!"+c);c=new redfin.common.PageAnalytics;c.setIsHashChange(!0);c.trackPageAnalyticsRequest()}},locToSearchString:function(a){return!redfin.search.g_searchForm.getLocation()?"":a},replaceClass:function(a,b,c){var d=a.className;"string"==
typeof c&&(c=[c]);for(var f=0;f<c.length;++f)d=d.replace(RegExp(c[f]+"($|\\s)"),"");-1==d.indexOf(b)&&(d+=" "+b);a.className=d}};h.mixin(h.getObject("redfin.search",!0),e);return e})},"redfin/common/data/AddressMixin":function(){define(["dijit","dojo","dojox","dojo/require!redfin/search/util/StringUtil"],function(h,b,e){b.require("redfin.search.util.StringUtil");b.provide("redfin.common.data.AddressMixin");redfin.common.data.AddressMixin={getStreetNumberString:function(){var a=this.get("streetNumber");
return a?b.trim(a):""},getStreetOnlyString:function(){var a="",c=this.get("streetName");c&&(a=b.trim(this.get("directionalPrefix")||""),a=b.trim(a+" "+c),a=b.trim(a+" "+(this.get("streetType")||"")),a=b.trim(a+" "+(this.get("directionalSuffix")||"")));return a},getStreetString:function(){return b.trim(this.getStreetNumberString()+" "+this.getStreetOnlyString())},getUnitDisplayString:function(){if(!this.get("unitValue"))return"";var a="",a=!this.get("unitType")||"#"===b.trim(this.get("unitType"))?
a+"#":a+(b.trim(this.get("unitType"))+" ");return a+=b.trim(this.get("unitValue"))},getCityString:function(){var a="";this.get("city")&&(a=b.trim(a+this.get("city"))+", ");var c="";this.get("stateCode")&&(c=b.trim(this.get("stateCode")||""));return a=b.trim(a+c)},getCityStateZipString:function(){return this.getCityString()+" "+b.trim(this.get("zip")||"")},getFullAddressDisplayString:function(){var a;a=b.trim(""+this.getFullStreetString())+", ";a=b.trim(a+this.getCityString())+" ";return a=b.trim(a+
this.get("zip"))},getFullStreetString:function(){return b.trim(this.getStreetString()+" "+this.getUnitDisplayString())}}})},"dojox/date/zoneinfo/ext/northamerica":function(){require({cache:{"url:dojox/date/zoneinfo/northamerica":"Rule\tUS\t1918\t1919\t-\tMar\tlastSun\t2:00\t1:00\tD\nRule\tUS\t1918\t1919\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tUS\t1942\tonly\t-\tFeb\t9\t2:00\t1:00\tW # War\nRule\tUS\t1945\tonly\t-\tAug\t14\t23:00u\t1:00\tP # Peace\nRule\tUS\t1945\tonly\t-\tSep\t30\t2:00\t0\tS\nRule\tUS\t1967\t2006\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tUS\t1967\t1973\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tUS\t1974\tonly\t-\tJan\t6\t2:00\t1:00\tD\nRule\tUS\t1975\tonly\t-\tFeb\t23\t2:00\t1:00\tD\nRule\tUS\t1976\t1986\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tUS\t1987\t2006\t-\tApr\tSun\x3e\x3d1\t2:00\t1:00\tD\nRule\tUS\t2007\tmax\t-\tMar\tSun\x3e\x3d8\t2:00\t1:00\tD\nRule\tUS\t2007\tmax\t-\tNov\tSun\x3e\x3d1\t2:00\t0\tS\nZone\tEST\t\t -5:00\t-\tEST\nZone\tMST\t\t -7:00\t-\tMST\nZone\tHST\t\t-10:00\t-\tHST\nZone\tEST5EDT\t\t -5:00\tUS\tE%sT\nZone\tCST6CDT\t\t -6:00\tUS\tC%sT\nZone\tMST7MDT\t\t -7:00\tUS\tM%sT\nZone\tPST8PDT\t\t -8:00\tUS\tP%sT\nRule\tNYC\t1920\tonly\t-\tMar\tlastSun\t2:00\t1:00\tD\nRule\tNYC\t1920\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tNYC\t1921\t1966\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tNYC\t1921\t1954\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tNYC\t1955\t1966\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/New_York\t-4:56:02 -\tLMT\t1883 Nov 18 12:03:58\n\t\t\t-5:00\tUS\tE%sT\t1920\n\t\t\t-5:00\tNYC\tE%sT\t1942\n\t\t\t-5:00\tUS\tE%sT\t1946\n\t\t\t-5:00\tNYC\tE%sT\t1967\n\t\t\t-5:00\tUS\tE%sT\nRule\tChicago\t1920\tonly\t-\tJun\t13\t2:00\t1:00\tD\nRule\tChicago\t1920\t1921\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tChicago\t1921\tonly\t-\tMar\tlastSun\t2:00\t1:00\tD\nRule\tChicago\t1922\t1966\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tChicago\t1922\t1954\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tChicago\t1955\t1966\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Chicago\t-5:50:36 -\tLMT\t1883 Nov 18 12:09:24\n\t\t\t-6:00\tUS\tC%sT\t1920\n\t\t\t-6:00\tChicago\tC%sT\t1936 Mar  1 2:00\n\t\t\t-5:00\t-\tEST\t1936 Nov 15 2:00\n\t\t\t-6:00\tChicago\tC%sT\t1942\n\t\t\t-6:00\tUS\tC%sT\t1946\n\t\t\t-6:00\tChicago\tC%sT\t1967\n\t\t\t-6:00\tUS\tC%sT\nZone America/North_Dakota/Center -6:45:12 - LMT\t1883 Nov 18 12:14:48\n\t\t\t-7:00\tUS\tM%sT\t1992 Oct 25 02:00\n\t\t\t-6:00\tUS\tC%sT\nZone America/North_Dakota/New_Salem -6:45:39 - LMT 1883 Nov 18 12:14:21\n\t\t\t-7:00\tUS\tM%sT\t2003 Oct 26 02:00\n\t\t\t-6:00\tUS\tC%sT\nRule\tDenver\t1920\t1921\t-\tMar\tlastSun\t2:00\t1:00\tD\nRule\tDenver\t1920\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tDenver\t1921\tonly\t-\tMay\t22\t2:00\t0\tS\nRule\tDenver\t1965\t1966\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tDenver\t1965\t1966\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Denver\t-6:59:56 -\tLMT\t1883 Nov 18 12:00:04\n\t\t\t-7:00\tUS\tM%sT\t1920\n\t\t\t-7:00\tDenver\tM%sT\t1942\n\t\t\t-7:00\tUS\tM%sT\t1946\n\t\t\t-7:00\tDenver\tM%sT\t1967\n\t\t\t-7:00\tUS\tM%sT\nRule\tCA\t1948\tonly\t-\tMar\t14\t2:00\t1:00\tD\nRule\tCA\t1949\tonly\t-\tJan\t 1\t2:00\t0\tS\nRule\tCA\t1950\t1966\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tCA\t1950\t1961\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tCA\t1962\t1966\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Los_Angeles -7:52:58 -\tLMT\t1883 Nov 18 12:07:02\n\t\t\t-8:00\tUS\tP%sT\t1946\n\t\t\t-8:00\tCA\tP%sT\t1967\n\t\t\t-8:00\tUS\tP%sT\nZone America/Juneau\t 15:02:19 -\tLMT\t1867 Oct 18\n\t\t\t -8:57:41 -\tLMT\t1900 Aug 20 12:00\n\t\t\t -8:00\t-\tPST\t1942\n\t\t\t -8:00\tUS\tP%sT\t1946\n\t\t\t -8:00\t-\tPST\t1969\n\t\t\t -8:00\tUS\tP%sT\t1983 Oct 30 2:00\n\t\t\t -9:00\tUS\tY%sT\t1983 Nov 30\n\t\t\t -9:00\tUS\tAK%sT\nZone America/Yakutat\t 14:41:05 -\tLMT\t1867 Oct 18\n\t\t\t -9:18:55 -\tLMT\t1900 Aug 20 12:00\n\t\t\t -9:00\t-\tYST\t1942\n\t\t\t -9:00\tUS\tY%sT\t1946\n\t\t\t -9:00\t-\tYST\t1969\n\t\t\t -9:00\tUS\tY%sT\t1983 Nov 30\n\t\t\t -9:00\tUS\tAK%sT\nZone America/Anchorage\t 14:00:24 -\tLMT\t1867 Oct 18\n\t\t\t -9:59:36 -\tLMT\t1900 Aug 20 12:00\n\t\t\t-10:00\t-\tCAT\t1942\n\t\t\t-10:00\tUS\tCAT/CAWT 1945 Aug 14 23:00u\n\t\t\t-10:00\tUS\tCAT/CAPT 1946 # Peace\n\t\t\t-10:00\t-\tCAT\t1967 Apr\n\t\t\t-10:00\t-\tAHST\t1969\n\t\t\t-10:00\tUS\tAH%sT\t1983 Oct 30 2:00\n\t\t\t -9:00\tUS\tY%sT\t1983 Nov 30\n\t\t\t -9:00\tUS\tAK%sT\nZone America/Nome\t 12:58:21 -\tLMT\t1867 Oct 18\n\t\t\t-11:01:38 -\tLMT\t1900 Aug 20 12:00\n\t\t\t-11:00\t-\tNST\t1942\n\t\t\t-11:00\tUS\tN%sT\t1946\n\t\t\t-11:00\t-\tNST\t1967 Apr\n\t\t\t-11:00\t-\tBST\t1969\n\t\t\t-11:00\tUS\tB%sT\t1983 Oct 30 2:00\n\t\t\t -9:00\tUS\tY%sT\t1983 Nov 30\n\t\t\t -9:00\tUS\tAK%sT\nZone America/Adak\t 12:13:21 -\tLMT\t1867 Oct 18\n\t\t\t-11:46:38 -\tLMT\t1900 Aug 20 12:00\n\t\t\t-11:00\t-\tNST\t1942\n\t\t\t-11:00\tUS\tN%sT\t1946\n\t\t\t-11:00\t-\tNST\t1967 Apr\n\t\t\t-11:00\t-\tBST\t1969\n\t\t\t-11:00\tUS\tB%sT\t1983 Oct 30 2:00\n\t\t\t-10:00\tUS\tAH%sT\t1983 Nov 30\n\t\t\t-10:00\tUS\tHA%sT\nZone Pacific/Honolulu\t-10:31:26 -\tLMT\t1900 Jan  1 12:00\n\t\t\t-10:30\t-\tHST\t1933 Apr 30 2:00\n\t\t\t-10:30\t1:00\tHDT\t1933 May 21 2:00\n\t\t\t-10:30\tUS\tH%sT\t1947 Jun  8 2:00\n\t\t\t-10:00\t-\tHST\nZone America/Phoenix\t-7:28:18 -\tLMT\t1883 Nov 18 11:31:42\n\t\t\t-7:00\tUS\tM%sT\t1944 Jan  1 00:01\n\t\t\t-7:00\t-\tMST\t1944 Apr  1 00:01\n\t\t\t-7:00\tUS\tM%sT\t1944 Oct  1 00:01\n\t\t\t-7:00\t-\tMST\t1967\n\t\t\t-7:00\tUS\tM%sT\t1968 Mar 21\n\t\t\t-7:00\t-\tMST\nLink America/Denver America/Shiprock\nZone America/Boise\t-7:44:49 -\tLMT\t1883 Nov 18 12:15:11\n\t\t\t-8:00\tUS\tP%sT\t1923 May 13 2:00\n\t\t\t-7:00\tUS\tM%sT\t1974\n\t\t\t-7:00\t-\tMST\t1974 Feb  3 2:00\n\t\t\t-7:00\tUS\tM%sT\nRule Indianapolis 1941\tonly\t-\tJun\t22\t2:00\t1:00\tD\nRule Indianapolis 1941\t1954\t-\tSep\tlastSun\t2:00\t0\tS\nRule Indianapolis 1946\t1954\t-\tApr\tlastSun\t2:00\t1:00\tD\nZone America/Indiana/Indianapolis -5:44:38 - LMT 1883 Nov 18 12:15:22\n\t\t\t-6:00\tUS\tC%sT\t1920\n\t\t\t-6:00 Indianapolis C%sT\t1942\n\t\t\t-6:00\tUS\tC%sT\t1946\n\t\t\t-6:00 Indianapolis C%sT\t1955 Apr 24 2:00\n\t\t\t-5:00\t-\tEST\t1957 Sep 29 2:00\n\t\t\t-6:00\t-\tCST\t1958 Apr 27 2:00\n\t\t\t-5:00\t-\tEST\t1969\n\t\t\t-5:00\tUS\tE%sT\t1971\n\t\t\t-5:00\t-\tEST\t2006\n\t\t\t-5:00\tUS\tE%sT\nRule\tMarengo\t1951\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tMarengo\t1951\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tMarengo\t1954\t1960\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tMarengo\t1954\t1960\t-\tSep\tlastSun\t2:00\t0\tS\nZone America/Indiana/Marengo -5:45:23 -\tLMT\t1883 Nov 18 12:14:37\n\t\t\t-6:00\tUS\tC%sT\t1951\n\t\t\t-6:00\tMarengo\tC%sT\t1961 Apr 30 2:00\n\t\t\t-5:00\t-\tEST\t1969\n\t\t\t-5:00\tUS\tE%sT\t1974 Jan  6 2:00\n\t\t\t-6:00\t1:00\tCDT\t1974 Oct 27 2:00\n\t\t\t-5:00\tUS\tE%sT\t1976\n\t\t\t-5:00\t-\tEST\t2006\n\t\t\t-5:00\tUS\tE%sT\nRule Vincennes\t1946\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule Vincennes\t1946\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule Vincennes\t1953\t1954\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule Vincennes\t1953\t1959\t-\tSep\tlastSun\t2:00\t0\tS\nRule Vincennes\t1955\tonly\t-\tMay\t 1\t0:00\t1:00\tD\nRule Vincennes\t1956\t1963\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule Vincennes\t1960\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule Vincennes\t1961\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule Vincennes\t1962\t1963\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Indiana/Vincennes -5:50:07 - LMT\t1883 Nov 18 12:09:53\n\t\t\t-6:00\tUS\tC%sT\t1946\n\t\t\t-6:00 Vincennes\tC%sT\t1964 Apr 26 2:00\n\t\t\t-5:00\t-\tEST\t1969\n\t\t\t-5:00\tUS\tE%sT\t1971\n\t\t\t-5:00\t-\tEST\t2006 Apr  2 2:00\n\t\t\t-6:00\tUS\tC%sT\t2007 Nov  4 2:00\n\t\t\t-5:00\tUS\tE%sT\nRule Perry\t1946\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule Perry\t1946\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule Perry\t1953\t1954\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule Perry\t1953\t1959\t-\tSep\tlastSun\t2:00\t0\tS\nRule Perry\t1955\tonly\t-\tMay\t 1\t0:00\t1:00\tD\nRule Perry\t1956\t1963\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule Perry\t1960\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule Perry\t1961\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule Perry\t1962\t1963\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Indiana/Tell_City -5:47:03 - LMT\t1883 Nov 18 12:12:57\n\t\t\t-6:00\tUS\tC%sT\t1946\n\t\t\t-6:00 Perry\tC%sT\t1964 Apr 26 2:00\n\t\t\t-5:00\t-\tEST\t1969\n\t\t\t-5:00\tUS\tE%sT\t1971\n\t\t\t-5:00\t-\tEST\t2006 Apr  2 2:00\n\t\t\t-6:00\tUS\tC%sT\nRule\tPike\t1955\tonly\t-\tMay\t 1\t0:00\t1:00\tD\nRule\tPike\t1955\t1960\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tPike\t1956\t1964\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tPike\t1961\t1964\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Indiana/Petersburg -5:49:07 - LMT\t1883 Nov 18 12:10:53\n\t\t\t-6:00\tUS\tC%sT\t1955\n\t\t\t-6:00\tPike\tC%sT\t1965 Apr 25 2:00\n\t\t\t-5:00\t-\tEST\t1966 Oct 30 2:00\n\t\t\t-6:00\tUS\tC%sT\t1977 Oct 30 2:00\n\t\t\t-5:00\t-\tEST\t2006 Apr  2 2:00\n\t\t\t-6:00\tUS\tC%sT\t2007 Nov  4 2:00\n\t\t\t-5:00\tUS\tE%sT\nRule\tStarke\t1947\t1961\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tStarke\t1947\t1954\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tStarke\t1955\t1956\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tStarke\t1957\t1958\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tStarke\t1959\t1961\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Indiana/Knox -5:46:30 -\tLMT\t1883 Nov 18 12:13:30\n\t\t\t-6:00\tUS\tC%sT\t1947\n\t\t\t-6:00\tStarke\tC%sT\t1962 Apr 29 2:00\n\t\t\t-5:00\t-\tEST\t1963 Oct 27 2:00\n\t\t\t-6:00\tUS\tC%sT\t1991 Oct 27 2:00\n\t\t\t-5:00\t-\tEST\t2006 Apr  2 2:00\n\t\t\t-6:00\tUS\tC%sT\nRule\tPulaski\t1946\t1960\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tPulaski\t1946\t1954\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tPulaski\t1955\t1956\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tPulaski\t1957\t1960\t-\tSep\tlastSun\t2:00\t0\tS\nZone America/Indiana/Winamac -5:46:25 - LMT\t1883 Nov 18 12:13:35\n\t\t\t-6:00\tUS\tC%sT\t1946\n\t\t\t-6:00\tPulaski\tC%sT\t1961 Apr 30 2:00\n\t\t\t-5:00\t-\tEST\t1969\n\t\t\t-5:00\tUS\tE%sT\t1971\n\t\t\t-5:00\t-\tEST\t2006 Apr  2 2:00\n\t\t\t-6:00\tUS\tC%sT\t2007 Mar 11 2:00\n\t\t\t-5:00\tUS\tE%sT\nZone America/Indiana/Vevay -5:40:16 -\tLMT\t1883 Nov 18 12:19:44\n\t\t\t-6:00\tUS\tC%sT\t1954 Apr 25 2:00\n\t\t\t-5:00\t-\tEST\t1969\n\t\t\t-5:00\tUS\tE%sT\t1973\n\t\t\t-5:00\t-\tEST\t2006\n\t\t\t-5:00\tUS\tE%sT\nRule Louisville\t1921\tonly\t-\tMay\t1\t2:00\t1:00\tD\nRule Louisville\t1921\tonly\t-\tSep\t1\t2:00\t0\tS\nRule Louisville\t1941\t1961\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule Louisville\t1941\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule Louisville\t1946\tonly\t-\tJun\t2\t2:00\t0\tS\nRule Louisville\t1950\t1955\t-\tSep\tlastSun\t2:00\t0\tS\nRule Louisville\t1956\t1960\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Kentucky/Louisville -5:43:02 -\tLMT\t1883 Nov 18 12:16:58\n\t\t\t-6:00\tUS\tC%sT\t1921\n\t\t\t-6:00 Louisville C%sT\t1942\n\t\t\t-6:00\tUS\tC%sT\t1946\n\t\t\t-6:00 Louisville C%sT\t1961 Jul 23 2:00\n\t\t\t-5:00\t-\tEST\t1968\n\t\t\t-5:00\tUS\tE%sT\t1974 Jan  6 2:00\n\t\t\t-6:00\t1:00\tCDT\t1974 Oct 27 2:00\n\t\t\t-5:00\tUS\tE%sT\nZone America/Kentucky/Monticello -5:39:24 - LMT\t1883 Nov 18 12:20:36\n\t\t\t-6:00\tUS\tC%sT\t1946\n\t\t\t-6:00\t-\tCST\t1968\n\t\t\t-6:00\tUS\tC%sT\t2000 Oct 29  2:00\n\t\t\t-5:00\tUS\tE%sT\nRule\tDetroit\t1948\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tDetroit\t1948\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tDetroit\t1967\tonly\t-\tJun\t14\t2:00\t1:00\tD\nRule\tDetroit\t1967\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Detroit\t-5:32:11 -\tLMT\t1905\n\t\t\t-6:00\t-\tCST\t1915 May 15 2:00\n\t\t\t-5:00\t-\tEST\t1942\n\t\t\t-5:00\tUS\tE%sT\t1946\n\t\t\t-5:00\tDetroit\tE%sT\t1973\n\t\t\t-5:00\tUS\tE%sT\t1975\n\t\t\t-5:00\t-\tEST\t1975 Apr 27 2:00\n\t\t\t-5:00\tUS\tE%sT\nRule Menominee\t1946\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule Menominee\t1946\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule Menominee\t1966\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule Menominee\t1966\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Menominee\t-5:50:27 -\tLMT\t1885 Sep 18 12:00\n\t\t\t-6:00\tUS\tC%sT\t1946\n\t\t\t-6:00 Menominee\tC%sT\t1969 Apr 27 2:00\n\t\t\t-5:00\t-\tEST\t1973 Apr 29 2:00\n\t\t\t-6:00\tUS\tC%sT\nRule\tCanada\t1918\tonly\t-\tApr\t14\t2:00\t1:00\tD\nRule\tCanada\t1918\tonly\t-\tOct\t31\t2:00\t0\tS\nRule\tCanada\t1942\tonly\t-\tFeb\t 9\t2:00\t1:00\tW # War\nRule\tCanada\t1945\tonly\t-\tAug\t14\t23:00u\t1:00\tP # Peace\nRule\tCanada\t1945\tonly\t-\tSep\t30\t2:00\t0\tS\nRule\tCanada\t1974\t1986\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tCanada\t1974\t2006\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tCanada\t1987\t2006\t-\tApr\tSun\x3e\x3d1\t2:00\t1:00\tD\nRule\tCanada\t2007\tmax\t-\tMar\tSun\x3e\x3d8\t2:00\t1:00\tD\nRule\tCanada\t2007\tmax\t-\tNov\tSun\x3e\x3d1\t2:00\t0\tS\nRule\tStJohns\t1917\tonly\t-\tApr\t 8\t2:00\t1:00\tD\nRule\tStJohns\t1917\tonly\t-\tSep\t17\t2:00\t0\tS\nRule\tStJohns\t1919\tonly\t-\tMay\t 5\t23:00\t1:00\tD\nRule\tStJohns\t1919\tonly\t-\tAug\t12\t23:00\t0\tS\nRule\tStJohns\t1920\t1935\t-\tMay\tSun\x3e\x3d1\t23:00\t1:00\tD\nRule\tStJohns\t1920\t1935\t-\tOct\tlastSun\t23:00\t0\tS\nRule\tStJohns\t1936\t1941\t-\tMay\tMon\x3e\x3d9\t0:00\t1:00\tD\nRule\tStJohns\t1936\t1941\t-\tOct\tMon\x3e\x3d2\t0:00\t0\tS\nRule\tStJohns\t1946\t1950\t-\tMay\tSun\x3e\x3d8\t2:00\t1:00\tD\nRule\tStJohns\t1946\t1950\t-\tOct\tSun\x3e\x3d2\t2:00\t0\tS\nRule\tStJohns\t1951\t1986\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tStJohns\t1951\t1959\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tStJohns\t1960\t1986\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tStJohns\t1987\tonly\t-\tApr\tSun\x3e\x3d1\t0:01\t1:00\tD\nRule\tStJohns\t1987\t2006\t-\tOct\tlastSun\t0:01\t0\tS\nRule\tStJohns\t1988\tonly\t-\tApr\tSun\x3e\x3d1\t0:01\t2:00\tDD\nRule\tStJohns\t1989\t2006\t-\tApr\tSun\x3e\x3d1\t0:01\t1:00\tD\nRule\tStJohns\t2007\tmax\t-\tMar\tSun\x3e\x3d8\t0:01\t1:00\tD\nRule\tStJohns\t2007\tmax\t-\tNov\tSun\x3e\x3d1\t0:01\t0\tS\nZone America/St_Johns\t-3:30:52 -\tLMT\t1884\n\t\t\t-3:30:52 StJohns N%sT\t1918\n\t\t\t-3:30:52 Canada\tN%sT\t1919\n\t\t\t-3:30:52 StJohns N%sT\t1935 Mar 30\n\t\t\t-3:30\tStJohns\tN%sT\t1942 May 11\n\t\t\t-3:30\tCanada\tN%sT\t1946\n\t\t\t-3:30\tStJohns\tN%sT\nZone America/Goose_Bay\t-4:01:40 -\tLMT\t1884 # Happy Valley-Goose Bay\n\t\t\t-3:30:52 -\tNST\t1918\n\t\t\t-3:30:52 Canada N%sT\t1919\n\t\t\t-3:30:52 -\tNST\t1935 Mar 30\n\t\t\t-3:30\t-\tNST\t1936\n\t\t\t-3:30\tStJohns\tN%sT\t1942 May 11\n\t\t\t-3:30\tCanada\tN%sT\t1946\n\t\t\t-3:30\tStJohns\tN%sT\t1966 Mar 15 2:00\n\t\t\t-4:00\tStJohns\tA%sT\nRule\tHalifax\t1916\tonly\t-\tApr\t 1\t0:00\t1:00\tD\nRule\tHalifax\t1916\tonly\t-\tOct\t 1\t0:00\t0\tS\nRule\tHalifax\t1920\tonly\t-\tMay\t 9\t0:00\t1:00\tD\nRule\tHalifax\t1920\tonly\t-\tAug\t29\t0:00\t0\tS\nRule\tHalifax\t1921\tonly\t-\tMay\t 6\t0:00\t1:00\tD\nRule\tHalifax\t1921\t1922\t-\tSep\t 5\t0:00\t0\tS\nRule\tHalifax\t1922\tonly\t-\tApr\t30\t0:00\t1:00\tD\nRule\tHalifax\t1923\t1925\t-\tMay\tSun\x3e\x3d1\t0:00\t1:00\tD\nRule\tHalifax\t1923\tonly\t-\tSep\t 4\t0:00\t0\tS\nRule\tHalifax\t1924\tonly\t-\tSep\t15\t0:00\t0\tS\nRule\tHalifax\t1925\tonly\t-\tSep\t28\t0:00\t0\tS\nRule\tHalifax\t1926\tonly\t-\tMay\t16\t0:00\t1:00\tD\nRule\tHalifax\t1926\tonly\t-\tSep\t13\t0:00\t0\tS\nRule\tHalifax\t1927\tonly\t-\tMay\t 1\t0:00\t1:00\tD\nRule\tHalifax\t1927\tonly\t-\tSep\t26\t0:00\t0\tS\nRule\tHalifax\t1928\t1931\t-\tMay\tSun\x3e\x3d8\t0:00\t1:00\tD\nRule\tHalifax\t1928\tonly\t-\tSep\t 9\t0:00\t0\tS\nRule\tHalifax\t1929\tonly\t-\tSep\t 3\t0:00\t0\tS\nRule\tHalifax\t1930\tonly\t-\tSep\t15\t0:00\t0\tS\nRule\tHalifax\t1931\t1932\t-\tSep\tMon\x3e\x3d24\t0:00\t0\tS\nRule\tHalifax\t1932\tonly\t-\tMay\t 1\t0:00\t1:00\tD\nRule\tHalifax\t1933\tonly\t-\tApr\t30\t0:00\t1:00\tD\nRule\tHalifax\t1933\tonly\t-\tOct\t 2\t0:00\t0\tS\nRule\tHalifax\t1934\tonly\t-\tMay\t20\t0:00\t1:00\tD\nRule\tHalifax\t1934\tonly\t-\tSep\t16\t0:00\t0\tS\nRule\tHalifax\t1935\tonly\t-\tJun\t 2\t0:00\t1:00\tD\nRule\tHalifax\t1935\tonly\t-\tSep\t30\t0:00\t0\tS\nRule\tHalifax\t1936\tonly\t-\tJun\t 1\t0:00\t1:00\tD\nRule\tHalifax\t1936\tonly\t-\tSep\t14\t0:00\t0\tS\nRule\tHalifax\t1937\t1938\t-\tMay\tSun\x3e\x3d1\t0:00\t1:00\tD\nRule\tHalifax\t1937\t1941\t-\tSep\tMon\x3e\x3d24\t0:00\t0\tS\nRule\tHalifax\t1939\tonly\t-\tMay\t28\t0:00\t1:00\tD\nRule\tHalifax\t1940\t1941\t-\tMay\tSun\x3e\x3d1\t0:00\t1:00\tD\nRule\tHalifax\t1946\t1949\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tHalifax\t1946\t1949\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tHalifax\t1951\t1954\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tHalifax\t1951\t1954\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tHalifax\t1956\t1959\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tHalifax\t1956\t1959\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tHalifax\t1962\t1973\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tHalifax\t1962\t1973\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Halifax\t-4:14:24 -\tLMT\t1902 Jun 15\n\t\t\t-4:00\tHalifax\tA%sT\t1918\n\t\t\t-4:00\tCanada\tA%sT\t1919\n\t\t\t-4:00\tHalifax\tA%sT\t1942 Feb  9 2:00s\n\t\t\t-4:00\tCanada\tA%sT\t1946\n\t\t\t-4:00\tHalifax\tA%sT\t1974\n\t\t\t-4:00\tCanada\tA%sT\nZone America/Glace_Bay\t-3:59:48 -\tLMT\t1902 Jun 15\n\t\t\t-4:00\tCanada\tA%sT\t1953\n\t\t\t-4:00\tHalifax\tA%sT\t1954\n\t\t\t-4:00\t-\tAST\t1972\n\t\t\t-4:00\tHalifax\tA%sT\t1974\n\t\t\t-4:00\tCanada\tA%sT\nRule\tMoncton\t1933\t1935\t-\tJun\tSun\x3e\x3d8\t1:00\t1:00\tD\nRule\tMoncton\t1933\t1935\t-\tSep\tSun\x3e\x3d8\t1:00\t0\tS\nRule\tMoncton\t1936\t1938\t-\tJun\tSun\x3e\x3d1\t1:00\t1:00\tD\nRule\tMoncton\t1936\t1938\t-\tSep\tSun\x3e\x3d1\t1:00\t0\tS\nRule\tMoncton\t1939\tonly\t-\tMay\t27\t1:00\t1:00\tD\nRule\tMoncton\t1939\t1941\t-\tSep\tSat\x3e\x3d21\t1:00\t0\tS\nRule\tMoncton\t1940\tonly\t-\tMay\t19\t1:00\t1:00\tD\nRule\tMoncton\t1941\tonly\t-\tMay\t 4\t1:00\t1:00\tD\nRule\tMoncton\t1946\t1972\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tMoncton\t1946\t1956\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tMoncton\t1957\t1972\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tMoncton\t1993\t2006\t-\tApr\tSun\x3e\x3d1\t0:01\t1:00\tD\nRule\tMoncton\t1993\t2006\t-\tOct\tlastSun\t0:01\t0\tS\nZone America/Moncton\t-4:19:08 -\tLMT\t1883 Dec  9\n\t\t\t-5:00\t-\tEST\t1902 Jun 15\n\t\t\t-4:00\tCanada\tA%sT\t1933\n\t\t\t-4:00\tMoncton\tA%sT\t1942\n\t\t\t-4:00\tCanada\tA%sT\t1946\n\t\t\t-4:00\tMoncton\tA%sT\t1973\n\t\t\t-4:00\tCanada\tA%sT\t1993\n\t\t\t-4:00\tMoncton\tA%sT\t2007\n\t\t\t-4:00\tCanada\tA%sT\nRule\tMont\t1917\tonly\t-\tMar\t25\t2:00\t1:00\tD\nRule\tMont\t1917\tonly\t-\tApr\t24\t0:00\t0\tS\nRule\tMont\t1919\tonly\t-\tMar\t31\t2:30\t1:00\tD\nRule\tMont\t1919\tonly\t-\tOct\t25\t2:30\t0\tS\nRule\tMont\t1920\tonly\t-\tMay\t 2\t2:30\t1:00\tD\nRule\tMont\t1920\t1922\t-\tOct\tSun\x3e\x3d1\t2:30\t0\tS\nRule\tMont\t1921\tonly\t-\tMay\t 1\t2:00\t1:00\tD\nRule\tMont\t1922\tonly\t-\tApr\t30\t2:00\t1:00\tD\nRule\tMont\t1924\tonly\t-\tMay\t17\t2:00\t1:00\tD\nRule\tMont\t1924\t1926\t-\tSep\tlastSun\t2:30\t0\tS\nRule\tMont\t1925\t1926\t-\tMay\tSun\x3e\x3d1\t2:00\t1:00\tD\nRule\tMont\t1927\tonly\t-\tMay\t1\t0:00\t1:00\tD\nRule\tMont\t1927\t1932\t-\tSep\tlastSun\t0:00\t0\tS\nRule\tMont\t1928\t1931\t-\tApr\tlastSun\t0:00\t1:00\tD\nRule\tMont\t1932\tonly\t-\tMay\t1\t0:00\t1:00\tD\nRule\tMont\t1933\t1940\t-\tApr\tlastSun\t0:00\t1:00\tD\nRule\tMont\t1933\tonly\t-\tOct\t1\t0:00\t0\tS\nRule\tMont\t1934\t1939\t-\tSep\tlastSun\t0:00\t0\tS\nRule\tMont\t1946\t1973\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tMont\t1945\t1948\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tMont\t1949\t1950\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tMont\t1951\t1956\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tMont\t1957\t1973\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Blanc-Sablon -3:48:28 -\tLMT\t1884\n\t\t\t-4:00\tCanada\tA%sT\t1970\n\t\t\t-4:00\t-\tAST\nZone America/Montreal\t-4:54:16 -\tLMT\t1884\n\t\t\t-5:00\tMont\tE%sT\t1918\n\t\t\t-5:00\tCanada\tE%sT\t1919\n\t\t\t-5:00\tMont\tE%sT\t1942 Feb  9 2:00s\n\t\t\t-5:00\tCanada\tE%sT\t1946\n\t\t\t-5:00\tMont\tE%sT\t1974\n\t\t\t-5:00\tCanada\tE%sT\nRule\tToronto\t1919\tonly\t-\tMar\t30\t23:30\t1:00\tD\nRule\tToronto\t1919\tonly\t-\tOct\t26\t0:00\t0\tS\nRule\tToronto\t1920\tonly\t-\tMay\t 2\t2:00\t1:00\tD\nRule\tToronto\t1920\tonly\t-\tSep\t26\t0:00\t0\tS\nRule\tToronto\t1921\tonly\t-\tMay\t15\t2:00\t1:00\tD\nRule\tToronto\t1921\tonly\t-\tSep\t15\t2:00\t0\tS\nRule\tToronto\t1922\t1923\t-\tMay\tSun\x3e\x3d8\t2:00\t1:00\tD\nRule\tToronto\t1922\t1926\t-\tSep\tSun\x3e\x3d15\t2:00\t0\tS\nRule\tToronto\t1924\t1927\t-\tMay\tSun\x3e\x3d1\t2:00\t1:00\tD\nRule\tToronto\t1927\t1932\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tToronto\t1928\t1931\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tToronto\t1932\tonly\t-\tMay\t1\t2:00\t1:00\tD\nRule\tToronto\t1933\t1940\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tToronto\t1933\tonly\t-\tOct\t1\t2:00\t0\tS\nRule\tToronto\t1934\t1939\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tToronto\t1945\t1946\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tToronto\t1946\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tToronto\t1947\t1949\t-\tApr\tlastSun\t0:00\t1:00\tD\nRule\tToronto\t1947\t1948\t-\tSep\tlastSun\t0:00\t0\tS\nRule\tToronto\t1949\tonly\t-\tNov\tlastSun\t0:00\t0\tS\nRule\tToronto\t1950\t1973\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tToronto\t1950\tonly\t-\tNov\tlastSun\t2:00\t0\tS\nRule\tToronto\t1951\t1956\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tToronto\t1957\t1973\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Toronto\t-5:17:32 -\tLMT\t1895\n\t\t\t-5:00\tCanada\tE%sT\t1919\n\t\t\t-5:00\tToronto\tE%sT\t1942 Feb  9 2:00s\n\t\t\t-5:00\tCanada\tE%sT\t1946\n\t\t\t-5:00\tToronto\tE%sT\t1974\n\t\t\t-5:00\tCanada\tE%sT\nZone America/Thunder_Bay -5:57:00 -\tLMT\t1895\n\t\t\t-6:00\t-\tCST\t1910\n\t\t\t-5:00\t-\tEST\t1942\n\t\t\t-5:00\tCanada\tE%sT\t1970\n\t\t\t-5:00\tMont\tE%sT\t1973\n\t\t\t-5:00\t-\tEST\t1974\n\t\t\t-5:00\tCanada\tE%sT\nZone America/Nipigon\t-5:53:04 -\tLMT\t1895\n\t\t\t-5:00\tCanada\tE%sT\t1940 Sep 29\n\t\t\t-5:00\t1:00\tEDT\t1942 Feb  9 2:00s\n\t\t\t-5:00\tCanada\tE%sT\nZone America/Rainy_River -6:18:16 -\tLMT\t1895\n\t\t\t-6:00\tCanada\tC%sT\t1940 Sep 29\n\t\t\t-6:00\t1:00\tCDT\t1942 Feb  9 2:00s\n\t\t\t-6:00\tCanada\tC%sT\nZone America/Atikokan\t-6:06:28 -\tLMT\t1895\n\t\t\t-6:00\tCanada\tC%sT\t1940 Sep 29\n\t\t\t-6:00\t1:00\tCDT\t1942 Feb  9 2:00s\n\t\t\t-6:00\tCanada\tC%sT\t1945 Sep 30 2:00\n\t\t\t-5:00\t-\tEST\nRule\tWinn\t1916\tonly\t-\tApr\t23\t0:00\t1:00\tD\nRule\tWinn\t1916\tonly\t-\tSep\t17\t0:00\t0\tS\nRule\tWinn\t1918\tonly\t-\tApr\t14\t2:00\t1:00\tD\nRule\tWinn\t1918\tonly\t-\tOct\t31\t2:00\t0\tS\nRule\tWinn\t1937\tonly\t-\tMay\t16\t2:00\t1:00\tD\nRule\tWinn\t1937\tonly\t-\tSep\t26\t2:00\t0\tS\nRule\tWinn\t1942\tonly\t-\tFeb\t 9\t2:00\t1:00\tW # War\nRule\tWinn\t1945\tonly\t-\tAug\t14\t23:00u\t1:00\tP # Peace\nRule\tWinn\t1945\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tWinn\t1946\tonly\t-\tMay\t12\t2:00\t1:00\tD\nRule\tWinn\t1946\tonly\t-\tOct\t13\t2:00\t0\tS\nRule\tWinn\t1947\t1949\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tWinn\t1947\t1949\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tWinn\t1950\tonly\t-\tMay\t 1\t2:00\t1:00\tD\nRule\tWinn\t1950\tonly\t-\tSep\t30\t2:00\t0\tS\nRule\tWinn\t1951\t1960\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tWinn\t1951\t1958\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tWinn\t1959\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tWinn\t1960\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tWinn\t1963\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tWinn\t1963\tonly\t-\tSep\t22\t2:00\t0\tS\nRule\tWinn\t1966\t1986\t-\tApr\tlastSun\t2:00s\t1:00\tD\nRule\tWinn\t1966\t2005\t-\tOct\tlastSun\t2:00s\t0\tS\nRule\tWinn\t1987\t2005\t-\tApr\tSun\x3e\x3d1\t2:00s\t1:00\tD\nZone America/Winnipeg\t-6:28:36 -\tLMT\t1887 Jul 16\n\t\t\t-6:00\tWinn\tC%sT\t2006\n\t\t\t-6:00\tCanada\tC%sT\nRule\tRegina\t1918\tonly\t-\tApr\t14\t2:00\t1:00\tD\nRule\tRegina\t1918\tonly\t-\tOct\t31\t2:00\t0\tS\nRule\tRegina\t1930\t1934\t-\tMay\tSun\x3e\x3d1\t0:00\t1:00\tD\nRule\tRegina\t1930\t1934\t-\tOct\tSun\x3e\x3d1\t0:00\t0\tS\nRule\tRegina\t1937\t1941\t-\tApr\tSun\x3e\x3d8\t0:00\t1:00\tD\nRule\tRegina\t1937\tonly\t-\tOct\tSun\x3e\x3d8\t0:00\t0\tS\nRule\tRegina\t1938\tonly\t-\tOct\tSun\x3e\x3d1\t0:00\t0\tS\nRule\tRegina\t1939\t1941\t-\tOct\tSun\x3e\x3d8\t0:00\t0\tS\nRule\tRegina\t1942\tonly\t-\tFeb\t 9\t2:00\t1:00\tW # War\nRule\tRegina\t1945\tonly\t-\tAug\t14\t23:00u\t1:00\tP # Peace\nRule\tRegina\t1945\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tRegina\t1946\tonly\t-\tApr\tSun\x3e\x3d8\t2:00\t1:00\tD\nRule\tRegina\t1946\tonly\t-\tOct\tSun\x3e\x3d8\t2:00\t0\tS\nRule\tRegina\t1947\t1957\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tRegina\t1947\t1957\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tRegina\t1959\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tRegina\t1959\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tSwift\t1957\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tSwift\t1957\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tSwift\t1959\t1961\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tSwift\t1959\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tSwift\t1960\t1961\t-\tSep\tlastSun\t2:00\t0\tS\nZone America/Regina\t-6:58:36 -\tLMT\t1905 Sep\n\t\t\t-7:00\tRegina\tM%sT\t1960 Apr lastSun 2:00\n\t\t\t-6:00\t-\tCST\nZone America/Swift_Current -7:11:20 -\tLMT\t1905 Sep\n\t\t\t-7:00\tCanada\tM%sT\t1946 Apr lastSun 2:00\n\t\t\t-7:00\tRegina\tM%sT\t1950\n\t\t\t-7:00\tSwift\tM%sT\t1972 Apr lastSun 2:00\n\t\t\t-6:00\t-\tCST\nRule\tEdm\t1918\t1919\t-\tApr\tSun\x3e\x3d8\t2:00\t1:00\tD\nRule\tEdm\t1918\tonly\t-\tOct\t31\t2:00\t0\tS\nRule\tEdm\t1919\tonly\t-\tMay\t27\t2:00\t0\tS\nRule\tEdm\t1920\t1923\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tEdm\t1920\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tEdm\t1921\t1923\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tEdm\t1942\tonly\t-\tFeb\t 9\t2:00\t1:00\tW # War\nRule\tEdm\t1945\tonly\t-\tAug\t14\t23:00u\t1:00\tP # Peace\nRule\tEdm\t1945\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tEdm\t1947\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tEdm\t1947\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tEdm\t1967\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tEdm\t1967\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tEdm\t1969\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tEdm\t1969\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tEdm\t1972\t1986\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tEdm\t1972\t2006\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Edmonton\t-7:33:52 -\tLMT\t1906 Sep\n\t\t\t-7:00\tEdm\tM%sT\t1987\n\t\t\t-7:00\tCanada\tM%sT\nRule\tVanc\t1918\tonly\t-\tApr\t14\t2:00\t1:00\tD\nRule\tVanc\t1918\tonly\t-\tOct\t31\t2:00\t0\tS\nRule\tVanc\t1942\tonly\t-\tFeb\t 9\t2:00\t1:00\tW # War\nRule\tVanc\t1945\tonly\t-\tAug\t14\t23:00u\t1:00\tP # Peace\nRule\tVanc\t1945\tonly\t-\tSep\t30\t2:00\t0\tS\nRule\tVanc\t1946\t1986\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tVanc\t1946\tonly\t-\tOct\t13\t2:00\t0\tS\nRule\tVanc\t1947\t1961\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tVanc\t1962\t2006\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Vancouver\t-8:12:28 -\tLMT\t1884\n\t\t\t-8:00\tVanc\tP%sT\t1987\n\t\t\t-8:00\tCanada\tP%sT\nZone America/Dawson_Creek -8:00:56 -\tLMT\t1884\n\t\t\t-8:00\tCanada\tP%sT\t1947\n\t\t\t-8:00\tVanc\tP%sT\t1972 Aug 30 2:00\n\t\t\t-7:00\t-\tMST\nRule\tNT_YK\t1918\tonly\t-\tApr\t14\t2:00\t1:00\tD\nRule\tNT_YK\t1918\tonly\t-\tOct\t27\t2:00\t0\tS\nRule\tNT_YK\t1919\tonly\t-\tMay\t25\t2:00\t1:00\tD\nRule\tNT_YK\t1919\tonly\t-\tNov\t 1\t0:00\t0\tS\nRule\tNT_YK\t1942\tonly\t-\tFeb\t 9\t2:00\t1:00\tW # War\nRule\tNT_YK\t1945\tonly\t-\tAug\t14\t23:00u\t1:00\tP # Peace\nRule\tNT_YK\t1945\tonly\t-\tSep\t30\t2:00\t0\tS\nRule\tNT_YK\t1965\tonly\t-\tApr\tlastSun\t0:00\t2:00\tDD\nRule\tNT_YK\t1965\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tNT_YK\t1980\t1986\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tNT_YK\t1980\t2006\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tNT_YK\t1987\t2006\t-\tApr\tSun\x3e\x3d1\t2:00\t1:00\tD\nZone America/Pangnirtung 0\t-\tzzz\t1921 # trading post est.\n\t\t\t-4:00\tNT_YK\tA%sT\t1995 Apr Sun\x3e\x3d1 2:00\n\t\t\t-5:00\tCanada\tE%sT\t1999 Oct 31 2:00\n\t\t\t-6:00\tCanada\tC%sT\t2000 Oct 29 2:00\n\t\t\t-5:00\tCanada\tE%sT\nZone America/Iqaluit\t0\t-\tzzz\t1942 Aug # Frobisher Bay est.\n\t\t\t-5:00\tNT_YK\tE%sT\t1999 Oct 31 2:00\n\t\t\t-6:00\tCanada\tC%sT\t2000 Oct 29 2:00\n\t\t\t-5:00\tCanada\tE%sT\nRule\tResolute 2006\tmax\t-\tNov\tSun\x3e\x3d1\t2:00\t0\tES\nRule\tResolute 2007\tmax\t-\tMar\tSun\x3e\x3d8\t2:00\t0\tCD\nZone America/Resolute\t0\t-\tzzz\t1947 Aug 31 # Resolute founded\n\t\t\t-6:00\tNT_YK\tC%sT\t2000 Oct 29 2:00\n\t\t\t-5:00\t-\tEST\t2001 Apr  1 3:00\n\t\t\t-6:00\tCanada\tC%sT\t2006 Oct 29 2:00\n\t\t\t-5:00\tResolute\t%sT\nZone America/Rankin_Inlet 0\t-\tzzz\t1957 # Rankin Inlet founded\n\t\t\t-6:00\tNT_YK\tC%sT\t2000 Oct 29 2:00\n\t\t\t-5:00\t-\tEST\t2001 Apr  1 3:00\n\t\t\t-6:00\tCanada\tC%sT\nZone America/Cambridge_Bay 0\t-\tzzz\t1920 # trading post est.?\n\t\t\t-7:00\tNT_YK\tM%sT\t1999 Oct 31 2:00\n\t\t\t-6:00\tCanada\tC%sT\t2000 Oct 29 2:00\n\t\t\t-5:00\t-\tEST\t2000 Nov  5 0:00\n\t\t\t-6:00\t-\tCST\t2001 Apr  1 3:00\n\t\t\t-7:00\tCanada\tM%sT\nZone America/Yellowknife 0\t-\tzzz\t1935 # Yellowknife founded?\n\t\t\t-7:00\tNT_YK\tM%sT\t1980\n\t\t\t-7:00\tCanada\tM%sT\nZone America/Inuvik\t0\t-\tzzz\t1953 # Inuvik founded\n\t\t\t-8:00\tNT_YK\tP%sT\t1979 Apr lastSun 2:00\n\t\t\t-7:00\tNT_YK\tM%sT\t1980\n\t\t\t-7:00\tCanada\tM%sT\nZone America/Whitehorse\t-9:00:12 -\tLMT\t1900 Aug 20\n\t\t\t-9:00\tNT_YK\tY%sT\t1966 Jul 1 2:00\n\t\t\t-8:00\tNT_YK\tP%sT\t1980\n\t\t\t-8:00\tCanada\tP%sT\nZone America/Dawson\t-9:17:40 -\tLMT\t1900 Aug 20\n\t\t\t-9:00\tNT_YK\tY%sT\t1973 Oct 28 0:00\n\t\t\t-8:00\tNT_YK\tP%sT\t1980\n\t\t\t-8:00\tCanada\tP%sT\nRule\tMexico\t1939\tonly\t-\tFeb\t5\t0:00\t1:00\tD\nRule\tMexico\t1939\tonly\t-\tJun\t25\t0:00\t0\tS\nRule\tMexico\t1940\tonly\t-\tDec\t9\t0:00\t1:00\tD\nRule\tMexico\t1941\tonly\t-\tApr\t1\t0:00\t0\tS\nRule\tMexico\t1943\tonly\t-\tDec\t16\t0:00\t1:00\tW # War\nRule\tMexico\t1944\tonly\t-\tMay\t1\t0:00\t0\tS\nRule\tMexico\t1950\tonly\t-\tFeb\t12\t0:00\t1:00\tD\nRule\tMexico\t1950\tonly\t-\tJul\t30\t0:00\t0\tS\nRule\tMexico\t1996\t2000\t-\tApr\tSun\x3e\x3d1\t2:00\t1:00\tD\nRule\tMexico\t1996\t2000\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tMexico\t2001\tonly\t-\tMay\tSun\x3e\x3d1\t2:00\t1:00\tD\nRule\tMexico\t2001\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tMexico\t2002\tmax\t-\tApr\tSun\x3e\x3d1\t2:00\t1:00\tD\nRule\tMexico\t2002\tmax\t-\tOct\tlastSun\t2:00\t0\tS\nZone America/Cancun\t-5:47:04 -\tLMT\t1922 Jan  1  0:12:56\n\t\t\t-6:00\t-\tCST\t1981 Dec 23\n\t\t\t-5:00\tMexico\tE%sT\t1998 Aug  2  2:00\n\t\t\t-6:00\tMexico\tC%sT\nZone America/Merida\t-5:58:28 -\tLMT\t1922 Jan  1  0:01:32\n\t\t\t-6:00\t-\tCST\t1981 Dec 23\n\t\t\t-5:00\t-\tEST\t1982 Dec  2\n\t\t\t-6:00\tMexico\tC%sT\nZone America/Monterrey\t-6:41:16 -\tLMT\t1921 Dec 31 23:18:44\n\t\t\t-6:00\t-\tCST\t1988\n\t\t\t-6:00\tUS\tC%sT\t1989\n\t\t\t-6:00\tMexico\tC%sT\nZone America/Mexico_City -6:36:36 -\tLMT\t1922 Jan  1  0:23:24\n\t\t\t-7:00\t-\tMST\t1927 Jun 10 23:00\n\t\t\t-6:00\t-\tCST\t1930 Nov 15\n\t\t\t-7:00\t-\tMST\t1931 May  1 23:00\n\t\t\t-6:00\t-\tCST\t1931 Oct\n\t\t\t-7:00\t-\tMST\t1932 Apr  1\n\t\t\t-6:00\tMexico\tC%sT\t2001 Sep 30 02:00\n\t\t\t-6:00\t-\tCST\t2002 Feb 20\n\t\t\t-6:00\tMexico\tC%sT\nZone America/Chihuahua\t-7:04:20 -\tLMT\t1921 Dec 31 23:55:40\n\t\t\t-7:00\t-\tMST\t1927 Jun 10 23:00\n\t\t\t-6:00\t-\tCST\t1930 Nov 15\n\t\t\t-7:00\t-\tMST\t1931 May  1 23:00\n\t\t\t-6:00\t-\tCST\t1931 Oct\n\t\t\t-7:00\t-\tMST\t1932 Apr  1\n\t\t\t-6:00\t-\tCST\t1996\n\t\t\t-6:00\tMexico\tC%sT\t1998\n\t\t\t-6:00\t-\tCST\t1998 Apr Sun\x3e\x3d1 3:00\n\t\t\t-7:00\tMexico\tM%sT\nZone America/Hermosillo\t-7:23:52 -\tLMT\t1921 Dec 31 23:36:08\n\t\t\t-7:00\t-\tMST\t1927 Jun 10 23:00\n\t\t\t-6:00\t-\tCST\t1930 Nov 15\n\t\t\t-7:00\t-\tMST\t1931 May  1 23:00\n\t\t\t-6:00\t-\tCST\t1931 Oct\n\t\t\t-7:00\t-\tMST\t1932 Apr  1\n\t\t\t-6:00\t-\tCST\t1942 Apr 24\n\t\t\t-7:00\t-\tMST\t1949 Jan 14\n\t\t\t-8:00\t-\tPST\t1970\n\t\t\t-7:00\tMexico\tM%sT\t1999\n\t\t\t-7:00\t-\tMST\nZone America/Mazatlan\t-7:05:40 -\tLMT\t1921 Dec 31 23:54:20\n\t\t\t-7:00\t-\tMST\t1927 Jun 10 23:00\n\t\t\t-6:00\t-\tCST\t1930 Nov 15\n\t\t\t-7:00\t-\tMST\t1931 May  1 23:00\n\t\t\t-6:00\t-\tCST\t1931 Oct\n\t\t\t-7:00\t-\tMST\t1932 Apr  1\n\t\t\t-6:00\t-\tCST\t1942 Apr 24\n\t\t\t-7:00\t-\tMST\t1949 Jan 14\n\t\t\t-8:00\t-\tPST\t1970\n\t\t\t-7:00\tMexico\tM%sT\nZone America/Tijuana\t-7:48:04 -\tLMT\t1922 Jan  1  0:11:56\n\t\t\t-7:00\t-\tMST\t1924\n\t\t\t-8:00\t-\tPST\t1927 Jun 10 23:00\n\t\t\t-7:00\t-\tMST\t1930 Nov 15\n\t\t\t-8:00\t-\tPST\t1931 Apr  1\n\t\t\t-8:00\t1:00\tPDT\t1931 Sep 30\n\t\t\t-8:00\t-\tPST\t1942 Apr 24\n\t\t\t-8:00\t1:00\tPWT\t1945 Aug 14 23:00u\n\t\t\t-8:00\t1:00\tPPT\t1945 Nov 12 # Peace\n\t\t\t-8:00\t-\tPST\t1948 Apr  5\n\t\t\t-8:00\t1:00\tPDT\t1949 Jan 14\n\t\t\t-8:00\t-\tPST\t1954\n\t\t\t-8:00\tCA\tP%sT\t1961\n\t\t\t-8:00\t-\tPST\t1976\n\t\t\t-8:00\tUS\tP%sT\t1996\n\t\t\t-8:00\tMexico\tP%sT\t2001\n\t\t\t-8:00\tUS\tP%sT\t2002 Feb 20\n\t\t\t-8:00\tMexico\tP%sT\nZone America/Anguilla\t-4:12:16 -\tLMT\t1912 Mar 2\n\t\t\t-4:00\t-\tAST\nZone\tAmerica/Antigua\t-4:07:12 -\tLMT\t1912 Mar 2\n\t\t\t-5:00\t-\tEST\t1951\n\t\t\t-4:00\t-\tAST\nRule\tBahamas\t1964\t1975\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tBahamas\t1964\t1975\t-\tApr\tlastSun\t2:00\t1:00\tD\nZone\tAmerica/Nassau\t-5:09:24 -\tLMT\t1912 Mar 2\n\t\t\t-5:00\tBahamas\tE%sT\t1976\n\t\t\t-5:00\tUS\tE%sT\nRule\tBarb\t1977\tonly\t-\tJun\t12\t2:00\t1:00\tD\nRule\tBarb\t1977\t1978\t-\tOct\tSun\x3e\x3d1\t2:00\t0\tS\nRule\tBarb\t1978\t1980\t-\tApr\tSun\x3e\x3d15\t2:00\t1:00\tD\nRule\tBarb\t1979\tonly\t-\tSep\t30\t2:00\t0\tS\nRule\tBarb\t1980\tonly\t-\tSep\t25\t2:00\t0\tS\nZone America/Barbados\t-3:58:28 -\tLMT\t1924\t\t# Bridgetown\n\t\t\t-3:58:28 -\tBMT\t1932\t  # Bridgetown Mean Time\n\t\t\t-4:00\tBarb\tA%sT\nRule\tBelize\t1918\t1942\t-\tOct\tSun\x3e\x3d2\t0:00\t0:30\tHD\nRule\tBelize\t1919\t1943\t-\tFeb\tSun\x3e\x3d9\t0:00\t0\tS\nRule\tBelize\t1973\tonly\t-\tDec\t 5\t0:00\t1:00\tD\nRule\tBelize\t1974\tonly\t-\tFeb\t 9\t0:00\t0\tS\nRule\tBelize\t1982\tonly\t-\tDec\t18\t0:00\t1:00\tD\nRule\tBelize\t1983\tonly\t-\tFeb\t12\t0:00\t0\tS\nZone\tAmerica/Belize\t-5:52:48 -\tLMT\t1912 Apr\n\t\t\t-6:00\tBelize\tC%sT\nZone Atlantic/Bermuda\t-4:19:04 -\tLMT\t1930 Jan  1 2:00    # Hamilton\n\t\t\t-4:00\t-\tAST\t1974 Apr 28 2:00\n\t\t\t-4:00\tBahamas\tA%sT\t1976\n\t\t\t-4:00\tUS\tA%sT\nZone\tAmerica/Cayman\t-5:25:32 -\tLMT\t1890\t\t# Georgetown\n\t\t\t-5:07:12 -\tKMT\t1912 Feb    # Kingston Mean Time\n\t\t\t-5:00\t-\tEST\nRule\tCR\t1979\t1980\t-\tFeb\tlastSun\t0:00\t1:00\tD\nRule\tCR\t1979\t1980\t-\tJun\tSun\x3e\x3d1\t0:00\t0\tS\nRule\tCR\t1991\t1992\t-\tJan\tSat\x3e\x3d15\t0:00\t1:00\tD\nRule\tCR\t1991\tonly\t-\tJul\t 1\t0:00\t0\tS\nRule\tCR\t1992\tonly\t-\tMar\t15\t0:00\t0\tS\nZone America/Costa_Rica\t-5:36:20 -\tLMT\t1890\t\t# San Jose\n\t\t\t-5:36:20 -\tSJMT\t1921 Jan 15 # San Jose Mean Time\n\t\t\t-6:00\tCR\tC%sT\nRule\tCuba\t1928\tonly\t-\tJun\t10\t0:00\t1:00\tD\nRule\tCuba\t1928\tonly\t-\tOct\t10\t0:00\t0\tS\nRule\tCuba\t1940\t1942\t-\tJun\tSun\x3e\x3d1\t0:00\t1:00\tD\nRule\tCuba\t1940\t1942\t-\tSep\tSun\x3e\x3d1\t0:00\t0\tS\nRule\tCuba\t1945\t1946\t-\tJun\tSun\x3e\x3d1\t0:00\t1:00\tD\nRule\tCuba\t1945\t1946\t-\tSep\tSun\x3e\x3d1\t0:00\t0\tS\nRule\tCuba\t1965\tonly\t-\tJun\t1\t0:00\t1:00\tD\nRule\tCuba\t1965\tonly\t-\tSep\t30\t0:00\t0\tS\nRule\tCuba\t1966\tonly\t-\tMay\t29\t0:00\t1:00\tD\nRule\tCuba\t1966\tonly\t-\tOct\t2\t0:00\t0\tS\nRule\tCuba\t1967\tonly\t-\tApr\t8\t0:00\t1:00\tD\nRule\tCuba\t1967\t1968\t-\tSep\tSun\x3e\x3d8\t0:00\t0\tS\nRule\tCuba\t1968\tonly\t-\tApr\t14\t0:00\t1:00\tD\nRule\tCuba\t1969\t1977\t-\tApr\tlastSun\t0:00\t1:00\tD\nRule\tCuba\t1969\t1971\t-\tOct\tlastSun\t0:00\t0\tS\nRule\tCuba\t1972\t1974\t-\tOct\t8\t0:00\t0\tS\nRule\tCuba\t1975\t1977\t-\tOct\tlastSun\t0:00\t0\tS\nRule\tCuba\t1978\tonly\t-\tMay\t7\t0:00\t1:00\tD\nRule\tCuba\t1978\t1990\t-\tOct\tSun\x3e\x3d8\t0:00\t0\tS\nRule\tCuba\t1979\t1980\t-\tMar\tSun\x3e\x3d15\t0:00\t1:00\tD\nRule\tCuba\t1981\t1985\t-\tMay\tSun\x3e\x3d5\t0:00\t1:00\tD\nRule\tCuba\t1986\t1989\t-\tMar\tSun\x3e\x3d14\t0:00\t1:00\tD\nRule\tCuba\t1990\t1997\t-\tApr\tSun\x3e\x3d1\t0:00\t1:00\tD\nRule\tCuba\t1991\t1995\t-\tOct\tSun\x3e\x3d8\t0:00s\t0\tS\nRule\tCuba\t1996\tonly\t-\tOct\t 6\t0:00s\t0\tS\nRule\tCuba\t1997\tonly\t-\tOct\t12\t0:00s\t0\tS\nRule\tCuba\t1998\t1999\t-\tMar\tlastSun\t0:00s\t1:00\tD\nRule\tCuba\t1998\t2003\t-\tOct\tlastSun\t0:00s\t0\tS\nRule\tCuba\t2000\t2004\t-\tApr\tSun\x3e\x3d1\t0:00s\t1:00\tD\nRule\tCuba\t2006\tmax\t-\tOct\tlastSun\t0:00s\t0\tS\nRule\tCuba\t2007\tonly\t-\tMar\tSun\x3e\x3d8\t0:00s\t1:00\tD\nRule\tCuba\t2008\tonly\t-\tMar\tSun\x3e\x3d15\t0:00s\t1:00\tD\nRule\tCuba\t2009\tmax\t-\tMar\tSun\x3e\x3d8\t0:00s\t1:00\tD\nZone\tAmerica/Havana\t-5:29:28 -\tLMT\t1890\n\t\t\t-5:29:36 -\tHMT\t1925 Jul 19 12:00 # Havana MT\n\t\t\t-5:00\tCuba\tC%sT\nZone America/Dominica\t-4:05:36 -\tLMT\t1911 Jul 1 0:01\t\t# Roseau\n\t\t\t-4:00\t-\tAST\nRule\tDR\t1966\tonly\t-\tOct\t30\t0:00\t1:00\tD\nRule\tDR\t1967\tonly\t-\tFeb\t28\t0:00\t0\tS\nRule\tDR\t1969\t1973\t-\tOct\tlastSun\t0:00\t0:30\tHD\nRule\tDR\t1970\tonly\t-\tFeb\t21\t0:00\t0\tS\nRule\tDR\t1971\tonly\t-\tJan\t20\t0:00\t0\tS\nRule\tDR\t1972\t1974\t-\tJan\t21\t0:00\t0\tS\nZone America/Santo_Domingo -4:39:36 -\tLMT\t1890\n\t\t\t-4:40\t-\tSDMT\t1933 Apr  1 12:00 # S. Dom. MT\n\t\t\t-5:00\tDR\tE%sT\t1974 Oct 27\n\t\t\t-4:00\t-\tAST\t2000 Oct 29 02:00\n\t\t\t-5:00\tUS\tE%sT\t2000 Dec  3 01:00\n\t\t\t-4:00\t-\tAST\nRule\tSalv\t1987\t1988\t-\tMay\tSun\x3e\x3d1\t0:00\t1:00\tD\nRule\tSalv\t1987\t1988\t-\tSep\tlastSun\t0:00\t0\tS\nZone America/El_Salvador -5:56:48 -\tLMT\t1921\t\t# San Salvador\n\t\t\t-6:00\tSalv\tC%sT\nZone\tAmerica/Grenada\t-4:07:00 -\tLMT\t1911 Jul\t# St George's\n\t\t\t-4:00\t-\tAST\nZone America/Guadeloupe\t-4:06:08 -\tLMT\t1911 Jun 8\t# Pointe a Pitre\n\t\t\t-4:00\t-\tAST\nLink America/Guadeloupe\tAmerica/St_Barthelemy\nLink America/Guadeloupe\tAmerica/Marigot\nRule\tGuat\t1973\tonly\t-\tNov\t25\t0:00\t1:00\tD\nRule\tGuat\t1974\tonly\t-\tFeb\t24\t0:00\t0\tS\nRule\tGuat\t1983\tonly\t-\tMay\t21\t0:00\t1:00\tD\nRule\tGuat\t1983\tonly\t-\tSep\t22\t0:00\t0\tS\nRule\tGuat\t1991\tonly\t-\tMar\t23\t0:00\t1:00\tD\nRule\tGuat\t1991\tonly\t-\tSep\t 7\t0:00\t0\tS\nRule\tGuat\t2006\tonly\t-\tApr\t30\t0:00\t1:00\tD\nRule\tGuat\t2006\tonly\t-\tOct\t 1\t0:00\t0\tS\nZone America/Guatemala\t-6:02:04 -\tLMT\t1918 Oct 5\n\t\t\t-6:00\tGuat\tC%sT\nRule\tHaiti\t1983\tonly\t-\tMay\t8\t0:00\t1:00\tD\nRule\tHaiti\t1984\t1987\t-\tApr\tlastSun\t0:00\t1:00\tD\nRule\tHaiti\t1983\t1987\t-\tOct\tlastSun\t0:00\t0\tS\nRule\tHaiti\t1988\t1997\t-\tApr\tSun\x3e\x3d1\t1:00s\t1:00\tD\nRule\tHaiti\t1988\t1997\t-\tOct\tlastSun\t1:00s\t0\tS\nRule\tHaiti\t2005\t2006\t-\tApr\tSun\x3e\x3d1\t0:00\t1:00\tD\nRule\tHaiti\t2005\t2006\t-\tOct\tlastSun\t0:00\t0\tS\nZone America/Port-au-Prince -4:49:20 -\tLMT\t1890\n\t\t\t-4:49\t-\tPPMT\t1917 Jan 24 12:00 # P-a-P MT\n\t\t\t-5:00\tHaiti\tE%sT\nRule\tHond\t1987\t1988\t-\tMay\tSun\x3e\x3d1\t0:00\t1:00\tD\nRule\tHond\t1987\t1988\t-\tSep\tlastSun\t0:00\t0\tS\nRule\tHond\t2006\tonly\t-\tMay\tSun\x3e\x3d1\t0:00\t1:00\tD\nRule\tHond\t2006\tonly\t-\tAug\tMon\x3e\x3d1\t0:00\t0\tS\nZone America/Tegucigalpa -5:48:52 -\tLMT\t1921 Apr\n\t\t\t-6:00\tHond\tC%sT\nZone\tAmerica/Jamaica\t-5:07:12 -\tLMT\t1890\t\t# Kingston\n\t\t\t-5:07:12 -\tKMT\t1912 Feb    # Kingston Mean Time\n\t\t\t-5:00\t-\tEST\t1974 Apr 28 2:00\n\t\t\t-5:00\tUS\tE%sT\t1984\n\t\t\t-5:00\t-\tEST\nZone America/Martinique\t-4:04:20 -      LMT\t1890\t\t# Fort-de-France\n\t\t\t-4:04:20 -\tFFMT\t1911 May     # Fort-de-France MT\n\t\t\t-4:00\t-\tAST\t1980 Apr  6\n\t\t\t-4:00\t1:00\tADT\t1980 Sep 28\n\t\t\t-4:00\t-\tAST\nZone America/Montserrat\t-4:08:52 -\tLMT\t1911 Jul 1 0:01   # Cork Hill\n\t\t\t-4:00\t-\tAST\nRule\tNic\t1979\t1980\t-\tMar\tSun\x3e\x3d16\t0:00\t1:00\tD\nRule\tNic\t1979\t1980\t-\tJun\tMon\x3e\x3d23\t0:00\t0\tS\nRule\tNic\t2005\tonly\t-\tApr\t10\t0:00\t1:00\tD\nRule\tNic\t2005\tonly\t-\tOct\tSun\x3e\x3d1\t0:00\t0\tS\nRule\tNic\t2006\tonly\t-\tApr\t30\t2:00\t1:00\tD\nRule\tNic\t2006\tonly\t-\tOct\tSun\x3e\x3d1\t1:00\t0\tS\nZone\tAmerica/Managua\t-5:45:08 -\tLMT\t1890\n\t\t\t-5:45:12 -\tMMT\t1934 Jun 23 # Managua Mean Time?\n\t\t\t-6:00\t-\tCST\t1973 May\n\t\t\t-5:00\t-\tEST\t1975 Feb 16\n\t\t\t-6:00\tNic\tC%sT\t1992 Jan  1 4:00\n\t\t\t-5:00\t-\tEST\t1992 Sep 24\n\t\t\t-6:00\t-\tCST\t1993\n\t\t\t-5:00\t-\tEST\t1997\n\t\t\t-6:00\tNic\tC%sT\nZone\tAmerica/Panama\t-5:18:08 -\tLMT\t1890\n\t\t\t-5:19:36 -\tCMT\t1908 Apr 22   # Colon Mean Time\n\t\t\t-5:00\t-\tEST\nZone America/Puerto_Rico -4:24:25 -\tLMT\t1899 Mar 28 12:00    # San Juan\n\t\t\t-4:00\t-\tAST\t1942 May  3\n\t\t\t-4:00\tUS\tA%sT\t1946\n\t\t\t-4:00\t-\tAST\nZone America/St_Kitts\t-4:10:52 -\tLMT\t1912 Mar 2\t# Basseterre\n\t\t\t-4:00\t-\tAST\nZone America/St_Lucia\t-4:04:00 -\tLMT\t1890\t\t# Castries\n\t\t\t-4:04:00 -\tCMT\t1912\t    # Castries Mean Time\n\t\t\t-4:00\t-\tAST\nZone America/Miquelon\t-3:44:40 -\tLMT\t1911 May 15\t# St Pierre\n\t\t\t-4:00\t-\tAST\t1980 May\n\t\t\t-3:00\t-\tPMST\t1987 # Pierre \x26 Miquelon Time\n\t\t\t-3:00\tCanada\tPM%sT\nZone America/St_Vincent\t-4:04:56 -\tLMT\t1890\t\t# Kingstown\n\t\t\t-4:04:56 -\tKMT\t1912\t   # Kingstown Mean Time\n\t\t\t-4:00\t-\tAST\nRule\tTC\t1979\t1986\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tTC\t1979\t2006\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tTC\t1987\t2006\t-\tApr\tSun\x3e\x3d1\t2:00\t1:00\tD\nRule\tTC\t2007\tmax\t-\tMar\tSun\x3e\x3d8\t2:00\t1:00\tD\nRule\tTC\t2007\tmax\t-\tNov\tSun\x3e\x3d1\t2:00\t0\tS\nZone America/Grand_Turk\t-4:44:32 -\tLMT\t1890\n\t\t\t-5:07:12 -\tKMT\t1912 Feb    # Kingston Mean Time\n\t\t\t-5:00\tTC\tE%sT\nZone America/Tortola\t-4:18:28 -\tLMT\t1911 Jul    # Road Town\n\t\t\t-4:00\t-\tAST\nZone America/St_Thomas\t-4:19:44 -\tLMT\t1911 Jul    # Charlotte Amalie\n\t\t\t-4:00\t-\tAST\n"}});
define("dojox/date/zoneinfo/ext/northamerica",["dojo/_base/lang","dojo/text!../northamerica"],function(h,b){h.setObject("dojox.date.ext.northamerica",b);return b})},"redfin/common/data/DataSource":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/request redfin/common/data/MethodGenerator ./Model".split(" "),function(h,b,e,a,c,d){var g=h("redfin.common.data.DataSource",[d],{baseUrl:"/stingray/dataloader/data-sources/{id}",url:function(){return b.replace(this.baseUrl,{id:this.id})},
isFMLS:function(){return 82===this.id}});b.mixin(g,{loadMLSDataSources:function(){return a("/stingray/dataloader/data-sources/mls",{handleAs:"json"}).then(function(a){return a?a.payload:null})}});e.forEach("id name displayName description logoImageFilename sourceFilename defaultMarket mlsDisclaimer logoOptionalAccessLevel commingleLinksWithMlsInfo activishListingOfficeOptionalAccessLevel mlsIdOptionalAccessLevel soldListingOfficeOptionalAccessLevel pendingSashAccessLevel socialSharingAccessLevel photoAttributionOptionalAccessLevel".split(" "),
function(a){c.generateMethods(g,a,{omitUnderscore:!0,useModel:!0})});return g})},"url:redfin/homepage/widgets/templates/MyRecommendationsWidget.html":'\x3cdiv class\x3d"MyRecommendationsWidget whiteBox"\x3e\n\t\x3cdiv class\x3d"title"\x3e\n\t\t\x3cdiv class\x3d"iconWrap"\x3e\n\t\t\t\x3cspan class\x3d"rh_icon icon"\x3e\x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\t\x3ch2 class\x3d"text" dojoAttachPoint\x3d"titleNode"\x3eRecommended for You\x3c/h2\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"loading" dojoAttachPoint\x3dloadSpinner\x3e\x3c/div\x3e\n\n\t\x3cdiv class\x3d"hidden ghostTown" dojoAttachPoint\x3d"ghostTownNode"\x3e\n\t\t\x3cdiv class\x3d"ghostTownContents"\x3e\n\t\t\t\x3cdiv class\x3d"iconWrap"\x3e\n\t\t\t\t\x3cspan class\x3d"recommendGhostTown icon"\x3e\x3c/span\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cp class\x3d"text"\x3e\n\t\t\t\tWe\'ll have fresh recommendations for you when new homes hit the market. The more homes you view on Redfin, the better our recommendations.\n\t\t\t\x3c/p\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"hidden joinTown ghostTown" dojoAttachPoint\x3d"joinTownNode"\x3e\n\t\t\x3cdiv class\x3d"buttonControl"\x3e\n\t\t\t\x3cdiv dojoType\x3d"redfin.widget.Button" buttonType\x3d"secondary" size\x3d"large" label\x3d"Join Redfin" class\x3d"joinButton" dojoAttachPoint\x3d"joinButton"\x3e\x3c/div\x3e\n\t\t\tor\n\t\t\t\x3cdiv dojoType\x3d"redfin.widget.Button" buttonType\x3d"secondary" size\x3d"large" label\x3d"Sign In" class\x3d"signinButton" dojoAttachPoint\x3d"signinButton"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"ghostTownContents"\x3e\n\t\t\t\x3cdiv class\x3d"iconWrap"\x3e\n\t\t\t\t\x3cspan class\x3d"recommendGhostTown icon"\x3e\x3c/span\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cp class\x3d"text"\x3e\n\t\t\t\tWith a free Redfin account, you can get personalized home recommendations based on the homes you view.\n\t\t\t\x3c/p\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\n\t\x3cdiv class\x3d"hidden myRecommendations list homepage row-type hic-grid" dojoAttachPoint\x3d"containerNode"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"contactBox" dojoAttachPoint\x3d"contactBoxNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"redfin/header/UserMenuNotification":function(){define(["dijit","dojo","dojox","dojo/require!dijit/_Widget,dijit/_TemplatedMixin"],function(h,b,e){b.provide("redfin.header.UserMenuNotification");b.require("dijit._Widget");b.require("dijit._TemplatedMixin");b.declare("redfin.header.UserMenuNotification",[h._Widget,h._TemplatedMixin],{data:null,widgetsInTemplate:!1,templateString:b.cache("redfin.header","templates/UserMenuNotification.html",'\x3cli class\x3d"UserMenuNotification"\x3e\n\t\x3cspan class\x3d"notificationItem" dojoAttachPoint\x3d"clickUrlNode"\x3e\n\t\t\x3cspan style\x3d"display:block;float:left;width:30px;" class\x3d"sprt userNotificationIcon ${data.priority} ${data.type}"\x3e\x3c/span\x3e\n\t\t\x3cspan style\x3d"display:block;float:right;width:195px;padding-left:5px;"\x3e\n          \x3cspan style\x3d"font-weight:bold"\x3e${data.headline}\x3c/span\x3e\n          \x3cspan dojoAttachPoint\x3d"detailNode"\x3e\x3c/span\x3e\n        \x3c/span\x3e\n\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\x3c/span\x3e\n\x3c/li\x3e\n'),
buildRendering:function(){this.inherited(arguments);var a=!1;-1!=this.data.detail.indexOf("\x3ca")&&-1!=this.data.detail.indexOf("\x3c/a\x3e")&&(a=!0);this.data.clickUrl&&a?console.error("You cannot have both a clickUrl and detailText with links in a user notification!"):(this.detailNode.innerHTML=this.data.detail,this.domNode.innerHTML=this.data.clickUrl?"\x3ca class\x3d'notificationItem' href\x3d'"+this.data.clickUrl+"'\x3e"+this.clickUrlNode.innerHTML+"\x3c/a\x3e":"\x3cdiv class\x3d'notificationItem'\x3e"+
this.clickUrlNode.innerHTML+"\x3c/div\x3e",(!0==this.data.isActive||"true"==this.data.isActive)&&b.addClass(this.domNode,"activeNotification"),this.connect(this.domNode,"onmouseover",this._onMouseOver),this.connect(this.domNode,"onmouseout",this._onMouseOut),b.subscribe("/UserMenuNotification/hide",b.hitch(this,function(a){a.userNotificationId==this.data.id&&this.hide()})))},postCreate:function(){for(var a="Link Click",a=redfin.util.login.isLoggedIn()?a+"-Reg":a+"-Unreg",c=b.query("a[href]",this.domNode),
d=0;d<c.length;d++)b.connect(c[d],"onclick",function(c){var d=b.attr(this,"href"),e=d,h=d.indexOf("#");-1!=h&&(d=d.substring(0,h));b.global._gaq.push(["_trackEvent","UserNotification",a,d]);window.setTimeout(function(){window.location.href=e},50);b.stopEvent(c)})},_onMouseOver:function(a){b.addClass(this.domNode,"hover")},_onMouseOut:function(a){b.removeClass(this.domNode,"hover")},deactivate:function(){this.data.isActive=!1;b.removeClass(this.domNode,"activeNotification")},hide:function(){b.addClass(this.domNode,
"hidden");this.onHidden()},onHidden:function(){}})})},"redfin/common/data/CorgiPhoto":function(){define(["dijit","dojo","dojox","dojo/require!redfin/common/data/DataObject,redfin/search/common/RestrictedValueAccessor,redfin/search/data/AccessLevelMethodGenerator"],function(h,b,e){b.provide("redfin.common.data.CorgiPhoto");b.require("redfin.common.data.DataObject");b.require("redfin.search.common.RestrictedValueAccessor");b.require("redfin.search.data.AccessLevelMethodGenerator");b.declare("redfin.common.data.CorgiPhoto",
null,{fileName:null,baseUrls:null,photoAccessLevel:null,constructor:function(a){b.mixin(this,a)},getFullUrl:function(){return this.baseUrls[g_listingPhotoType.FULL_SIZE.id]+this.fileName},getMidUrl:function(){return this.baseUrls[g_listingPhotoType.MID_SIZE.id]+this.fileName},getThumbUrl:function(){return this.baseUrls[g_listingPhotoType.THUMBNAIL.id]+this.fileName}});(function(a){a=redfin.search.data.AccessLevelMethodGenerator.addAccessLevelForAllFields;a(redfin.common.data.CorgiPhoto,["photoAccessLevel"])})(this)})},
"redfin/common/data/Listing":function(){define("redfin/common/data/Listing",["dijit","dojo","dojox","dojo/require!redfin/common/data/MethodGenerator,redfin/common/data/DataObject,redfin/common/data/AddressMixin"],function(h,b,e){b.provide("redfin.common.data.Listing");b.require("redfin.common.data.MethodGenerator");b.require("redfin.common.data.DataObject");b.require("redfin.common.data.AddressMixin");b.declare("redfin.common.data.Listing",[redfin.common.data.DataObject],{isPendingish:function(){return this._searchStatus==
g_searchStatuses.PENDING||this._searchStatus==g_searchStatuses.CONTINGENT?!0:!1},isActivish:function(){return this._searchStatus==g_searchStatuses.CONTINGENT||this._searchStatus==g_searchStatuses.PENDING||this._searchStatus==g_searchStatuses.ACTIVE?!0:!1}});b.mixin(redfin.common.data.Listing.prototype,redfin.common.data.AddressMixin);b.forEach("id mlsId sourceInternalId listingPrice listingType originalPrice location salePrice saleDate lastPriceReductionDate lastUpdatedDate listingDate listingAddedDate dom cdom streetNumber directionalPrefix streetName streetType directionalSuffix city stateCode zip unitType unitValue approxSqFt lotSqFt numBedrooms numBathrooms yearBuilt primaryMarket url primaryPhotoUrl primaryMidSizePhotoUrl mapUrl property listingAgent listingCoAgent listingBroker listingCoBroker sellingAgent sellingCoAgent sellingBroker sellingCoBroker mlsStatus amenityGroups dataSource county offMarketDate searchStatus isShortSale userVisible isBankOwned accessLevel originalSourceUrl originalSource propertyType statusString visibilityProfile availablePhotos".split(" "),
function(a){redfin.common.data.MethodGenerator.generateMethods(redfin.common.data.Listing,a)})})},"redfin/search/widget/outdated_browser_dialog":function(){define("redfin/search/widget/outdated_browser_dialog",["dijit","dojo","dojox","dojo/require!redfin/search/widget/outdated_browser_dialog,dojo/cookie,dojo/io/script,dijit/_WidgetsInTemplateMixin,redfin/search/browser_detect"],function(h,b,e){b.provide("redfin.search.widget.outdated_browser_dialog");b.require("redfin.search.widget.outdated_browser_dialog");
b.require("dojo.cookie");b.require("dojo.io.script");b.require("dijit._WidgetsInTemplateMixin");b.require("redfin.search.browser_detect");b.declare("redfin.search.widget.OutdatedBrowserDialog",redfin.search.widget.RfBaseDialog,{title:"Please Upgrade Your Browser",isIE6:!1,isIE7:!1,isFF:!1,isSafari:!1,closable:!0,_guts:null,postCreate:function(){this.inherited(arguments);if(this.isIE6||this.isIE7)this.closable=!1;this._guts=new redfin.search.widget.OutdatedBrowserDialogGuts({isIE6:this.isIE6,isIE7:this.isIE7,
isFF:this.isFF,isSafari:this.isSafari});this.addChild(this._guts);b.connect(this,"onCancel",b.hitch(this,function(){this._guts.onContinue(!0)}))}});b.declare("redfin.search.widget.OutdatedBrowserDialogGuts",[redfin.search.widget.RfBaseDialogGuts,h._WidgetsInTemplateMixin],{templateString:b.cache("redfin","search/widget/templates/OutdatedBrowserDialog.html",'\x3cdiv class\x3d"outdatedBrowserDialog"\x3e\n\t\x3cp dojoAttachPoint\x3d"ie6Notice"\x3eDid you know your browser is out of date?  You are using Internet Explorer 6, released in August 2001. You will likely notice a few glitches.\x3c/p\x3e\n\t\x3cp dojoAttachPoint\x3d"ie7Notice"\x3eDid you know your browser is out of date?  You are using Internet Explorer 7, released in October 2006. You will likely notice a few glitches.\x3c/p\x3e\n\t\x3cp dojoAttachPoint\x3d"ffNotice"\x3eDid you know your browser is out of date?  You are using Mozilla Firefox 3.6.  \x3cstrong\x3eThe Mozilla Foundation ended support for Firefox 3.6 in April 2012.  \x3c/strong\x3eYou may notice a few glitches.\x3c/p\x3e\n\t\x3cp dojoAttachPoint\x3d"safariNotice"\x3eDid you know your browser is out of date?  You are using Apple Safari 3, released in October 2007.  You may notice a few glitches.\x3c/p\x3e\n\t\x3cdiv dojoAttachPoint\x3d"defaultNotice"\x3e\n\t\t\x3cp style\x3d"margin-top: 10px;"\x3e To continue enjoying Redfin, please download one of the following free pieces of software:\x3c/p\x3e\n\t\t\x3cp\x3e\n\t\t\t\t\x3cb\x3eBrowser:\x3c/b\x3e \x3ca class\x3d"ffDownload" id\x3d"download_firefox" href\x3d"http://www.mozilla.com/firefox/" target\x3d"_new" style\x3d"color: rgb(204,0,0);"\x3eFirefox\x3c/a\x3e\x3cbr /\x3e\n\t\t\t\t\x3cb\x3eBrowser:\x3c/b\x3e \x3ca class\x3d"gcDownload" id\x3d"download_chrome" href\x3d"http://www.google.com/chrome/" target\x3d"_new" style\x3d"color: rgb(204,0,0);"\x3eChrome\x3c/a\x3e\x3cbr /\x3e\n\t\t\t\t\x3cspan dojoAttachPoint\x3d"sfDownloadSuggestion"\x3e\x3cb\x3eBrowser:\x3c/b\x3e \x3ca class\x3d"sfDownload" id\x3d"download_safari" href\x3d"http://www.apple.com/safari/download/" target\x3d"_new" style\x3d"color: rgb(204,0,0);"\x3eSafari\x3c/a\x3e\x3cbr /\x3e\x3c/span\x3e\n\t\t\t\t\x3cbr /\x3e\n\t\t\t\t\x3ca href\x3d"http://www.whatbrowser.org" target\x3d"_new" style\x3d"color: rgb(204,0,0);"\x3eWhat\'s a browser?\x3c/a\x3e\n\t\t\x3c/p\x3e\n\t\t\x3cdiv class\x3d"popButtons" style\x3d"padding-bottom: 20px; margin: 10px 10px 10px 0;" \x3e\n\t\t\t\x3cdiv dojoType\x3d"redfin.widget.Button" style\x3d"width:130px;" label\x3d"Continue Anyway" dojoAttachPoint\x3d"continueButton"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n\n'),
widgetsInTemplate:!0,isIE6:!1,isIE7:!1,isFF:!1,isSafari:!1,style:"width:400px",postCreate:function(){this.inherited(arguments);this.connect(this.continueButton,"onClick",b.hitch(this,function(){this.onContinue(!1)}));this.isFF||b.style(this.ffNotice,"display","none");this.isSafari||b.style(this.safariNotice,"display","none");this.isIE6||b.style(this.ie6Notice,"display","none");this.isIE7||b.style(this.ie7Notice,"display","none");"Windows"==BrowserDetect.OS&&b.style(this.sfDownloadSuggestion,"display",
"none");b.query(".ffDownload").connect("onclick",function(){b.global._gaq&&b.global._gaq.push(["_trackEvent","Greylist","Browser Downloaded","Firefox"])});b.query(".sfDownload").connect("onclick",function(){b.global._gaq&&b.global._gaq.push(["_trackEvent","Greylist","Browser Downloaded","Safari"])});b.query(".ieDownload").connect("onclick",function(){b.global._gaq&&b.global._gaq.push(["_trackEvent","Greylist","Browser Downloaded","IE"])});b.query(".gcDownload").connect("onclick",function(){b.global._gaq&&
b.global._gaq.push(["_trackEvent","Greylist","Browser Downloaded","Chrome"])})},onContinue:function(a){var c=new String(redfin.search.widget.OutdatedBrowserDialog.currentVersion+":"+(new Date).getTime());b.cookie(redfin.search.widget.OutdatedBrowserDialog.cookieName,c,{expires:5475,path:"/"});b.global._gaq&&(c="Continue Anyway",a&&(c="Closed"),b.global._gaq.push(["_trackEvent","Greylist","Greylist Dismissed",c]));this.getParent()&&this.getParent().hide()}});b.mixin(redfin.search.widget.OutdatedBrowserDialog,
{cookieName:"RF_OUTDATED_BROWSER",currentVersion:3,showDialogIfNecessary:function(a){a=new b.Deferred;var c=redfin.search.widget.OutdatedBrowserDialog;"6.0"==b.isIE&&c.shouldShowDialog()?c.showNewDialog({isIE6:!0},a):7<=b.isIE&&8>b.isIE&&c.shouldShowDialog()?c.showNewDialog({isIE7:!0},a):3.7>b.isFF&&c.shouldShowDialog()?c.showNewDialog({isFF:!0},a):4>b.isSafari&&c.shouldShowDialog()?c.showNewDialog({isSafari:!0},a):a.callback(!0);return a},showNewDialog:function(a,c){a.imageServer||(a.imageServer=
g_imageServerUrl);var d=new redfin.search.widget.OutdatedBrowserDialog(a);b.body().appendChild(d.domNode);setTimeout(function(){b.global._gaq&&b.global._gaq.push(["_trackEvent","Greylist","Greylist Shown"])},0);d.startup();d.show();b.connect(d,"hide",function(){b.body().removeChild(d.domNode);d.destroy();c.callback(!0)});return d},shouldShowDialog:function(){if("6.0"==b.isIE||7<=b.isIE&&8>b.isIE)return!0;var a="undefined"===typeof b.cookie(redfin.search.widget.OutdatedBrowserDialog.cookieName);if(!a){var c=
b.cookie(redfin.search.widget.OutdatedBrowserDialog.cookieName);try{c=parseInt(c.split(":")[0]),a=c<redfin.search.widget.OutdatedBrowserDialog.currentVersion}catch(d){console.warn("Outdated Browser cookie was unable to be parsed.")}}a&&(b.cookie("rf_test_cookie","test_value"),"test_value"!==b.cookie("rf_test_cookie")&&(a=!1));return a}})})},"redfin/common/data/DataObject":function(){define(["dijit","dojo","dojox","dojo/require!redfin/common/data/util/_Resettable,redfin/common/data/DataObjectListModel,redfin/search/data/Accessor"],
function(h,b,e){b.provide("redfin.common.data.DataObject");b.require("redfin.common.data.util._Resettable");b.require("redfin.common.data.DataObjectListModel");b.require("redfin.search.data.Accessor");b.declare("redfin.common.data.DataObject",[redfin.search.data.Accessor],{constructor:function(a){a=a||{};if(this.isInstanceOf(redfin.common.data.util._Resettable))this._initResettable(a);else for(var b in a)this["_"+b]=a[b]},_initResettable:function(a){var c=b.getObject(this.declaredClass)._autoGenFields,
d;for(d in a)"list"!==c[d]&&(this["_"+d]=a[d]);for(d in c)"list"===c[d]&&(this["_"+d]=new redfin.common.data.DataObjectListModel(a[d]))}})})},"redfin/common/access_level_util":function(){define("redfin/common/access_level_util",["dijit","dojo","dojox","dojo/require!redfin/search/widget/verify_email_dialog,redfin/search/util/LoginUtil"],function(h,b,e){b.provide("redfin.common.access_level_util");b.require("redfin.search.widget.verify_email_dialog");b.require("redfin.search.util.LoginUtil");b.declare("redfin.common.AccessLevelUtil",
null,{});redfin=redfin||{};redfin.util=redfin.util||{};b.mixin(redfin.common.AccessLevelUtil,{isAtLeastRequiredAccessLevel:function(a,b){if(null===b||void 0===b)b=g_accessLevels.REDFIN_AGENT;return b<=a},currentLoginAccessLevel:function(){var a=g_accessLevels.PUBLIC;"undefined"!=typeof g_jsonLogin?g_jsonLogin&&(void 0!==g_jsonLogin.accessLevel&&null!==g_jsonLogin.accessLevel)&&(a=g_jsonLogin.accessLevel):"undefined"!=typeof redfin.util.login&&(a=redfin.util.login.accessLevel());null==a&&(a=g_accessLevels.PUBLIC);
return a},isLoggedIn:function(){var a=redfin.common.AccessLevelUtil.currentLoginAccessLevel();return g_accessLevels.PUBLIC<a?!0:!1},onlyHasRfPartyId:function(){return b.cookie("RF_PARTY_ID")&&!redfin.util.login.isLoggedIn()&&!redfin.util.login.isLoggedInAnonymously()&&!redfin.common.AccessLevelUtil.isLoggedIn()},currentLoginHasAccess:function(a){return redfin.common.AccessLevelUtil.isAtLeastRequiredAccessLevel(redfin.common.AccessLevelUtil.currentLoginAccessLevel(),a)},currentLoginCanAchieveAccess:function(a){return redfin.common.AccessLevelUtil.currentLoginHasAccess(a)||
a<g_accessLevels.REDFIN_AGENT},getCensoredContent:function(a,b,d,e,f){void 0===d&&(d="-");void 0===e&&(e="Sign in");void 0===f&&(f="Show");return redfin.common.AccessLevelUtil.chooseCensoredContent(a,b,d,redfin.common.AccessLevelUtil.getLoginLink(e),redfin.common.AccessLevelUtil.getVerifyEmailLink(f))},getLoginLink:function(a){return"\x3ca href\x3d'javascript:void(0);' onclick\x3d'redfin.common.AccessLevelUtil.showLoginPopup(); return false;'\x3e"+a+"\x3c/a\x3e"},getVerifyEmailLink:function(a){return"\x3ca href\x3d'javascript:void(0);' onclick\x3d'redfin.search.widget.VerifyEmailDialog.showNewDialog(); return false;'\x3e"+
a+"\x3c/a\x3e"},chooseCensoredContent:function(a,b,d,e,f){var k=redfin.common.AccessLevelUtil.currentLoginAccessLevel();if(redfin.common.AccessLevelUtil.currentLoginHasAccess(a))return b;if(a>=g_accessLevels.REDFIN_AGENT)return d;if(a>=g_accessLevels.EMAIL_VERIFIED&&k>=g_accessLevels.REGISTERED)return f;if(k<=g_accessLevels.PUBLIC)return e;console.error("redfin.common.AccessLevelUtil.chooseCensoredContent: unable to handle argument accessLevel: "+a);return d},showLoginPopup:function(){redfin.common.LoginPopup.showNewDialogIfNeeded({message:"display-censored-content"})},
getCurrentAccessLevel:function(){return redfin.common.AccessLevelUtil.currentLoginAccessLevel()},currentLoginRequiresMlsIdForDataSource:function(a){return(a=redfin.common.AccessLevelUtil._getMls(a))&&a.mlsIdOptionalAccessLevel&&!redfin.common.AccessLevelUtil.currentLoginHasAccess(a.mlsIdOptionalAccessLevel)},currentLoginRequiresActivishListingOfficeForDataSource:function(a){return(a=redfin.common.AccessLevelUtil._getMls(a))&&a.activishListingOfficeOptionalAccessLevel&&!redfin.common.AccessLevelUtil.currentLoginHasAccess(a.activishListingOfficeOptionalAccessLevel)},
currentLoginRequiresActivishListingCoOfficeForDataSource:function(a){return(a=redfin.common.AccessLevelUtil._getMls(a))&&a.activishListingCoOfficeOptionalAccessLevel&&!redfin.common.AccessLevelUtil.currentLoginHasAccess(a.activishListingCoOfficeOptionalAccessLevel)},currentLoginRequiresSoldListingOfficeForDataSource:function(a){return(a=redfin.common.AccessLevelUtil._getMls(a))&&a.soldListingOfficeOptionalAccessLevel&&!redfin.common.AccessLevelUtil.currentLoginHasAccess(a.soldListingOfficeOptionalAccessLevel)},
currentLoginRequiresSoldListingCoOfficeForDataSource:function(a){return(a=redfin.common.AccessLevelUtil._getMls(a))&&a.soldListingCoOfficeOptionalAccessLevel&&!redfin.common.AccessLevelUtil.currentLoginHasAccess(a.soldListingCoOfficeOptionalAccessLevel)},currentLoginRequiresSellingOfficeForDataSource:function(a){return(a=redfin.common.AccessLevelUtil._getMls(a))&&a.sellingOfficeOptionalAccessLevel&&!redfin.common.AccessLevelUtil.currentLoginHasAccess(a.sellingOfficeOptionalAccessLevel)},currentLoginRequiresSellingCoOfficeForDataSource:function(a){return(a=
redfin.common.AccessLevelUtil._getMls(a))&&a.sellingCoOfficeOptionalAccessLevel&&!redfin.common.AccessLevelUtil.currentLoginHasAccess(a.sellingCoOfficeOptionalAccessLevel)},currentLoginRequiresLogoForDataSource:function(a){return(a=redfin.common.AccessLevelUtil._getMls(a))&&a.logoOptionalAccessLevel&&!redfin.common.AccessLevelUtil.currentLoginHasAccess(a.logoOptionalAccessLevel)},currentLoginRequiresListingAgentName:function(a){return(a=redfin.common.AccessLevelUtil._getMls(a))&&a.listingAgentNameOptionalAccessLevel&&
!redfin.common.AccessLevelUtil.currentLoginHasAccess(a.listingAgentNameOptionalAccessLevel)},_getMls:function(a){return"object"===typeof a?a:g_mapMlses[a]}})})},"redfin/search/util/SavedSearchUtil":function(){define(["dojo/_base/declare","redfin/common/data/SavedSearch","redfin/search/search_bootstrap"],function(h){h=h("redfin.search.util.SavedSearchUtil",[],{saveSearch:function(b,e,a,c,d,g){setTimeout(dojo.hitch(this,function(){this.showSaveSearchDialog(b,e,a,c,d,g)}),100)},showSaveSearchDialog:function(b,
e,a,c,d,g){var f=this.getSaveSearchQuery();c||(c=redfin.util.htmlUnescape(g_searchController.getRegAlertsDesc()));redfin.search.widget.SaveSearchTooltipDialog.showNewDialog({position:a,id:"saveSearchDlg",aroundId:e,searchQuery:f,frequency:b,searchName:c,showNeverOption:d,savedSearchCreatedVia:g||g_savedSearchCreatedVia.WEBSITE})},getSaveSearchQuery:function(){redfin.search.g_searchForm.correctDisallowedValues();var b={};g_searchController.getMap().serialize(b);return g_searchController.getFullCurrentQS(!0)+
"\x26"+redfin.util.NameValue.constructQueryString(b)},saveSearchDaily:function(b,e,a,c){b||(b="statusbox_email_action",e=["below"]);this.saveSearch(redfin.search.widget.SaveSearchTooltipDialog.FREQUENCY_DAILY,b,e,a,!1,c);this.saveAlertsTooltipShowing=!0},saveSearchNoEmail:function(b,e,a,c){b||(b="status_save_action",e=["above"]);this.saveSearch(redfin.search.widget.SaveSearchTooltipDialog.FREQUENCY_NEVER,b,e,a,!1,c)},saveSearchFrequencySelection:function(b,e,a,c){b||(b="statusbox_email_action",e=
["below","above"]);this.saveSearch(null,b,e,a,!1,c);this.saveAlertsTooltipShowing=!0},saveSearchFrequencySelectionWithNever:function(b,e,a,c){b||(b="status_save_action",e=["above"]);this.saveSearch(null,b,e,a,!0,c);this.saveAlertsTooltipShowing=!0},saveRegAlert:function(){var b=this.getSaveSearchQuery(),e=g_searchController.getRegAlertsDesc();dojo.xhrGet({url:"/stingray/do/api-save-search",content:{name:e,frequency:redfin.search.widget.SaveSearchTooltipDialog.FREQUENCY_DAILY,query:b},sync:!1})},getCurrentViewAsSavedSearch:function(){var b=
new redfin.common.data.SavedSearch;g_searchController.getPerformingPolygonSearch()&&(b.setRegionId(g_searchController.currentRegionInfo.id.tableId),b.setRegionTypeId(g_searchController.currentRegionInfo.id.type));if(g_searchController.marketInfo&&g_searchController.marketInfo.id){var e=new redfin.common.data.Market;e.setId(g_searchController.marketInfo.id);b.setMarket(e)}e=g_searchController.getMap().calculateNonClusterBbox();b.setViewport({minLat:redfin.util.roundDecimals(e.minlat,redfin.search.SearchBootstrap.ROUND_LAT_LONG_DECIMALS),
minLong:redfin.util.roundDecimals(e.minlong,redfin.search.SearchBootstrap.ROUND_LAT_LONG_DECIMALS),maxLat:redfin.util.roundDecimals(e.maxlat,redfin.search.SearchBootstrap.ROUND_LAT_LONG_DECIMALS),maxLong:redfin.util.roundDecimals(e.maxlong,redfin.search.SearchBootstrap.ROUND_LAT_LONG_DECIMALS)});b.setViewLatitude(g_searchController.getMap().getCenter().lat());b.setViewLongitude(g_searchController.getMap().getCenter().lng());b.setViewZoomLevel(g_searchController.getMap().getZoom());e={};redfin.search.g_searchForm.serialize(e,
!1,!0);"-"==e.rd&&(e.rd="");b.setStatus("A");b.setMinBeds(this.numberOrNull(e,"num_beds"));b.setMaxBeds(this.numberOrNull(e,"max_num_beds"));b.setMinBaths(this.floatOrNull(e,"num_baths"));b.setMaxBaths(this.floatOrNull(e,"max_num_baths"));b.setMinPrice(this.numberOrNull(e,"min_price"));b.setMaxPrice(this.numberOrNull(e,"max_price"));b.setMinApproxSqFt(this.numberOrNull(e,"min_listing_approx_size"));b.setMaxApproxSqFt(this.numberOrNull(e,"max_listing_approx_size"));b.setMinLotSqFt(this.numberOrNull(e,
"min_parcel_size"));b.setMaxLotSqFt(this.numberOrNull(e,"max_parcel_size"));b.setMinPricePerSize(this.numberOrNull(e,"min_price_per_size"));b.setMaxPricePerSize(this.numberOrNull(e,"max_price_per_size"));b.setMinYearBuilt(this.numberOrNull(e,"min_year_built"));b.setMaxYearBuilt(this.numberOrNull(e,"max_year_built"));var a=this.parseRange(e.time_on_market_range);b.setMinDaysOnMarket(this.numberOrNull(a,"max"));b.setMaxDaysOnMarket(this.numberOrNull(a,"min"));b.setSoldWithinDays(this.numberOrNull(e,
"sold_within_days"));0<b.getSoldWithinDays()?b.setShowSimilarRecentSales(!0):b.setShowSimilarRecentSales(!1);a=e.uipt.split(",");b.setIncludeResidential(!1);b.setIncludeCondo(!1);b.setIncludeTownhouse(!1);b.setIncludeMultiFamily(!1);b.setIncludeLand(!1);b.setIncludeOther(!1);for(var c=0;c<a.length;c++)"1"==a[c]?b.setIncludeResidential(!0):"2"==a[c]?b.setIncludeCondo(!0):"3"==a[c]?b.setIncludeTownhouse(!0):"4"==a[c]?b.setIncludeMultiFamily(!0):"5"==a[c]?b.setIncludeLand(!0):"6"==a[c]&&b.setIncludeOther(!0);
a=this.parseRange(e.pkg);b.setMinParkingSpots(this.numberOrNull(a,"min"));b.setMaxParkingSpots(this.numberOrNull(a,"max"));b.setOnlyWithGarage(this.parseBoolean(e.gar));a=this.parseRange(e.rd);b.setMaxDaysSinceLastPriceReduction(this.numberOrNull(a,"min"));b.setMinDaysSinceLastPriceReduction(this.numberOrNull(a,"max"));b.setOnlyWithStatusBitmask(this.numberOrNull(e,"status"));b.setExcludeShortSale(this.parseBoolean(e.excl_ss));b.setOnlyWithView(this.parseBoolean(e.view));b.setOnlyNewConstruction(this.parseBoolean(e.new_construction));
b.setOnlyOnWaterfront(this.parseBoolean(e.wf));b.setOnlyFixer(this.parseBoolean(e.fixer));b.setOnlyWithOpenHouse(this.numberOrNull(e,"open_house"));a=e.sf.split(",");b.setIncludeMlsNonForeclosureListings(null==a?!0:-1!=dojo.indexOf(a,"1")?!0:!1);b.setIncludeMlsForeclosureListings(null==a?!0:-1!=dojo.indexOf(a,"2")?!0:!1);b.setIncludeFsboListings(null==a?!0:-1!=dojo.indexOf(a,"3")?!0:!1);b.setIncludeBankListings(null==a?!0:-1!=dojo.indexOf(a,"4")?!0:!1);b.setFullTextConstraint(e.ft);b.setMaxHoaDues(this.numberOrNull(e,
"hoa"));b.setSearchSaleTypes(this.numberOrNull(e,"sst"));null===b.getSearchSaleTypes()&&b.setSearchSaleTypes(3);return b},getQueryAsSavedSearch:function(b){if(!b)return null;queryHash=redfin.util.NameValue.deconstructQueryString(b);b=new redfin.common.data.SavedSearch;"-"==queryHash.rd&&(queryHash.rd="");if(queryHash.marketId){var e=new redfin.common.data.Market;e.setId(parseInt(queryHash.marketId,10));b.setMarket(e)}queryHash.poly&&(e=queryHash.poly.split(/[\s,]+/),b.setViewport({minLat:redfin.util.roundDecimals(parseFloat(e[1]),
redfin.search.SearchBootstrap.ROUND_LAT_LONG_DECIMALS),minLong:redfin.util.roundDecimals(parseFloat(e[0]),redfin.search.SearchBootstrap.ROUND_LAT_LONG_DECIMALS),maxLat:redfin.util.roundDecimals(parseFloat(e[5]),redfin.search.SearchBootstrap.ROUND_LAT_LONG_DECIMALS),maxLong:redfin.util.roundDecimals(parseFloat(e[2]),redfin.search.SearchBootstrap.ROUND_LAT_LONG_DECIMALS)}));b.setRegionId(this.numberOrNull(queryHash,"region_id"));b.setRegionTypeId(this.numberOrNull(queryHash,"region_type"));b.setViewLatitude(this.floatOrNull(queryHash,
"lat"));b.setViewLongitude(this.floatOrNull(queryHash,"long"));b.setViewZoomLevel(this.numberOrNull(queryHash,"zoomLevel"));b.setStatus("A");b.setMinBeds(this.numberOrNull(queryHash,"num_beds"));b.setMaxBeds(this.numberOrNull(queryHash,"max_num_beds"));b.setMinBaths(this.floatOrNull(queryHash,"num_baths"));b.setMaxBaths(this.floatOrNull(queryHash,"max_num_baths"));b.setMinPrice(this.numberOrNull(queryHash,"min_price"));b.setMaxPrice(this.numberOrNull(queryHash,"max_price"));b.setMinApproxSqFt(this.numberOrNull(queryHash,
"min_listing_approx_size"));b.setMaxApproxSqFt(this.numberOrNull(queryHash,"max_listing_approx_size"));b.setMinLotSqFt(this.numberOrNull(queryHash,"min_parcel_size"));b.setMaxLotSqFt(this.numberOrNull(queryHash,"max_parcel_size"));b.setMinPricePerSize(this.numberOrNull(queryHash,"min_price_per_size"));b.setMaxPricePerSize(this.numberOrNull(queryHash,"max_price_per_size"));b.setMinYearBuilt(this.numberOrNull(queryHash,"min_year_built"));b.setMaxYearBuilt(this.numberOrNull(queryHash,"max_year_built"));
e=this.parseRange(queryHash.time_on_market_range);b.setMinDaysOnMarket(this.numberOrNull(e,"max"));b.setMaxDaysOnMarket(this.numberOrNull(e,"min"));b.setSoldWithinDays(this.numberOrNull(queryHash,"sold_within_days"));0<b.getSoldWithinDays()?b.setShowSimilarRecentSales(!0):b.setShowSimilarRecentSales(!1);if(queryHash.uipt){e=queryHash.uipt.split(",");b.setIncludeResidential(!1);b.setIncludeCondo(!1);b.setIncludeTownhouse(!1);b.setIncludeMultiFamily(!1);b.setIncludeLand(!1);b.setIncludeOther(!1);for(var a=
0;a<e.length;a++)"1"==e[a]?b.setIncludeResidential(!0):"2"==e[a]?b.setIncludeCondo(!0):"3"==e[a]?b.setIncludeTownhouse(!0):"4"==e[a]?b.setIncludeMultiFamily(!0):"5"==e[a]?b.setIncludeLand(!0):"6"==e[a]&&b.setIncludeOther(!0)}else b.setIncludeResidential(!0),b.setIncludeCondo(!0),b.setIncludeTownhouse(!0),b.setIncludeMultiFamily(!0),b.setIncludeLand(!0),b.setIncludeOther(!0);e=this.parseRange(queryHash.pkg);b.setMinParkingSpots(this.numberOrNull(e,"min"));b.setMaxParkingSpots(this.numberOrNull(e,"max"));
b.setOnlyWithGarage(this.parseBoolean(queryHash.gar));e=this.parseRange(queryHash.rd);b.setMaxDaysSinceLastPriceReduction(this.numberOrNull(e,"min"));b.setMinDaysSinceLastPriceReduction(this.numberOrNull(e,"max"));b.setOnlyWithStatusBitmask(queryHash.status?this.numberOrNull(queryHash,"status"):1);b.setExcludeShortSale(this.parseBoolean(queryHash.excl_ss));b.setOnlyWithView(this.parseBoolean(queryHash.view));b.setOnlyNewConstruction(this.parseBoolean(queryHash.new_construction));b.setOnlyOnWaterfront(this.parseBoolean(queryHash.wf));
b.setOnlyFixer(this.parseBoolean(queryHash.fixer));b.setOnlyWithOpenHouse(this.numberOrNull(queryHash,"open_house"));queryHash.sf?(e=queryHash.sf.split(","),b.setIncludeMlsNonForeclosureListings(-1!=dojo.indexOf(e,"1")?!0:!1),b.setIncludeMlsForeclosureListings(-1!=dojo.indexOf(e,"2")?!0:!1),b.setIncludeFsboListings(-1!=dojo.indexOf(e,"3")?!0:!1),b.setIncludeBankListings(-1!=dojo.indexOf(e,"4")?!0:!1)):(b.setIncludeMlsNonForeclosureListings(!0),b.setIncludeMlsForeclosureListings(!0),b.setIncludeFsboListings(!0),
b.setIncludeBankListings(!1));b.setFullTextConstraint(queryHash.ft);b.setMaxHoaDues(this.numberOrNull(queryHash,"hoa"));b.setSearchSaleTypes(this.numberOrNull(queryHash,"sst"));null===b.getSearchSaleTypes()&&b.setSearchSaleTypes(3);return b},numberOrNull:function(b,e){if(b){var a=parseInt(b[e],10);if(!isNaN(a))return a}return null},floatOrNull:function(b,e){if(b){var a=parseFloat(b[e],10);if(!isNaN(a))return a}return null},parseBoolean:function(b){return"true"===b?!0:"false"===b||null===b||void 0===
b?!1:b},parseRange:function(b){if(b){var e=b.indexOf("-");return{min:b.substring(0,e),max:b.substring(e+1)}}return{min:null,max:null}}});redfin.search.util.SavedSearchUtil=new h;return h})},"redfin/search/common/widgets/footer/Navigation":function(){define("dojo/_base/lang dojo/_base/declare dojo/has dojo/dom-class dojo/on dojo/io-query dojo/text!./templates/Navigation.html dijit/_WidgetBase dijit/_TemplatedMixin redfin/common/mixins/_Adopt redfin/common/elements/Button".split(" "),function(h,b,e,
a,c,d,g,f,k,l,m){function p(){var a={refURL:top.window.location};h.mixin(a,h.mixin.apply(null,arguments));a="/stingray/do/submit-feedback?"+d.objectToQuery(a);window.open(a,"feedback")}return b([f,k,l],{templateString:g,feedbackParams:null,buildRendering:function(){this.inherited(arguments);e("mobile-enabled")&&this.adopt(m,{"class":"mobile-feedback",label:"Problems or Feedback?",type:"tertiary",size:"medium",onClick:function(){p(this.feedbackParams);return!1}},this.mobileFeedbackNode).startup()},
postCreate:function(){this.inherited(arguments);this.own(c(this.feedbackNode,"click",h.hitch(this,this.onReportProblem)))},onReportProblem:function(){p(this.feedbackParams,{feedbackType:"di",feedback:"",width:"500",height:"765",toolbar:"0",scrollbars:"0",location:"0",statusbar:"0",menubar:"0"});return!1}})})},"redfin/search/map/MapStyles":function(){define(["redfin/bouncer/Bouncer"],function(h){var b=[],b=h.isOn(g_feature.MAP_STYLING)?b.concat([{},{featureType:"all",elementType:"labels.text.stroke",
stylers:[{visibility:"off"}]},{},{featureType:"landscape",elementType:"geometry",stylers:[{lightness:77},{saturation:-100}]},{featureType:"landscape.man_made",stylers:[{visibility:"off"}]},{},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#cdedf8"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#1876a7"}]},{},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"geometry",stylers:[{visibility:"on"},{color:"#c4ddbc"},{lightness:-6},
{gamma:0.95}]},{featureType:"poi.school",stylers:[{visibility:"off"}]},{featureType:"poi.school",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#f9e3e4"}]},{featureType:"poi.government",elementType:"geometry",stylers:[{saturation:-90},{lightness:45}]},{},{featureType:"transit",elementType:"geometry",stylers:[{hue:"#8299BF"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{saturation:-20},{lightness:45},{gamma:0.45},
{weight:0.7}]},{featureType:"transit.station",elementType:"labels",stylers:[{visibility:"simplified"}]},{},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#f5f5f5"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"on"},{color:"#bfbfbf"},{weight:0.3}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#585858"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"geometry.stroke",
stylers:[{visibility:"on"},{color:"#d2d2d2"},{weight:0.5}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#e5e5e5"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#FCAF2A"},{lightness:75}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{visibility:"on"},{color:"#FCAF2A"},{weight:0.3}]},{},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.province",elementType:"geometry.stroke",
stylers:[{color:"#808285"},{weight:0.75}]},{featureType:"administrative.province",elementType:"labels.text.fill",stylers:[{color:"#808285"},{lightness:50}]},{featureType:"administrative.province",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#585858"}]},{featureType:"administrative.locality",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"},{weight:2},{visibility:"on"}]},{featureType:"administrative.neighborhood",
elementType:"labels.text.fill",stylers:[{color:"#808285"},{lightness:35}]},{featureType:"administrative.neighborhood",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#f5f5f5"},{weight:3}]},{}]):b.concat([{},{featureType:"poi.school",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"landscape.man_made",stylers:[{visibility:"off"}]},{featureType:"transit.station",stylers:[{hue:"#ffa200"}]},{featureType:"administrative.locality",
elementType:"labels.text.fill",stylers:[{color:"#887750"}]},{featureType:"administrative.neighborhood",elementType:"labels.text.fill",stylers:[{color:"#887750"}]},{}]);h.isOn(g_feature.ENABLE_CLICKABLE_GMAPS_POI_MAP_PAGE)||b.push({featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]});return b})},"redfin/common/has":function(){define(["dojo/_base/lang","dojo/has","require","redfin/common/has/geo","redfin/common/has/input"],function(h,b,e,a,c,d){if(b&&!h.isFunction(b.isHostType)){var g=
{"boolean":1,number:1,string:1,undefined:1};b.isHostType=function(a,b){var c=typeof a[b];return"object"==c?!!a[b]:!g[c]};return b}})},"url:redfin/search/details/templates/MlsDisclaimer.html":'\x3cdiv\x3e\n\t\x3chr data-dojo-attach-point\x3d"ruler"\x3e\x3cspan data-dojo-attach-point\x3d"disclaimerNode"\x3e\x3c/span\x3e\n\t\x3cspan class\x3d"hidden" data-dojo-attach-point\x3d"lastUpdatedNode"\x3eLast updated: ${lastUpdated}\x3c/span\x3e\n\x3c/div\x3e',"redfin/common/widgets/contactBox/ContactBoxComponentMixin":function(){define(["dojo/has",
"dojo/_base/declare"],function(h,b){return b("redfin.common.widgets.contactBox.ContactBoxComponentMixin",null,{_trackEvent:function(b,a,c){!a&&!this.data.gaCategory&&console.error("this component has no GA category!");!c&&!this.data.gaLabel&&console.error("this component has no GA label!");dojo.global._gaq&&dojo.global._gaq.push(["_trackEvent",a?a:this.data.gaCategory,b,c?c:this.data.gaLabel])},onDisplay:function(){},onHide:function(){},runAskAnAgentAsALinkExperiment:function(){return this.isOnLDP()&&
g_bouncer().isOn(g_feature.CONTACT_BOX_AB_TESTING)&&g_bouncer().isOn(g_feature.CONTACT_BOX_ASK_AN_AGENT_AS_A_LINK_EXPERIMENT)&&!this.runNewPhotographyExperiment()&&!this.isAgentAssigned()&&!this.isMobile()},runStarsExperiment:function(){return this.isOnLDP()&&g_bouncer().isOn(g_feature.CONTACT_BOX_AB_TESTING)&&g_bouncer().isOn(g_feature.CONTACT_BOX_STARS_EXPERIMENT)&&!this.runNewPhotographyExperiment()&&!this.isAgentAssigned()&&!this.isAgentPreferred()&&!this.isMobile()},runNewPhotographyExperiment:function(){return g_bouncer().isOn(g_feature.CONTACT_BOX_NEW_PHOTOGRAPHY_EXPERIMENT)&&
this.isNewPhotographyExperimentOn()},runContactBoxForContactBoxQuestionFormOnSDPExperiment:function(){return this.isOnSDP()&&g_bouncer().isOn(g_feature.CONTACT_BOX_AB_TESTING)&&g_bouncer().isOn(g_feature.CONTACT_BOX_QUESTION_FORM_ON_SDP_EXPERIMENT)&&!this.runNewPhotographyExperiment()&&!this.isMobile()&&!this.isAgentAssigned()},runContactBoxForContactBoxCTATextSDPExperiment:function(){return this.isOnSDP()&&g_bouncer().isOn(g_feature.CONTACT_BOX_AB_TESTING)&&g_bouncer().isOn(g_feature.CONTACT_BOX_CTA_TEXT_ON_SDP_EXPERIMENT)&&
!this.runNewPhotographyExperiment()&&!this.isMobile()&&!this.isAgentAssigned()},runContactBoxMinimalButtonTextExperiment:function(){return this.isMinimal()&&g_bouncer().isOn(g_feature.CONTACT_BOX_AB_TESTING)&&g_bouncer().isOn(g_feature.CONTACT_BOX_MINIMAL_BUTTON_TEXT_EXPERIMENT)},isOnLDP:function(){return null!=this.data&&null!=this.data.gaCategory?0<=this.data.gaCategory.indexOf("LDP"):!1},isOnSDP:function(){return null!=this.data&&null!=this.data.gaCategory?0<=this.data.gaCategory.indexOf("SDP"):
!1},isMinimal:function(){return null!=this.data&&null!=this.data.presentationType?this.data.presentationType===g_contactBoxPresentationType.MINIMAL:!1},isNewPhotographyExperimentOn:function(){for(var b=this;null!=b;){if(null!=b.isInNewPhotographyExperiment)return b.isInNewPhotographyExperiment;b=b.parent}return!1},isAgentAssigned:function(){for(var b=this;null!=b;){if(null!=b.data&&null!=b.data.agentServiceType)return this.data.agentServiceType==g_customerAgentStatus.AGENT_ASSIGNED||this.data.agentServiceType==
g_customerAgentStatus.AGENT_PENDING;b=b.parent}return!1},isAgentPreferred:function(){for(var b=this;null!=b;){if(null!=b.data&&null!=b.data.agentServiceType)return this.data.agentServiceType==g_customerAgentStatus.PREFERRED_AGENT;b=b.parent}return!1},isMobile:function(){return h("mobile-enabled")}})})},"redfin/common/data/Favorite":function(){define("redfin/common/data/Favorite",["dijit","dojo","dojox","dojo/require!redfin/common/data/Model"],function(h,b,e){b.provide("redfin.common.data.Favorite");
b.require("redfin.common.data.Model");b.declare("redfin.common.data.Favorite",redfin.common.data.Model,{updateUrl:"/stingray/api/property/{id}/user/favorite",getUrl:"/stingray/dataloader/property/{id}/user/favorite",defaults:{favoritePropertyType:0},isFavorite:function(){return this.get("favoritePropertyType")&&this.get("favoritePropertyType")===g_favoritePropertyType.FAVORITE?!0:!1},isXout:function(){return this.get("favoritePropertyType")&&this.get("favoritePropertyType")===g_favoritePropertyType.ANTI_FAVORITE?
!0:!1},url:function(a){return b.replace("read"==a?this.getUrl:this.updateUrl,{id:this.id})}})})},"redfin/common/elements/DialogUnderlay":function(){define(["dojo/_base/declare","dijit/DialogUnderlay","dojo/dom-class","dojo/dom-style"],function(h,b,e,a){return h("redfin.common.elements.DialogUnderlay",[b],{baseClass:"DialogUnderlay",fixed:!1,_setFixedAttr:function(b){this._set("fixed",b);e.toggle(this.domNode,"fixed",this.fixed);this.fixed&&a.set(this.domNode,{top:"",left:""})},show:function(){this.domNode.style.display=
"block";this.layout()},layout:function(){this.fixed||this.inherited(arguments)},hide:function(){this.domNode.style.display="none"}})})},"redfin/common/clicktracker":function(){define("redfin/common/clicktracker",["dojo/_base/lang","dojo/request"],function(h,b,e){var a="/stingray/clicktracker.jsp",c={},d={},g={};g_webServerUrl&&(a=g_webServerUrl+a);return{OPEN:"open",CLICK:"click",SCROLL:"scroll",EXPAND:"expand",COLLAPSE:"collapse",DISPLAY:"display",VIEW:"view",PAN:"pan",ZOOM:"zoom",CHANGE:"change",
USE:"use",START:"start",STOP:"stop",FAIL:"fail",defaultParams:function(a){c=a||{}},set:function(a,b){h.isString(a)?d[a]=b:h.isObject(a)&&h.mixin(d,a)},start:function(a){g[a]=new Date},end:function(a){"undefined"!==typeof g[a]&&(d[a]=new Date-g[a],delete g[a])},reset:function(){d={};g={}},track:function(f,e){var g={};e=e||!1;f=f||{};f=h.mixin(f,f.params);delete f.params;h.mixin(g,c,d,f);return b.get(a,{query:g,sync:e})}}})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults",
"./util/SimpleQueryEngine"],function(h,b,e){return h("dojo.store.Memory",null,{constructor:function(a){for(var b in a)this[b]=a[b];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:e,get:function(a){return this.data[this.index[a]]},getIdentity:function(a){return a[this.idProperty]},put:function(a,b){var d=this.data,e=this.index,f=this.idProperty,f=a[f]=b&&"id"in b?b.id:f in a?a[f]:Math.random();if(f in e){if(b&&!1===b.overwrite)throw Error("Object already exists");d[e[f]]=
a}else e[f]=d.push(a)-1;return f},add:function(a,b){(b=b||{}).overwrite=!1;return this.put(a,b)},remove:function(a){var b=this.index,d=this.data;if(a in b)return d.splice(b[a],1),this.setData(d),!0},query:function(a,c){return b(this.queryEngine(a,c)(this.data))},setData:function(a){a.items?(this.idProperty=a.identifier,a=this.data=a.items):this.data=a;this.index={};for(var b=0,d=a.length;b<d;b++)this.index[a[b][this.idProperty]]=b}})})},"redfin/request/xhr":function(){define(["dojo/request/xhr","dojo/request/util",
"./util"],function(h,b,e){function a(a,b,g){b=e.optionsWithDefaults(b);e.addCsrfTokenToRequestData(b);return h.apply(null,[a,b,g])}b.addCommonMethods(a);return a})},"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-construct ./dom-style ./has ./ready ./_base/window".split(" "),function(h,b,e,a,c,d,g,f){d.add("highcontrast",function(){var d=f.doc.createElement("div");d.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("+
(b.blankGif||h.toUrl("./resources/blank.gif"))+");";f.body().appendChild(d);var e=c.getComputedStyle(d),g=e.backgroundImage,e=e.borderTopColor==e.borderRightColor||g&&("none"==g||"url(invalid-url:)"==g);a.destroy(d);return e});g(90,function(){d("highcontrast")&&e.add(f.body(),"dj_a11y")});return d})},"dojo/request/iframe":function(){define("module require ./watch ./util ./handlers ../_base/lang ../io-query ../query ../has ../dom ../dom-construct ../_base/window".split(" "),function(h,b,e,a,c,d,g,
f,k,l,m,p){function n(a){return!this.isFulfilled()}function q(a){return!!this._finished}function r(a,b){if(!b)try{var e=a.options,g=u.doc(u._frame),k=e.handleAs;if("html"!==k){if("xml"===k)if("html"===g.documentElement.tagName.toLowerCase()){f("a",g.documentElement).orphan();var h=g.documentElement.innerText,h=h.replace(/>\s+</g,"\x3e\x3c");a.text=d.trim(h)}else a.data=g;else a.text=g.getElementsByTagName("textarea")[0].value;c(a)}else a.data=g}catch(l){b=l}b?this.reject(b):this._finished?this.resolve(a):
this.reject(Error("Invalid dojo/request/iframe request state"))}function t(a){this._callNext()}function u(b,c,d){var f=a.parseArgs(b,a.deepCreate(x,c),!0);b=f.url;c=f.options;if("GET"!==c.method&&"POST"!==c.method)throw Error(c.method+" not supported by dojo/request/iframe");u._frame||(u._frame=u.create(u._iframeName,v+"();"));b=a.deferred(f,null,n,q,r,t);b._callNext=function(){this._calledNext||(this._calledNext=!0,u._currentDfd=null,u._fireNextRequest())};b._legacy=d;u._dfdQueue.push(b);u._fireNextRequest();
e(b);return d?b:b.promise}var w=h.id.replace(/[\/\.\-]/g,"_"),v=w+"_onload";p.global[v]||(p.global[v]=function(){var a=u._currentDfd;if(a){var b=l.byId(a.response.options.form)||a._tmpForm;if(b){for(var c=a._contentToClean,d=0;d<c.length;d++)for(var f=c[d],e=0;e<b.childNodes.length;e++){var g=b.childNodes[e];if(g.name===f){m.destroy(g);break}}a._originalAction&&b.setAttribute("action",a._originalAction);a._originalMethod&&(b.setAttribute("method",a._originalMethod),b.method=a._originalMethod);a._originalTarget&&
(b.setAttribute("target",a._originalTarget),b.target=a._originalTarget)}a._tmpForm&&(m.destroy(a._tmpForm),delete a._tmpForm);a._finished=!0}else u._fireNextRequest()});var x={method:"POST"};u.create=function(a,c,d){if(p.global[a])return p.global[a];if(p.global.frames[a])return p.global.frames[a];d||(k("config-useXDomain")&&!k("config-dojoBlankHtmlUrl")&&console.warn("dojo/request/iframe: When using cross-domain Dojo builds, please save dojo/resources/blank.html to your domain and set dojoConfig.dojoBlankHtmlUrl to the path on your domain to blank.html"),
d=k("config-dojoBlankHtmlUrl")||b.toUrl("dojo/resources/blank.html"));c=m.place('\x3ciframe id\x3d"'+a+'" name\x3d"'+a+'" src\x3d"'+d+'" onload\x3d"'+c+'" style\x3d"position: absolute; left: 1px; top: 1px; height: 1px; width: 1px; visibility: hidden"\x3e',p.body());return p.global[a]=c};u.doc=function(a){if(a.contentDocument)return a.contentDocument;var b=a.name;if(b){var c=p.doc.getElementsByTagName("iframe");if(a.document&&c[b].contentWindow&&c[b].contentWindow.document)return c[b].contentWindow.document;
if(p.doc.frames[b]&&p.doc.frames[b].document)return p.doc.frames[b].document}return null};u.setSrc=function(a,b,c){a=p.global.frames[a.name];a.contentWindow&&(a=a.contentWindow);try{c?a.location.replace(b):a.location=b}catch(d){}};u._iframeName=w+"_IoIframe";u._notifyStart=function(){};u._dfdQueue=[];u._currentDfd=null;u._fireNextRequest=function(){var b;try{if(!u._currentDfd&&u._dfdQueue.length){do b=u._currentDfd=u._dfdQueue.shift();while(b&&(b.canceled||b.isCanceled&&b.isCanceled())&&u._dfdQueue.length);
if(!b||b.canceled||b.isCanceled&&b.isCanceled())u._currentDfd=null;else{var c=b.response,f=c.options,e=b._contentToClean=[],k=l.byId(f.form),h=a.notify,n=f.data||null,v;!b._legacy&&"POST"===f.method&&!k?k=b._tmpForm=m.create("form",{name:w+"_form",style:{position:"absolute",top:"-1000px",left:"-1000px"}},p.body()):"GET"===f.method&&(k&&-1<c.url.indexOf("?"))&&(v=c.url.slice(c.url.indexOf("?")+1),n=d.mixin(g.queryToObject(v),n));if(k){if(!b._legacy){var r=k;do r=r.parentNode;while(r!==p.doc.documentElement);
r||(k.style.position="absolute",k.style.left="-1000px",k.style.top="-1000px",p.body().appendChild(k));k.name||(k.name=w+"_form")}if(n){var r=function(a,b){m.create("input",{type:"hidden",name:a,value:b},k);e.push(a)},q;for(q in n){var t=n[q];if(d.isArray(t)&&1<t.length)for(v=0;v<t.length;v++)r(q,t[v]);else k[q]?k[q].value=t:r(q,t)}}var x=k.getAttributeNode("action"),E=k.getAttributeNode("method"),H=k.getAttributeNode("target");c.url&&(b._originalAction=x?x.value:null,x?x.value=c.url:k.setAttribute("action",
c.url));if(b._legacy){if(!E||!E.value)mthdNode?mthdNode.value=f.method:fn.setAttribute("method",f.method)}else b._originalMethod=E?E.value:null,E?E.value=f.method:k.setAttribute("method",f.method);b._originalTarget=H?H.value:null;H?H.value=u._iframeName:k.setAttribute("target",u._iframeName);k.target=u._iframeName;h&&h.emit("send",c,b.promise.cancel);u._notifyStart(c);k.submit()}else f="",c.options.data&&(f=c.options.data,"string"!==typeof f&&(f=g.objectToQuery(f))),r=c.url+(-1<c.url.indexOf("?")?
"\x26":"?")+f,h&&h.emit("send",c,b.promise.cancel),u._notifyStart(c),u.setSrc(u._frame,r,!0)}}}catch(Q){b.reject(Q)}};a.addCommonMethods(u,["GET","POST"]);return u})},"dijit/form/_ListBase":function(){define("dijit/form/_ListBase",["dojo/_base/declare","dojo/on","dojo/window"],function(h,b,e){return h("dijit.form._ListBase",null,{selected:null,_listConnect:function(a,c){var d=this;return d.own(b(d.containerNode,b.selector(function(a,b,c){return a.parentNode==c},a),function(a){a.preventDefault();d[c](a,
this)}))},selectFirstNode:function(){for(var a=this.containerNode.firstChild;a&&"none"==a.style.display;)a=a.nextSibling;this._setSelectedAttr(a)},selectLastNode:function(){for(var a=this.containerNode.lastChild;a&&"none"==a.style.display;)a=a.previousSibling;this._setSelectedAttr(a)},selectNextNode:function(){var a=this.selected;if(a){for(a=a.nextSibling;a&&"none"==a.style.display;)a=a.nextSibling;a?this._setSelectedAttr(a):this.selectFirstNode()}else this.selectFirstNode()},selectPreviousNode:function(){var a=
this.selected;if(a){for(a=a.previousSibling;a&&"none"==a.style.display;)a=a.previousSibling;a?this._setSelectedAttr(a):this.selectLastNode()}else this.selectLastNode()},_setSelectedAttr:function(a){if(this.selected!=a){var b=this.selected;b&&(this.onDeselect(b),this.selected=null);a&&(this.selected=a,e.scrollIntoView(a),this.onSelect(a))}else if(a)this.onSelect(a)}})})},"redfin/search/service_endpoints":function(){define(["dijit","dojo","dojox"],function(h,b,e){b.provide("redfin.search.service_endpoints");
redfin.serviceEndpoints={gisSearch:"/stingray/do/gis-search?",gisCacheableSearch:"/stingray/do/cacheable-gis-search?",gisSchoolSearch:"/stingray/do/gis-school-search?",affordabilitySearch:"/stingray/do/affordability-search?",queryLocation:"/stingray/do/query-location?",queryRegionId:"/stingray/do/query-regionid?",gisMarkListing:"/stingray/do/gis-mark-listing?",serviceAssociatedListingsUpdate:"/stingray/do/service-associated-listings-update",updateFavoritesInBulk:"/stingray/do/update-favorites-in-bulk?",
getClaimedHomes:"/stingray/do/homeSettings/api/getClaimHomeStatus",updateClaimHome:"/stingray/do/homeSettings/api/editHomeSettings",gisIdSearch:"/stingray/do/gis-id-search?",apiEditLogin:"/stingray/do/api-edit-login?",apiGetFavorites:"/stingray/do/api-get-favorites",apiGetFavoritesHomepage:"/stingray/do/api-get-favorites-homepage",apiGetRecentViewedHomepage:"/stingray/do/api-get-recent-viewed-homepage",apiGetMySearches:"/stingray/do/api-get-my-searches",apiGetMyRecommendations:"/stingray/do/api-get-my-recommendations",
apiGetNotes:"/stingray/do/api-get-notes",apiOoas:"/stingray/do/api-ooas",apiTextToDownload:"/stingray/do/api-text-to-download",marketHomeSearch:"/stingray/do/market-home-search?",removeNotes:"/stingray/do/api-save-notes?text\x3d\x26",apiDismissPhotoDialog:"/stingray/do/api-dismiss-photo-dialog",apiGetNumPhotosUploaded:"/stingray/do/api-get-num-photos-uploaded",apiGetCallUsDialogActivity:"/stingray/do/api-get-call-us-dialog-activity",apiUpdateCallUsDialogActivity:"/stingray/do/api-update-call-us-dialog-activity",
listingFacebookLike:"/stingray/do/listing-facebook-like?",apiCheckAgentToolsAccess:"/stingray/do/api-check-agent-tools-access",gisSearchPersonalization:"/stingray/do/api-gis-search-personalization",addToPropertyList:"/myredfin/propertyLists/addToList",removeFromPropertyList:"/myredfin/propertyLists/removeFromList",getPropertyList:"/myredfin/propertyLists/getMy"}})},"redfin/common/data/CorgiPersonal":function(){define(["dijit","dojo","dojox","dojo/require!redfin/common/data/DataObject,redfin/search/common/RestrictedValueAccessor"],
function(h,b,e){b.provide("redfin.common.data.CorgiPersonal");b.require("redfin.common.data.DataObject");b.require("redfin.search.common.RestrictedValueAccessor");b.declare("redfin.common.data.CorgiPersonal",[redfin.common.data.DataObject],{})})},"redfin/search/details/ContactBoxABTestMixin":function(){define("redfin/search/details/ContactBoxABTestMixin","dojo dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-class dojo/io/iframe dojo/dom-construct dojo/topic dojo/has redfin/common/testing/ABTestController".split(" "),
function(h,b,e,a,c,d,g,f,k,l){return b("redfin.search.details.ContactBoxABTestMixin",[],{_renderContactBoxABTestVariation:function(){g_bouncer().isOn(g_feature.CONTACT_BOX_AGENT_SLIDE_SHOW_AB_TEST)?this._prepareContactBoxForRotatingAgentsExperiment():g_bouncer().isOn(g_feature.CONTACT_BOX_HEADER_MINIMIZATION_AGENT_INTRO_EXPERIMENT)?this._prepareContactBoxForContactBoxHeaderMinimizationExperiment():this._runAskAnAgentAsALinkExperiment()?this._prepareContactBoxForContactBoxAskAnAgentAsALinkExperiment():
this._runStarsExperiment()?this._prepareContactBoxForContactBoxStarsExperiment():this._runNewPhotographyExperiment()?(this._prepareContactBoxForContactBoxNewPhotographyExperiment(),this.data.get("contactBox.showingNewPhotography")?(c.remove(this.buyBoxContainer,"buyBoxContainer"),c.add(this.buyBoxContainer,"buyBoxContainerNewPhotography")):c.remove(this.buyBoxContainer,"splitMap")):this._runContactBoxForContactBoxQuestionFormOnSDPExperiment()?this._prepareContactBoxForContactBoxQuestionFormOnSDPExperiment():
this._runContactBoxForContactBoxCTATextSDPExperiment()&&this._prepareContactBoxForContactBoxCTATextSDPExperiment();this._generateExperimentController({experimentId:g_feature.CONTACT_BOX_RF_AB_TESTING_AND_GCE_AB_TESTING_EXPERIMENTS,target:["noop"],category:"redfin.search.ldp"});this.delayedAdopt("redfin.common.widgets.ContactBox",this.data.get("contactBox"),this.buyBoxNode,e.hitch(this,function(a){this.buyBox=a}))},_prepareContactBoxForRotatingAgentsExperiment:function(){var a=new l,b=h.cookie("RF_BROWSER_ID");
a.initialize({experimentId:g_feature.CONTACT_BOX_AGENT_SLIDE_SHOW_AB_TEST,experimentInstanceId:b,target:["click_tour_button_contact_box"],category:"redfin.search.ldp"});b=a.whenLoaded();if("undefined"!==typeof b&&null!==b){var c=this.data.get("contactBox");b.then(function(){f.subscribe("onSuccessfulContactBoxConversion",function(b){a.completedGoal(function(){},{target:b})});c.experimentController=a},function(){})}},_prepareContactBoxForContactBoxHeaderMinimizationExperiment:function(){var a=new l,
b=h.cookie("RF_BROWSER_ID");a.initialize({experimentId:g_feature.CONTACT_BOX_HEADER_MINIMIZATION_AGENT_INTRO_EXPERIMENT,experimentInstanceId:b,target:["click_tour_button_contact_box"],category:"redfin.search.ldp"});b=a.whenLoaded();if("undefined"!==typeof b&&null!==b){var c=this.data.get("contactBox");b.then(function(){f.subscribe("onSuccessfulContactBoxConversion",function(b){a.completedGoal(function(){},{target:b})});c.experimentController=a},function(){})}},_prepareContactBoxForContactBoxAskAnAgentAsALinkExperiment:function(){var a=
new l,a=this._generateExperimentController({experimentId:g_feature.CONTACT_BOX_ASK_AN_AGENT_AS_A_LINK_EXPERIMENT,target:["click_contact_box_ask_a_question_form_ask_now_button","click_tour_button_contact_box","click_contact_box_ask_a_question_form","contact_box_ask_a_question_link","contact_box_any_target"],category:"redfin.search.ldp"});this._prepareContactBox(a,this._generateTargetCallback(a,this._getContactBox()))},_prepareContactBoxForContactBoxStarsExperiment:function(){var a=new l,a=this._generateExperimentController({experimentId:g_feature.CONTACT_BOX_STARS_EXPERIMENT,
target:["click_tour_button_contact_box"],category:"redfin.search.ldp"});this._prepareContactBox(a,this._generateTargetCallback(a,this._getContactBox()))},_prepareContactBoxForContactBoxNewPhotographyExperiment:function(){var a=this._generateExperimentController({experimentId:g_feature.CONTACT_BOX_NEW_PHOTOGRAPHY_EXPERIMENT,target:"click_contact_box_ask_a_question_form_ask_now_button click_tour_button_contact_box click_contact_button_contact_box click_seller_consultation_button_contact_box click_contact_box_profile contact_box_any_target".split(" "),
category:"redfin.search.ldp"});this._prepareContactBox(a,this._generateTargetCallback(a,this._getContactBox()))},_prepareContactBoxForContactBoxQuestionFormOnSDPExperiment:function(){var a=this._generateExperimentController({experimentId:g_feature.CONTACT_BOX_QUESTION_FORM_ON_SDP_EXPERIMENT,category:"redfin.search.sdp",target:["click_contact_button_contact_box","click_contact_box_ask_a_question_form_ask_now_button","click_contact_box_ask_a_question_form","contact_box_any_target"]});this._prepareContactBox(a,
this._generateTargetCallback(a,this._getContactBox()))},_prepareContactBoxForContactBoxCTATextSDPExperiment:function(){var a=this._generateExperimentController({experimentId:g_feature.CONTACT_BOX_CTA_TEXT_ON_SDP_EXPERIMENT,category:"redfin.search.sdp",target:["click_contact_button_contact_box"]});this._prepareContactBox(a,this._generateTargetCallback(a,this._getContactBox()))},_prepareContactBoxForContactBoxMinimalButtonTextExperiment:function(a){var b=this._generateExperimentController({experimentId:g_feature.CONTACT_BOX_MINIMAL_BUTTON_TEXT_EXPERIMENT,
category:"redfin.homepage",target:["click_contact_button_contact_box"]});this._prepareContactBox(b,this._generateTargetCallback(b,a))},_generateExperimentController:function(a){var b=new l;b.initialize({experimentId:a.experimentId,experimentInstanceId:h.cookie("RF_BROWSER_ID"),target:a.target,category:a.category});return b},_prepareContactBox:function(a,b){var c=a.whenLoaded();"undefined"!==typeof c&&null!==c&&c.then(b,function(){})},_getContactBox:function(){return this.data.get("contactBox")},_generateTargetCallback:function(b,
c){return function(){f.subscribe("onSuccessfulContactBoxConversion",function(c){b.completedGoal(function(){},{target:c});-1<a.indexOf(b.target,"contact_box_any_target")&&b.completedGoal(function(){},{target:"contact_box_any_target"})});c.experimentController=b}},_runAskAnAgentAsALinkExperiment:function(){return this._isOnLDP()&&g_bouncer().isOn(g_feature.CONTACT_BOX_AB_TESTING)&&g_bouncer().isOn(g_feature.CONTACT_BOX_ASK_AN_AGENT_AS_A_LINK_EXPERIMENT)&&!this._runNewPhotographyExperiment()&&!this._isAgentAssigned()&&
!this._isBlockedBox()&&!this._isMobile()},_runStarsExperiment:function(){return this._isOnLDP()&&g_bouncer().isOn(g_feature.CONTACT_BOX_AB_TESTING)&&g_bouncer().isOn(g_feature.CONTACT_BOX_STARS_EXPERIMENT)&&!this._runNewPhotographyExperiment()&&!this._isAgentAssigned()&&!this._isAgentPreferred()&&!this._isBlockedBox()&&!this._isMobile()},_runNewPhotographyExperiment:function(){return g_bouncer().isOn(g_feature.CONTACT_BOX_NEW_PHOTOGRAPHY_EXPERIMENT)&&this._isInNewPhotographyExperiment()&&!this._isBlockedBox()},
_runContactBoxForContactBoxQuestionFormOnSDPExperiment:function(){return this._isOnSDP()&&g_bouncer().isOn(g_feature.CONTACT_BOX_AB_TESTING)&&g_bouncer().isOn(g_feature.CONTACT_BOX_QUESTION_FORM_ON_SDP_EXPERIMENT)&&!this._runNewPhotographyExperiment()&&!this._isBlockedBox()&&!this._isMobile()&&!this._isAgentAssigned()},_runContactBoxForContactBoxCTATextSDPExperiment:function(){return this._isOnSDP()&&g_bouncer().isOn(g_feature.CONTACT_BOX_AB_TESTING)&&g_bouncer().isOn(g_feature.CONTACT_BOX_CTA_TEXT_ON_SDP_EXPERIMENT)&&
!this._runNewPhotographyExperiment()&&!this._isMobile()&&!this._isAgentAssigned()},_runContactBoxMinimalButtonTextExperiment:function(a){return a.presentationType===g_contactBoxPresentationType.MINIMAL&&g_bouncer().isOn(g_feature.CONTACT_BOX_AB_TESTING)&&g_bouncer().isOn(g_feature.CONTACT_BOX_MINIMAL_BUTTON_TEXT_EXPERIMENT)},_isOnLDP:function(){return null!=this.data&&null!=this.data.get("contactBox.gaCategory")?0<=this.data.get("contactBox.gaCategory").indexOf("LDP"):!1},_isOnSDP:function(){return null!=
this.data&&null!=this.data.get("contactBox.gaCategory")?0<=this.data.get("contactBox.gaCategory").indexOf("SDP"):!1},_isInNewPhotographyExperiment:function(){return this.data.get("contactBox.isInNewPhotographyExperiment")},_isAgentAssigned:function(){return this.data.get("agentContactInfo")?this.data.get("agentContactInfo.customerAgentStatus")==g_customerAgentStatus.AGENT_ASSIGNED||this.data.get("agentContactInfo.customerAgentStatus")==g_customerAgentStatus.AGENT_PENDING:!1},_isAgentPreferred:function(){return this.data.get("agentContactInfo")?
this.data.get("agentContactInfo.customerAgentStatus")==g_customerAgentStatus.PREFERRED_AGENT:!1},_isBlockedBox:function(){return this.data.get("contactBox.isBlocked")||1>this.data.get("contactBox.numAgentsToDisplay")},_isMobile:function(){return k("mobile-enabled")}})})},"dojox/date/zoneinfo/ext/backward":function(){require({cache:{"url:dojox/date/zoneinfo/backward":"Link\tAfrica/Asmara\t\tAfrica/Asmera\nLink\tAfrica/Bamako\t\tAfrica/Timbuktu\nLink\tAmerica/Argentina/Catamarca\tAmerica/Argentina/ComodRivadavia\nLink\tAmerica/Adak\t\tAmerica/Atka\nLink\tAmerica/Argentina/Buenos_Aires\tAmerica/Buenos_Aires\nLink\tAmerica/Argentina/Catamarca\tAmerica/Catamarca\nLink\tAmerica/Atikokan\tAmerica/Coral_Harbour\nLink\tAmerica/Argentina/Cordoba\tAmerica/Cordoba\nLink\tAmerica/Tijuana\t\tAmerica/Ensenada\nLink\tAmerica/Indiana/Indianapolis\tAmerica/Fort_Wayne\nLink\tAmerica/Indiana/Indianapolis\tAmerica/Indianapolis\nLink\tAmerica/Argentina/Jujuy\tAmerica/Jujuy\nLink\tAmerica/Indiana/Knox\tAmerica/Knox_IN\nLink\tAmerica/Kentucky/Louisville\tAmerica/Louisville\nLink\tAmerica/Argentina/Mendoza\tAmerica/Mendoza\nLink\tAmerica/Rio_Branco\tAmerica/Porto_Acre\nLink\tAmerica/Argentina/Cordoba\tAmerica/Rosario\nLink\tAmerica/St_Thomas\tAmerica/Virgin\nLink\tAsia/Ashgabat\t\tAsia/Ashkhabad\nLink\tAsia/Chongqing\t\tAsia/Chungking\nLink\tAsia/Dhaka\t\tAsia/Dacca\nLink\tAsia/Kathmandu\t\tAsia/Katmandu\nLink\tAsia/Kolkata\t\tAsia/Calcutta\nLink\tAsia/Macau\t\tAsia/Macao\nLink\tAsia/Jerusalem\t\tAsia/Tel_Aviv\nLink\tAsia/Ho_Chi_Minh\tAsia/Saigon\nLink\tAsia/Thimphu\t\tAsia/Thimbu\nLink\tAsia/Makassar\t\tAsia/Ujung_Pandang\nLink\tAsia/Ulaanbaatar\tAsia/Ulan_Bator\nLink\tAtlantic/Faroe\t\tAtlantic/Faeroe\nLink\tEurope/Oslo\t\tAtlantic/Jan_Mayen\nLink\tAustralia/Sydney\tAustralia/ACT\nLink\tAustralia/Sydney\tAustralia/Canberra\nLink\tAustralia/Lord_Howe\tAustralia/LHI\nLink\tAustralia/Sydney\tAustralia/NSW\nLink\tAustralia/Darwin\tAustralia/North\nLink\tAustralia/Brisbane\tAustralia/Queensland\nLink\tAustralia/Adelaide\tAustralia/South\nLink\tAustralia/Hobart\tAustralia/Tasmania\nLink\tAustralia/Melbourne\tAustralia/Victoria\nLink\tAustralia/Perth\t\tAustralia/West\nLink\tAustralia/Broken_Hill\tAustralia/Yancowinna\nLink\tAmerica/Rio_Branco\tBrazil/Acre\nLink\tAmerica/Noronha\t\tBrazil/DeNoronha\nLink\tAmerica/Sao_Paulo\tBrazil/East\nLink\tAmerica/Manaus\t\tBrazil/West\nLink\tAmerica/Halifax\t\tCanada/Atlantic\nLink\tAmerica/Winnipeg\tCanada/Central\nLink\tAmerica/Regina\t\tCanada/East-Saskatchewan\nLink\tAmerica/Toronto\t\tCanada/Eastern\nLink\tAmerica/Edmonton\tCanada/Mountain\nLink\tAmerica/St_Johns\tCanada/Newfoundland\nLink\tAmerica/Vancouver\tCanada/Pacific\nLink\tAmerica/Regina\t\tCanada/Saskatchewan\nLink\tAmerica/Whitehorse\tCanada/Yukon\nLink\tAmerica/Santiago\tChile/Continental\nLink\tPacific/Easter\t\tChile/EasterIsland\nLink\tAmerica/Havana\t\tCuba\nLink\tAfrica/Cairo\t\tEgypt\nLink\tEurope/Dublin\t\tEire\nLink\tEurope/London\t\tEurope/Belfast\nLink\tEurope/Chisinau\t\tEurope/Tiraspol\nLink\tEurope/London\t\tGB\nLink\tEurope/London\t\tGB-Eire\nLink\tEtc/GMT\t\t\tGMT+0\nLink\tEtc/GMT\t\t\tGMT-0\nLink\tEtc/GMT\t\t\tGMT0\nLink\tEtc/GMT\t\t\tGreenwich\nLink\tAsia/Hong_Kong\t\tHongkong\nLink\tAtlantic/Reykjavik\tIceland\nLink\tAsia/Tehran\t\tIran\nLink\tAsia/Jerusalem\t\tIsrael\nLink\tAmerica/Jamaica\t\tJamaica\nLink\tAsia/Tokyo\t\tJapan\nLink\tPacific/Kwajalein\tKwajalein\nLink\tAfrica/Tripoli\t\tLibya\nLink\tAmerica/Tijuana\t\tMexico/BajaNorte\nLink\tAmerica/Mazatlan\tMexico/BajaSur\nLink\tAmerica/Mexico_City\tMexico/General\nLink\tPacific/Auckland\tNZ\nLink\tPacific/Chatham\t\tNZ-CHAT\nLink\tAmerica/Denver\t\tNavajo\nLink\tAsia/Shanghai\t\tPRC\nLink\tPacific/Pago_Pago\tPacific/Samoa\nLink\tPacific/Truk\t\tPacific/Yap\nLink\tEurope/Warsaw\t\tPoland\nLink\tEurope/Lisbon\t\tPortugal\nLink\tAsia/Taipei\t\tROC\nLink\tAsia/Seoul\t\tROK\nLink\tAsia/Singapore\t\tSingapore\nLink\tEurope/Istanbul\t\tTurkey\nLink\tEtc/UCT\t\t\tUCT\nLink\tAmerica/Anchorage\tUS/Alaska\nLink\tAmerica/Adak\t\tUS/Aleutian\nLink\tAmerica/Phoenix\t\tUS/Arizona\nLink\tAmerica/Chicago\t\tUS/Central\nLink\tAmerica/Indiana/Indianapolis\tUS/East-Indiana\nLink\tAmerica/New_York\tUS/Eastern\nLink\tPacific/Honolulu\tUS/Hawaii\nLink\tAmerica/Indiana/Knox\tUS/Indiana-Starke\nLink\tAmerica/Detroit\t\tUS/Michigan\nLink\tAmerica/Denver\t\tUS/Mountain\nLink\tAmerica/Los_Angeles\tUS/Pacific\nLink\tPacific/Pago_Pago\tUS/Samoa\nLink\tEtc/UTC\t\t\tUTC\nLink\tEtc/UTC\t\t\tUniversal\nLink\tEurope/Moscow\t\tW-SU\nLink\tEtc/UTC\t\t\tZulu\n"}});
define("dojox/date/zoneinfo/ext/backward",["dojo/_base/lang","dojo/text!../backward"],function(h,b){h.setObject("dojox.date.ext.backward",b);return b})},"dojox/string/Builder":function(){define("dojox/string/Builder",["dojo/_base/lang"],function(h){h.getObject("string",!0,dojox).Builder=function(b){var e="";this.length=0;this.append=function(a){if(1<arguments.length){var b="";switch(arguments.length){case 9:b=""+arguments[8]+b;case 8:b=""+arguments[7]+b;case 7:b=""+arguments[6]+b;case 6:b=""+arguments[5]+
b;case 5:b=""+arguments[4]+b;case 4:b=""+arguments[3]+b;case 3:b=""+arguments[2]+b;case 2:e+=""+arguments[0]+arguments[1]+b;break;default:for(var d=0;d<arguments.length;)b+=arguments[d++];e+=b}}else e+=a;this.length=e.length;return this};this.concat=function(a){return this.append.apply(this,arguments)};this.appendArray=function(a){return this.append.apply(this,a)};this.clear=function(){e="";this.length=0;return this};this.replace=function(a,b){e=e.replace(a,b);this.length=e.length;return this};this.remove=
function(a,b){void 0===b&&(b=e.length);if(0==b)return this;e=e.substr(0,a)+e.substr(a+b);this.length=e.length;return this};this.insert=function(a,b){e=0==a?b+e:e.slice(0,a)+b+e.slice(a);this.length=e.length;return this};this.toString=function(){return e};b&&this.append(b)};return dojox.string.Builder})},"redfin/common/data/util/UserNotificationFactory":function(){define(["dojo/_base/declare","dojo/_base/sniff","redfin/bouncer/Bouncer"],function(h,b,e){h=h("redfin.common.data.util.UserNotificationFactory",
[],{getUserNotification:function(a,c){switch(a){case "mobile_app_download":var d="\x3cbr/\x3eTake your home search on the go with the Redfin app.\x3cbr/\x3e",d="/"!==document.location.pathname||!e.isOn(g_feature.MOBILE_APP_DOWNLOAD)||"App_store_button"===e.getVariant(g_feature.MOBILE_APP_DOWNLOAD)||b("ios")||b("android")?d+("\x3cdiv style\x3d'font-weight:bold'\x3eiPhone/iPad\x3c/div\x3e\x3ca class\x3d'appleIcon' style\x3d'margin:0 auto;width:129px;padding:10px' href\x3d'http://c.tapsense.com/c/track/website/5192c285e4b03ea802d118ff?cid\x3dheader_reminder'\x3e\x3cimg src\x3d'"+
g_imageServerUrl+"/images/logos/download_app_store_badge-135x40.png' alt\x3d'real estate app' style\x3d'width:129px'/\x3e\x3c/a\x3e\x3cdiv style\x3d'font-weight:bold'\x3eAndroid\x3c/div\x3e\x3ca class\x3d'androidIcon' style\x3d'margin:0 auto;width:129px;padding:10px' href\x3d'https://play.google.com/store/apps/details?id\x3dcom.redfin.android\x26referrer\x3dutm_source%3Dredfinwebsite%26utm_medium%3Dusernotification%26utm_campaign%3Dlaunch'\x3e\x3cimg src\x3d'"+g_imageServerUrl+"/images/logos/get_on_google_play_badge.png' alt\x3d'real estate app'/\x3e\x3c/a\x3e"):
d+"\x3cdiv class\x3d'formField' style\x3d'width:160px;'\x3e\x3cspan style\x3d'float:right;margin-bottom:0;margin-left:5px;' class\x3d'android-small'\x3e\x3c/span\x3e\x3cspan style\x3d'float:right;margin-bottom:0;margin-left:5px;' class\x3d'apple-small'\x3e\x3c/span\x3e\x3cp style\x3d'font-size:12px;font-weight:bold;margin-top:10px;'\x3eMobile Number\x3c/p\x3e\x3cinput type\x3d'tel' name\x3d'phone' class\x3d'phoneInput' maxlength\x3d'15' placeholder\x3d'555-555-5555' style\x3d'margin:7px 0 10px 0;font-size:13px;padding: 4px 0 4px 7px;'\x3e\x3cdiv class\x3d'Button primary med basic-border-radius clickable textButton'\x3eText Me the Link\x3c/div\x3e\x3cdiv class\x3d'error invalidPhone hidden' style\x3d'margin-top:7px;'\x3eOops! Please enter a valid mobile number.\x3c/div\x3e\x3cdiv class\x3d'error tryAgain hidden'\x3eWe're sorry, there was an error sending you a message. Please try again later.\x3c/div\x3e\x3cp style\x3d'margin:10px 0;'\x3eMessage fees may apply.\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d'thanks hidden' style\x3d'font-size: 12px;font-weight: bold;margin:10px 0;'\x3e\x3cdiv class\x3d'msg'\x3eThanks!\x3cbr/\x3e\x3cbr/\x3eCheck your phone for a text to download the Redfin app.\x3c/div\x3e\x3cspan class\x3d'link'\x3e\x3cbr/\x3eSend Another Text\x3c/span\x3e\x3c/div\x3e";
return{type:"mobile_app_download",priority:"fyi",headline:"Never miss a home!",detail:d};case "abandoned_tour":return d='Schedule a free tour with a local Redfin agent today. \x3cbr/\x3e\x3cdiv class\x3d"customer-facing"\x3e\x3cdiv class\x3d"Button primary small notification"\x3eGo Tour Now',d+="\x3c/div\x3e\x3c/div\x3e",{type:"abandoned_tour",priority:"todo",detail:d}}return null}});redfin.common.data.util.UserNotificationFactory=new h;return h})},"dojo/io/iframe":function(){define("../_base/config ../_base/json ../_base/kernel ../_base/lang ../_base/xhr ../sniff ../_base/window ../dom ../dom-construct ../query require ../aspect ../request/iframe".split(" "),
function(h,b,e,a,c,d,g,f,k,l,m,p,n){e.deprecated("dojo/io/iframe","Use dojo/request/iframe.","2.0");d=n._iframeName;d=d.substring(0,d.lastIndexOf("_"));var q=a.delegate(n,{create:function(){return q._frame=n.create.apply(n,arguments)},get:null,post:null,send:function(a){var d,g=c._ioSetArgs(a,function(a){d&&d.cancel()},function(a){var c=null;a=a.ioArgs;try{var f=a.handleAs;"xml"===f||"html"===f?c=d.response.data:(c=d.response.text,"json"===f?c=b.fromJson(c):"javascript"===f&&(c=e.eval(c)))}catch(g){c=
g}return c},function(a,b){b.ioArgs._hasError=!0;return a}),k=g.ioArgs,l="GET",m=f.byId(a.form);a.method&&("POST"===a.method.toUpperCase()&&m)&&(l="POST");a={method:l,handleAs:"json"===a.handleAs||"javascript"===a.handleAs?"text":a.handleAs,form:a.form,query:m?null:a.content,data:m?a.content:null,timeout:a.timeout,ioArgs:k};a.method&&(a.method=a.method.toUpperCase());if(h.ioPublish&&e.publish&&!1!==k.args.ioPublish)var q=p.after(n,"_notifyStart",function(a){a.options.ioArgs===k&&(q.remove(),c._ioNotifyStart(g))},
!0);d=n(k.url,a,!0);k._callNext=d._callNext;d.then(function(){g.resolve(g)}).otherwise(function(a){g.ioArgs.error=a;g.reject(a)});return g},_iframeOnload:g.global[d+"_onload"]});a.setObject("dojo.io.iframe",q);return q})},"url:redfin/search/details/templates/Sash.html":'\x3cdiv class\x3d"sash"\x3e\n\t\x3cdiv class\x3d"${sashClass} no-print"\x3e\x3c/div\x3e\n\n\t\x3cdiv class\x3d"sash-clickable no-print" data-dojo-attach-point\x3d"clickableSash"\x3e\n\t\t\x3cimg class\x3d"sash-transparent-${size}" src\x3d"${imageServer}/images/clear.gif" usemap\x3d"#sash-map"\x3e\x3cmap name\x3d"sash-map"\x3e\x3carea shape\x3d"poly" coords\x3d"0,80 0,150 150,0 80,0" href\x3d"#" target\x3d"_top" data-dojo-attach-point\x3d"clickTarget"\x3e\x3c/map\x3e\x3c/div\x3e\n\x3c/div\x3e',
"redfin/search/data/mixins/_AccessLevelMixin":function(){define("redfin/search/data/mixins/_AccessLevelMixin",["dijit","dojo","dojox","dojo/require!redfin/search/data/AccessLevelWrapper,redfin/search/data/AccessLevelMethodGenerator,redfin/common/data/MethodGenerator,redfin/search/data/Accessor"],function(h,b,e){b.provide("redfin.search.data.mixins._AccessLevelMixin");b.require("redfin.search.data.AccessLevelWrapper");b.require("redfin.search.data.AccessLevelMethodGenerator");b.require("redfin.common.data.MethodGenerator");
b.require("redfin.search.data.Accessor");redfin.search.data.mixins._AccessLevelMixin={_accessLevelWrapper:null,_defaultAccessLevelWrapper:null,setAccessLevelWrapper:function(a){this._accessLevelWrapper=a},getAccessLevelWrapper:function(){return this._accessLevelWrapper||redfin.search.data.mixins._AccessLevelMixin._defaultAccessLevelWrapper},getRawValue:function(a){return redfin.search.data.Accessor.get(this,a)},getAccessRequiredFields:function(){return this._accessRequiredFields},isRestricted:function(a){if(b.isArray(a)){for(var c=
0;c<a.length;c++){var d=this.getRawValue(a[c]);if(d&&!this.getRestrictedValue(a[c]))return!0}return!1}return(d=this.getRawValue(a))&&!this.getRestrictedValue(a)},hasValue:function(a){return this.getRawValue(a)?!0:!1}}})},"dijit/form/_ComboBoxMenu":function(){define("dijit/form/_ComboBoxMenu","dojo/_base/declare dojo/dom-class dojo/dom-style dojo/keys ../_WidgetBase ../_TemplatedMixin ./_ComboBoxMenuMixin ./_ListMouseMixin".split(" "),function(h,b,e,a,c,d,g,f){return h("dijit.form._ComboBoxMenu",[c,
d,f,g],{templateString:"\x3cdiv class\x3d'dijitReset dijitMenu' data-dojo-attach-point\x3d'containerNode' style\x3d'overflow: auto; overflow-x: hidden;'\x3e\x3cdiv class\x3d'dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point\x3d'previousButton' role\x3d'option'\x3e\x3c/div\x3e\x3cdiv class\x3d'dijitMenuItem dijitMenuNextButton' data-dojo-attach-point\x3d'nextButton' role\x3d'option'\x3e\x3c/div\x3e\x3c/div\x3e",baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments);
this.isLeftToRight()||(b.add(this.previousButton,"dijitMenuItemRtl"),b.add(this.nextButton,"dijitMenuItemRtl"))},_createMenuItem:function(){var a=this.ownerDocument.createElement("div");a.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl");a.setAttribute("role","option");return a},onHover:function(a){b.add(a,"dijitMenuItemHover")},onUnhover:function(a){b.remove(a,"dijitMenuItemHover")},onSelect:function(a){b.add(a,"dijitMenuItemSelected")},onDeselect:function(a){b.remove(a,
"dijitMenuItemSelected")},_page:function(a){var b=0,c=this.domNode.scrollTop,d=e.get(this.domNode,"height");for(this.getHighlightedOption()||this.selectNextNode();b<d;){var f=this.getHighlightedOption();if(a){if(!f.previousSibling||"none"==f.previousSibling.style.display)break;this.selectPreviousNode()}else{if(!f.nextSibling||"none"==f.nextSibling.style.display)break;this.selectNextNode()}f=this.domNode.scrollTop;b+=(f-c)*(a?-1:1);c=f}},handleKey:function(b){switch(b.keyCode){case a.DOWN_ARROW:return this.selectNextNode(),
!1;case a.PAGE_DOWN:return this._page(!1),!1;case a.UP_ARROW:return this.selectPreviousNode(),!1;case a.PAGE_UP:return this._page(!0),!1;default:return!0}}})})},"redfin/homepage/controllers/HomePageController":function(){define("dojo/_base/declare dojo/dom dojo/query dojo/dom-construct dojo/dom-class dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/aspect dojo/on dojo/when dojo/cookie dojo/window dojo/topic dojo/request dojo/_base/sniff dojo/_base/event redfin/bouncer/Bouncer redfin/common/testing/ABTestController redfin/clicktracker redfin/multiget redfin/search/service_endpoints redfin/common/util/prefetch redfin/common/util redfin/homepage/widgets/HomeSearchWidgetizer redfin/homepage/widgets/PriceYourHomeWidget redfin/homepage/widgets/MyFavoritesWidget redfin/homepage/widgets/RecentHomesWidget redfin/homepage/widgets/MyClaimedHomesWidget redfin/homepage/widgets/SavedSearchesWidget redfin/homepage/widgets/MyRecommendationsWidget redfin/common/OmsAd redfin/common/widgets/TopBanner redfin/search/widget/outdated_browser_dialog".split(" "),
function(h,b,e,a,c,d,g,f,k,l,m,p,n,q,r,t,u,w,v,x,s,y,C,A,z,G,F,B,K,D,M,J,E,H){return h("redfin.homepage.controllers.HomePageController",null,{favoriteHomesData:null,recentHomesData:null,claimedHomesData:null,mySearchesData:null,_mobileAdExperiment:null,_widgetPositionExperiment:null,_mobileDownloadExperiment:null,FAVORITE_HOMES_URL:redfin.serviceEndpoints.apiGetFavoritesHomepage,RECENT_HOMES_URL:redfin.serviceEndpoints.apiGetRecentViewedHomepage,MY_SEARCHES_URL:redfin.serviceEndpoints.apiGetMySearches,
MY_CLAIMED_HOMES:redfin.serviceEndpoints.getClaimedHomes,MY_RECOMMENDATIONS:redfin.serviceEndpoints.apiGetMyRecommendations,TEXT_TO_DOWNLOAD_URL:redfin.serviceEndpoints.apiTextToDownload,BATCH_PERSONAL_SLOW:"BATCH_PERSONAL_SLOW",OMS_MIN_WIDTH:1007,USER_MENU_NOTIFICATION:"UserMenuNotification",DESKTOP_ADS:"desktop-ads",loadData:function(){this.mySearchesData=s.add({url:this.MY_SEARCHES_URL,batch:s.BATCH_PERSONALIZATION}).deferredResponse;s.go(s.BATCH_PERSONALIZATION);w.isOn(g_feature.PERSONALIZED_HOMEPAGE)&&
p("RF_LISTING_VIEWS")?this.recentHomesData=s.add({url:this.RECENT_HOMES_URL,batch:this.BATCH_PERSONAL_SLOW}).deferredResponse:this.recentHomesData=null;w.isOn(g_feature.PERSONALIZED_HOMEPAGE)?(this.favoriteHomesData=s.add({url:this.FAVORITE_HOMES_URL,batch:this.BATCH_PERSONAL_SLOW}).deferredResponse,m(this.favoriteHomesData,function(){},function(){})):this.favoriteHomesData=null;w.isOn(g_feature.CLAIMED_HOMES_ON_HOMEPAGE)&&(this.claimedHomesData=s.add({url:this.MY_CLAIMED_HOMES,content:{format:"corgi",
maxClaimedHomes:5},batch:this.BATCH_PERSONAL_SLOW}).deferredResponse);w.isOn(g_feature.LISTING_RECOMMENDATION_ON_HOMEPAGE)?(this.recommendationsData=s.add({url:this.MY_RECOMMENDATIONS,batch:this.BATCH_PERSONAL_SLOW}).deferredResponse,m(this.recommendationsData,function(){},function(){})):this.recommendationsData=null;s.go(this.BATCH_PERSONAL_SLOW)},createPage:function(){redfin.search.widget.OutdatedBrowserDialog.showDialogIfNecessary();this.loadData();this.searchInputNode=b.byId("searchInputNode");
this.homeSearch=new z({includeHeaderInExperiment:!0,mySearchesData:this.mySearchesData},"HomeSearchWidget");this.homeValueToolInputNode=b.byId("homeValueTool");this.priceYourHomeNode=b.byId("priceYourHomeWidget");this.homeValueSearch=new G({});a.place(this.homeValueSearch.domNode,this.priceYourHomeNode);this.homeSearchTab=b.byId("homeSearchTabNode");this.homeValueToolTab=b.byId("homeValueToolTabNode");l(this.homeSearchTab,"click",f.hitch(this,this.onHomeSearchTabClick));w.isOn(g_feature.HOMEPAGE_SELL_MY_HOME_LINK)||
l(this.homeValueToolTab,"click",f.hitch(this,this.onHomeValueToolTabClick));w.isOn(g_feature.MOBILE_SEARCH_RESULTS)||(mobileSearchLink=b.byId("enableMobileSearchLink"),mobileSearchLink.onclick=null,this.expanded="undefined"!==typeof g_isMobileExpanded&&!!g_isMobileExpanded,l(mobileSearchLink,"click",f.hitch(this,function(){var a=b.byId("expandSearchFormIcon");this.expanded?(dojo.addClass(this.homeSearch.domNode,"wideOnly"),dojo.removeClass(a,"collapse_icon"),dojo.addClass(a,"expand_icon"),dojo.removeClass(mobileSearchLink,
"expanded"),this.expanded=!1):(dojo.removeClass(this.homeSearch.domNode,"wideOnly"),dojo.removeClass(a,"expand_icon"),dojo.addClass(a,"collapse_icon"),dojo.addClass(mobileSearchLink,"expanded"),this.expanded=!0)})));w.isOn(g_feature.PERSONALIZED_HOMEPAGE)&&m(this.isReturningUser(),f.hitch(this,function(d){d&&(w.isOn(g_feature.OMS_ON_PERSONALIZED_HOMEPAGE)&&n.getBox().w>=this.OMS_MIN_WIDTH&&this.createOms(),this.savedSearches=new D({savedSearchesData:this.mySearchesData},"savedSearchesWidget"),this.myFavorites=
new F({favoriteHomesData:this.favoriteHomesData},"myFavoritesWidget"),p("RF_LISTING_VIEWS")?this.recentHomes=new B({recentHomesData:this.recentHomesData},"recentHomesWidget"):a.destroy(b.byId("recentHomesWidget")),w.isOn(g_feature.CLAIMED_HOMES_ON_HOMEPAGE)&&(this.myClaimedHomes=new K({claimedHomesData:this.claimedHomesData},"claimedHomesWidget")),w.isOn(g_feature.LISTING_RECOMMENDATION_ON_HOMEPAGE)&&(this.myRecommendations=new M({recommendationsData:this.recommendationsData},"myRecommendationsWidget")),
this._widgetPositionExperiment=new v,this._widgetPositionExperiment.initialize({experimentId:g_feature.HOMEPAGE_MATCHMAKER_EXPERIMENT,experimentInstanceId:p("RF_BROWSER_ID"),target:["HomepageHomeCard"],category:"redfin.homepage"}),d=this._widgetPositionExperiment.whenLoaded(),"undefined"!==typeof d&&null!==d&&d.then(f.hitch(this,function(){q.subscribe("HomepageHomeCard_Clicked",f.hitch(this,function(){this._widgetPositionExperiment.completedGoal(function(){},{target:"HomepageHomeCard"})}))})),c.add(b.byId("left-markup"),
"mobile"),c.add(b.byId("right-markup"),"mobile"),this.personalizationNode=b.byId("personalizationNode"),c.remove(this.personalizationNode,"collapsed"))}));this.setupMobileAppAds();this.setUpMobileDownloadExperiment();l.once(b.byId("videoContent"),"click",function(){redfin.clicktracker.track({action:redfin.clicktracker.CLICK,target:"homepage.video"})});var d=b.byId("bottomVideoPoster");l(d,"click",f.hitch(this,function(){var a=b.byId("videoContent");dojo.addClass(d,"hidden");dojo.create("embed",{src:"http://img.cdn-redfin.com/static-images/videos/reinvent-688x384-384kbps.mp4",
type:"application/x-shockwave-flash",width:"230",height:"167",allowscriptaccess:"always",allowfullscreen:"true",autostart:"true",showcontrols:"true"},a,"after")}));C.shim()},onHomeSearchTabClick:function(){c.contains(this.homeSearchTab,"current")||(c.remove(this.searchInputNode,"thinOnly"),c.add(this.homeValueToolInputNode,"hidden"),c.remove(this.homeSearchTab,"clickable"),c.add(this.homeSearchTab,"current"),c.remove(this.homeValueToolTab,"current"),c.add(this.homeValueToolTab,"clickable"))},onHomeValueToolTabClick:function(){c.contains(this.homeValueToolTab,
"current")||(c.add(this.searchInputNode,"thinOnly"),c.remove(this.homeValueToolInputNode,"hidden"),c.remove(this.homeValueToolTab,"clickable"),c.add(this.homeValueToolTab,"current"),c.remove(this.homeSearchTab,"current"),c.add(this.homeSearchTab,"clickable"))},createOms:function(){m(this.isLoggedInUser(),f.hitch(this,function(a){a={user_login:a?"loggedin":"none",market:""};var b=p("lastSearch");b&&(b=b.match(/market=(\w+)(-\w+)*/))&&(a.market=b[0].substring(7));this.oms=new J({unit:"/4321348/homepage_personalized",
adId:"div-gpt-ad-1374615723878-0",size:[470,200],targeting:a,hideOnFail:!0},"omsNode");k.after(this.oms,"onLoad",function(){redfin.clicktracker.track({action:redfin.clicktracker.DISPLAY,target:"homepage.oms"})});k.after(this.oms,"onFail",function(){redfin.clicktracker.track({action:redfin.clicktracker.FAIL,target:"homepage.oms"})})}),function(){})},setUpMobileDownloadExperiment:function(){this._mobileDownloadExperiment=new v;this._mobileDownloadExperiment.initialize({experimentId:g_feature.MOBILE_APP_DOWNLOAD,
experimentInstanceId:p("RF_BROWSER_ID"),target:["UserNotification","DesktopAds"],category:"redfin.homepage"});var a=this._mobileDownloadExperiment.whenLoaded();"undefined"!==typeof a&&null!==a&&a.then(f.hitch(this,function(){if("App_store_button"===this._mobileDownloadExperiment.getVariant()||t("ios")||t("android")){dojo.subscribe("UserMenuReady",f.hitch(this,function(){var a=e("."+this.USER_MENU_NOTIFICATION+" .appleIcon")[0],b=e("."+this.USER_MENU_NOTIFICATION+" .androidIcon")[0];l(a,"click",f.hitch(this,
this.onClickAppIcon,a,"UserNotification",!0));l(b,"click",f.hitch(this,this.onClickAppIcon,b,"UserNotification",!0))}));var a=e("."+this.DESKTOP_ADS+" .appleIcon")[0],b=e("."+this.DESKTOP_ADS+" .androidIcon")[0];l(a,"click",f.hitch(this,this.onClickAppIcon,a,"DesktopAds",!0));l(b,"click",f.hitch(this,this.onClickAppIcon,b,"DesktopAds",!0))}else c.add(e(".appStoreButtons")[0],"hidden"),c.remove(e(".textToDownload")[0],"hidden"),a=e("."+this.DESKTOP_ADS+" .textButton")[0],l(a,"click",f.hitch(this,this.onClickTextButton,
this.DESKTOP_ADS)),dojo.subscribe("UserMenuReady",f.hitch(this,function(){var a=e("."+this.USER_MENU_NOTIFICATION+" .textButton")[0];"undefined"!==typeof a&&l(a,"click",f.hitch(this,this.onClickTextButton,this.USER_MENU_NOTIFICATION))}))}))},onClickTextButton:function(a){var b=e("."+a+" .phoneInput")[0].value,d=e("."+a+" .textButton")[0],g=e("."+a+" .invalidPhone")[0],k=e("."+a+" .tryAgain")[0];c.add(g,"hidden");c.add(k,"hidden");redfin.util.phoneNumberIsValid(b)?(c.add(d,"disabled"),d=this.TEXT_TO_DOWNLOAD_URL+
"?phone\x3d"+b,a===this.USER_MENU_NOTIFICATION?(this._mobileDownloadExperiment.completedGoal(function(){},{target:"UserNotification"}),d+="\x26target\x3d"+g_mobileDownloadCampaignTargetType.USER_NOTIFICATION):a===this.DESKTOP_ADS&&(this._mobileDownloadExperiment.completedGoal(function(){},{target:"DesktopAds"}),d+="\x26target\x3d"+g_mobileDownloadCampaignTargetType.DESKTOP_ADS),r(d,{method:"POST",preventCache:!0,handleAs:"json-squiggly"}).then(f.hitch(this,this.handleTwilioSuccessResponse,a,b),f.hitch(this,
this.handleTwilioError))):c.remove(g,"hidden")},handleTwilioSuccessResponse:function(a,b){var d=e("."+a+" .formField")[0],g=e("."+a+" .thanks")[0],k=e("."+a+" .textButton")[0],h=e("."+a+" .phoneInput")[0];c.remove(k,"disabled");c.add(d,"hidden");c.remove(g,"hidden");l(e("."+a+" .link")[0],"click",f.hitch(this,function(){h.value="";c.add(g,"hidden");c.remove(d,"hidden");dojo.global._gaq&&dojo.global._gaq.push(["_trackEvent","Homepage","Enter_A_New_Number_Clicked",null,null])}))},handleTwilioError:function(){var a=
e("."+containerNode+" .tryAgain")[0];c.remove(a,"hidden")},setupMobileAppAds:function(){var a="true"==p("RF_HIDE_MOBILE_BANNER")||"true"==p("RF_IOS_REDIR"),b=t("ios")||0<=(window.location.hash||"").indexOf("ios"),c=t("android")||0<=(window.location.hash||"").indexOf("android");if(!a&&(b||c)){this._mobileAdExperiment=new v;this._mobileAdExperiment.initialize({experimentId:g_feature.HOMEPAGE_MOBILE_AD_EXPERIMENT,experimentInstanceId:p("RF_BROWSER_ID"),target:["clickAd","dismissAd","doSearch"],category:"redfin.homepage"});
var d=b?"ios":"android";m(this._mobileAdExperiment.whenLoaded(),f.hitch(this,function(){var a=this._mobileAdExperiment.getVariant();"mixed"==a?m(this.isReturningUser(),f.hitch(this,function(a){this._setupMobileAd(d,a?"small":"big",!0)})):this._setupMobileAd(d,a,!0);k.before(this.homeSearch,"onSearch",f.hitch(this,this._mobExpGoal,"doSearch"))}),f.hitch(this,function(){this._setupMobileAd(d,"big",!1)}))}},_setupMobileAd:function(a,b,c){"small"==b?this._setupSmallAd(a,c):this._setupBigAd(a,c);c&&k.before(this,
"onClickToApp",f.hitch(this,this._mobExpGoal,"clickAd"))},_setupBigAd:function(a,d){c.remove("ios"==a?"ios_promo":"android_promo","hidden");c.remove("dismissMobileAd","hidden");c.remove("mobile_promo_top","hidden");l(b.byId("dismissMobileAd"),"click",f.hitch(this,function(){c.add("mobile_promo_top","hidden");this._mobExpGoal("dismissAd");p("RF_HIDE_MOBILE_BANNER","true",{expires:30,path:"/"})}))},_setupSmallAd:function(a,b){this.smallAd=new E("ios"==a?E.iOS:E.android);this.smallAd.placeAt(document.body,
"first");b&&(k.before(this.smallAd,"onClick",f.hitch(this,this._mobExpGoal,"clickAd")),k.before(this.smallAd,"onDismiss",f.hitch(this,this._mobExpGoal,"dismissAd")))},onClickAppIcon:function(a,b,c,d){u.stop(d);c?this._mobileDownloadExperiment.completedGoal(function(){},{target:b}):dojo.global._gaq&&dojo.global._gaq.push(["_trackEvent","Homepage",b,null,null]);this.onClickToApp();setTimeout(function(){document.location=a.href},250);return!1},onClickToApp:function(){},_mobExpGoal:function(a){this._mobileAdExperiment.completedGoal(null,
{target:a})},isReturningUser:function(){return p("lastSearch")||p("RF_LISTING_VIEWS")||this.isLoggedInUser()},isLoggedInUser:function(){return m(currentUserInfoAvailable,function(a){return a&&0<a.loginId})},homeSearch:null,homeValueSearch:null,myFavorites:null,recentHomes:null,savedSearches:null,myClaimedHomes:null,myRecommendations:null,oms:null,homeSearchTabNode:null,homeValueToolTabNode:null,searchInputNode:null,homeValueToolInputNode:null,priceYourHomeNode:null,personalizationNode:null})})},"dijit/_KeyNavContainer":function(){define("dijit/_KeyNavContainer",
"dojo/_base/kernel ./_Container ./_FocusMixin dojo/_base/array dojo/keys dojo/_base/declare dojo/_base/event dojo/dom-attr dojo/_base/lang".split(" "),function(h,b,e,a,c,d,g,f,k){return d("dijit._KeyNavContainer",[e,b],{tabIndex:"0",connectKeyNavHandlers:function(b,d){var f=this._keyNavCodes={},e=k.hitch(this,"focusPrev"),g=k.hitch(this,"focusNext");a.forEach(b,function(a){f[a]=e});a.forEach(d,function(a){f[a]=g});f[c.HOME]=k.hitch(this,"focusFirstChild");f[c.END]=k.hitch(this,"focusLastChild");this.connect(this.domNode,
"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus")},startupKeyNavChildren:function(){h.deprecated("startupKeyNavChildren() call no longer needed","","2.0")},startup:function(){this.inherited(arguments);a.forEach(this.getChildren(),k.hitch(this,"_startupChild"))},addChild:function(a,b){this.inherited(arguments);this._startupChild(a)},focus:function(){this.focusFirstChild()},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild())},focusLastChild:function(){this.focusChild(this._getLastFocusableChild())},
focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1))},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),!0)},focusChild:function(a,b){a&&(this.focusedChild&&a!==this.focusedChild&&this._onChildBlur(this.focusedChild),a.set("tabIndex",this.tabIndex),a.focus(b?"end":"start"),this._set("focusedChild",a))},_startupChild:function(a){a.set("tabIndex","-1");this.connect(a,"_onFocus",function(){a.set("tabIndex",this.tabIndex)});this.connect(a,
"_onBlur",function(){a.set("tabIndex","-1")})},_onContainerFocus:function(a){a.target!==this.domNode||this.focusedChild||(this.focusFirstChild(),f.set(this.domNode,"tabIndex","-1"))},_onBlur:function(a){this.tabIndex&&f.set(this.domNode,"tabIndex",this.tabIndex);this.focusedChild=null;this.inherited(arguments)},_onContainerKeypress:function(a){if(!a.ctrlKey&&!a.altKey){var b=this._keyNavCodes[a.charOrCode];b&&(b(),g.stop(a))}},_onChildBlur:function(){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,
1)},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1)},_getNextFocusableChild:function(a,b){a&&(a=this._getSiblingOfChild(a,b));for(var c=this.getChildren(),d=0;d<c.length;d++){a||(a=c[0<b?0:c.length-1]);if(a.isFocusable())return a;a=this._getSiblingOfChild(a,b)}return null}})})},"dijit/form/DataList":function(){define("dijit/form/DataList","dojo/_base/declare dojo/dom dojo/_base/lang dojo/query dojo/store/Memory ../registry".split(" "),function(h,b,e,a,c,d){function g(a){return{id:a.value,
value:a.value,name:e.trim(a.innerText||a.textContent||"")}}return h("dijit.form.DataList",c,{constructor:function(c,k){this.domNode=b.byId(k);e.mixin(this,c);this.id&&d.add(this);this.domNode.style.display="none";this.inherited(arguments,[{data:a("option",this.domNode).map(g)}])},destroy:function(){d.remove(this.id)},fetchSelectedItem:function(){var b=a("\x3e option[selected]",this.domNode)[0]||a("\x3e option",this.domNode)[0];return b&&g(b)}})})},"redfin/search/data/AccessLevelWrapper":function(){define(["dijit",
"dojo","dojox","dojo/require!redfin/search/util/LoginUtil"],function(h,b,e){b.provide("redfin.search.data.AccessLevelWrapper");b.require("redfin.search.util.LoginUtil");b.declare("redfin.search.data.AccessLevelWrapper",null,{_user:null,market:null,listingAccessLevel:null,visibilityProfile:null,dataSource:null,constructor:function(a){b.mixin(this,a)},getUserAccessLevel:function(){var a=redfin.util.login.accessLevel();return a?a:1},getUser:function(){return this._user?this._user:redfin.search.data.AccessLevelWrapper.prototype._defaultUser},
setUser:function(a){this._user=a},setDefaultUser:function(a){redfin.search.data.AccessLevelWrapper.prototype._defaultUser=a},getAccessLevel:function(a,c){if(!a)return null;if("number"===typeof a)return a;var d;return(d="function"===typeof a?"undefined"!==typeof c?this.getAccessLevel(b.hitch(c,a)(),c):this.getAccessLevel(a()):b.getObject(a,!1,this))?d:null},isSignedIn:function(){return this.getUserAccessLevel()>g_accessLevel.PUBLIC},isAdmin:function(){return this.getUserAccessLevel()>=g_accessLevel.REDFIN_AGENT},
hasVisibilityAccess:function(a){var b=g_accessLevel.PUBLIC;this.visibilityProfile&&void 0!==this.visibilityProfile[a]&&(b=this.visibilityProfile[a]);return this.getUserAccessLevel()>=b},canAchieveVisibilityAccess:function(a){var b=g_accessLevel.PUBLIC;this.visibilityProfile&&(b=this.visibilityProfile[a]);return this.userCanAchieveAccess(b)},userHasAccess:function(a){return this.isAtLeastRequiredAccessLevel(this.getUserAccessLevel(),a)},userHasListingAccess:function(){return this.userHasAccess(this.listingAccessLevel)},
userCanAchieveAccess:function(a){return this.userHasAccess(a)||a<g_accessLevels.REDFIN_AGENT},userCanAchieveListingAccess:function(){return this.userCanAchieveAccess(this.listingAccessLevel)},isAtLeastRequiredAccessLevel:function(a,b){if(null===b||void 0===b)b=g_accessLevels.REDFIN_AGENT;return b<=a}})})},"dijit/Tooltip":function(){require({cache:{"url:dijit/templates/Tooltip.html":'\x3cdiv class\x3d"dijitTooltip dijitTooltipLeft" id\x3d"dojoTooltip"\n\t\x3e\x3cdiv class\x3d"dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point\x3d"containerNode" role\x3d\'alert\'\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitTooltipConnector" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\n\x3e\x3c/div\x3e\n'}});
define("dijit/Tooltip","dojo/_base/array dojo/_base/declare dojo/_base/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff ./_base/manager ./place ./_Widget ./_TemplatedMixin ./BackgroundIframe dojo/text!./templates/Tooltip.html ./main".split(" "),function(h,b,e,a,c,d,g,f,k,l,m,p,n,q,r,t,u,w){var v=b("dijit._MasterTooltip",[q,r],{duration:p.defaultDuration,templateString:u,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);
this.bgIframe=new t(this.domNode);this.fadeIn=e.fadeIn({node:this.domNode,duration:this.duration,onEnd:f.hitch(this,"_onShow")});this.fadeOut=e.fadeOut({node:this.domNode,duration:this.duration,onEnd:f.hitch(this,"_onHide")})},show:function(a,b,c,d,e){if(!this.aroundNode||!(this.aroundNode===b&&this.containerNode.innerHTML==a))if("playing"==this.fadeOut.status())this._onDeck=arguments;else{this.containerNode.innerHTML=a;e&&this.set("textDir",e);this.containerNode.align=d?"right":"left";var k=n.around(this.domNode,
b,c&&c.length?c:x.defaultPosition,!d,f.hitch(this,"orient")),h=k.aroundNodePos;"M"==k.corner.charAt(0)&&"M"==k.aroundCorner.charAt(0)?(this.connectorNode.style.top=h.y+(h.h-this.connectorNode.offsetHeight>>1)-k.y+"px",this.connectorNode.style.left=""):"M"==k.corner.charAt(1)&&"M"==k.aroundCorner.charAt(1)?this.connectorNode.style.left=h.x+(h.w-this.connectorNode.offsetWidth>>1)-k.x+"px":(this.connectorNode.style.left="",this.connectorNode.style.top="");g.set(this.domNode,"opacity",0);this.fadeIn.play();
this.isShowingNow=!0;this.aroundNode=b}},orient:function(a,b,c,f,e){this.connectorNode.style.top="";var g=f.h;f=f.w;a.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[b+
"-"+c];this.domNode.style.width="auto";var k=d.position(this.domNode);9==m("ie")&&(k.w+=2);var h=Math.min(Math.max(f,1),k.w);d.setMarginBox(this.domNode,{w:h});"B"==c.charAt(0)&&"B"==b.charAt(0)?(a=d.position(a),b=this.connectorNode.offsetHeight,a.h>g?(this.connectorNode.style.top=g-(e.h+b>>1)+"px",this.connectorNode.style.bottom=""):(this.connectorNode.style.bottom=Math.min(Math.max(e.h/2-b/2,0),a.h-b)+"px",this.connectorNode.style.top="")):(this.connectorNode.style.top="",this.connectorNode.style.bottom=
"");return Math.max(0,k.w-f)},_onShow:function(){m("ie")&&(this.domNode.style.filter="")},hide:function(a){this._onDeck&&this._onDeck[1]==a?this._onDeck=null:this.aroundNode===a&&(this.fadeIn.stop(),this.isShowingNow=!1,this.aroundNode=null,this.fadeOut.play())},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";this._onDeck&&(this.show.apply(this,this._onDeck),this._onDeck=null)},_setAutoTextDir:function(a){this.applyTextDir(a,m("ie")?a.outerText:a.textContent);h.forEach(a.children,
function(a){this._setAutoTextDir(a)},this)},_setTextDirAttr:function(a){this._set("textDir",a);"auto"==a?this._setAutoTextDir(this.containerNode):this.containerNode.dir=this.textDir}});w.showTooltip=function(a,b,c,d,f){c&&(c=h.map(c,function(a){return{after:"after-centered",before:"before-centered"}[a]||a}));x._masterTT||(w._masterTT=x._masterTT=new v);return x._masterTT.show(a,b,c,d,f)};w.hideTooltip=function(a){return x._masterTT&&x._masterTT.hide(a)};var x=b("dijit.Tooltip",q,{label:"",showDelay:400,
connectId:[],position:[],selector:"",_setConnectIdAttr:function(b){h.forEach(this._connections||[],function(a){h.forEach(a,function(a){a.remove()})},this);this._connectIds=h.filter(f.isArrayLike(b)?b:b?[b]:[],function(b){return a.byId(b,this.ownerDocument)},this);this._connections=h.map(this._connectIds,function(b){b=a.byId(b,this.ownerDocument);var c=this.selector,d=c?function(a){return l.selector(c,a)}:function(a){return a},e=this;return[l(b,d(k.enter),function(){e._onHover(this)}),l(b,d("focusin"),
function(){e._onHover(this)}),l(b,d(k.leave),f.hitch(e,"_onUnHover")),l(b,d("focusout"),f.hitch(e,"_onUnHover"))]},this);this._set("connectId",b)},addTarget:function(a){a=a.id||a;-1==h.indexOf(this._connectIds,a)&&this.set("connectId",this._connectIds.concat(a))},removeTarget:function(a){a=h.indexOf(this._connectIds,a.id||a);0<=a&&(this._connectIds.splice(a,1),this.set("connectId",this._connectIds))},buildRendering:function(){this.inherited(arguments);c.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);
var a=this.connectId;h.forEach(f.isArrayLike(a)?a:[a],this.addTarget,this)},getContent:function(a){return this.label||this.domNode.innerHTML},_onHover:function(a){this._showTimer||(this._showTimer=this.defer(function(){this.open(a)},this.showDelay))},_onUnHover:function(){this._showTimer&&(this._showTimer.remove(),delete this._showTimer);this.close()},open:function(a){this._showTimer&&(this._showTimer.remove(),delete this._showTimer);var b=this.getContent(a);b&&(x.show(b,a,this.position,!this.isLeftToRight(),
this.textDir),this._connectNode=a,this.onShow(a,this.position))},close:function(){this._connectNode&&(x.hide(this._connectNode),delete this._connectNode,this.onHide());this._showTimer&&(this._showTimer.remove(),delete this._showTimer)},onShow:function(){},onHide:function(){},destroy:function(){this.close();h.forEach(this._connections||[],function(a){h.forEach(a,function(a){a.remove()})},this);this.inherited(arguments)}});x._MasterTooltip=v;x.show=w.showTooltip;x.hide=w.hideTooltip;x.defaultPosition=
["after-centered","before-centered"];return x})},"dijit/main":function(){define("dijit/main",["dojo/_base/kernel"],function(h){return h.dijit})},"url:redfin/search/common/elements/templates/ClickerTooltip.html":'\x3cdiv class\x3d"hidden ClickerTooltip basic-border-radius transition-opaque"\x3e\n\t\x3cdiv class\x3d"arrow" data-dojo-attach-point\x3d"arrowNode"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"header"\x3e\n\t\t\x3ch3 class\x3d"clear-fix"\x3e\n\t\t\t\x3cdiv class\x3d"float-right inline-block basic-border-radius basic-button-black med close clickable hidden" data-dojo-attach-point\x3d"closeNode"\x3e\x3cdiv class\x3d"inline-block sprite-16-close"\x3e\x3c/div\x3e\x3c/div\x3e\n\t\t\t\x3cspan class\x3d"nowrap" data-dojo-attach-point\x3d"headerNode"\x3e\x3c/span\x3e\n\t\t\x3c/h3\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"content grey-pattern-bg" data-dojo-attach-point\x3d"contentNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"redfin/common/elements/Button":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-class dojo/keys dojo/text!redfin/common/elements/templates/Button.html dijit/_Widget dijit/_TemplatedMixin dijit/form/Button dijit/form/ComboButton dijit/form/DropDownButton dijit/form/ToggleButton redfin/common/mixins/_Adopt redfin/common/mixins/_Hoverable".split(" "),function(h,b,e,a,c,d,g,f,k,l,m,p,n,q){return k=h("redfin.common.elements.Button",[g,f,n,q],{templateString:d,label:"",type:"primary",
size:"med",iconClass:"",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,suppressEventsWhenDisabled:!1,attributeMap:b.delegate(g.prototype.attributeMap,{iconClass:{node:"iconNode",type:"class"}}),buildRendering:function(){this.inherited(arguments);a.add(this.domNode,this.size);this.iconClass&&0<this.iconClass.length&&a.remove(this.iconNode,"hidden")},_fillContent:function(a){a&&(!this.params||!("label"in this.params))&&this.set("label",a.innerHTML)},postCreate:function(){e.setSelectable(this.focusNode,
!1);this.inherited(arguments);this.connect(this.domNode,"ondijitclick",function(){if(!this._suppressEvents())this.onClick()});this.connect(this.domNode,"onkeydown",function(b){this.focused&&b.keyCode==c.ENTER&&a.add(this.domNode,"active")});this.connect(this.domNode,"onkeyup",function(b){b.keyCode==c.ENTER&&a.remove(this.domNode,"active")})},_suppressEvents:function(){return this.disabled&&this.suppressEventsWhenDisabled},isFocusable:function(){return!this.disabled&&!this.readOnly},focus:function(){dijit.focus(this.focusNode)},
_setDisabledAttr:function(b){b=(this.disabled=b)?a.remove:a.add;(this.disabled?a.add:a.remove)(this.domNode,"disabled");b(this.domNode,"clickable");this.set("tabIndex",this.disabled?"-1":"0")},_setLabelAttr:function(a){this.containerNode.innerHTML=this.label=a},_setTypeAttr:function(b){a.remove(this.domNode,this.type);a.add(this.domNode,b);this.type=b}})})},"dijit/layout/ContentPane":function(){define("dijit/layout/ContentPane","dojo/_base/kernel dojo/_base/lang ../_Widget ../_Container ./_ContentPaneResizeMixin dojo/string dojo/html dojo/i18n!../nls/loading dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/_base/xhr dojo/i18n dojo/when".split(" "),
function(h,b,e,a,c,d,g,f,k,l,m,p,n,q,r,t){return l("dijit.layout.ContentPane",[e,a,c],{href:"",content:"",extractContent:!1,parseOnLoad:!0,parserScope:h._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"\x3cspan class\x3d'dijitContentPaneLoading'\x3e\x3cspan class\x3d'dijitInline dijitIconLoading'\x3e\x3c/span\x3e${loadingState}\x3c/span\x3e",errorMessage:"\x3cspan class\x3d'dijitContentPaneError'\x3e\x3cspan class\x3d'dijitInline dijitIconError'\x3e\x3c/span\x3e${errorState}\x3c/span\x3e",
isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,create:function(a,c){if((!a||!a.template)&&c&&!("href"in a)&&!("content"in a)){c=p.byId(c);for(var d=c.ownerDocument.createDocumentFragment();c.firstChild;)d.appendChild(c.firstChild);a=b.delegate(a,{content:d})}this.inherited(arguments,[a,c])},postMixInProperties:function(){this.inherited(arguments);var a=r.getLocalization("dijit","loading",this.lang);this.loadingMessage=d.substitute(this.loadingMessage,
a);this.errorMessage=d.substitute(this.errorMessage,a)},buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode);this.domNode.title="";n.get(this.domNode,"role")||this.domNode.setAttribute("role","group")},startup:function(){this.inherited(arguments);this._contentSetter&&k.forEach(this._contentSetter.parseResults,function(a){!a._started&&(!a._destroyed&&b.isFunction(a.startup))&&(a.startup(),a._started=!0)},this)},_startChildren:function(){k.forEach(this.getChildren(),
function(a){!a._started&&(!a._destroyed&&b.isFunction(a.startup))&&(a.startup(),a._started=!0)});this._contentSetter&&k.forEach(this._contentSetter.parseResults,function(a){!a._started&&(!a._destroyed&&b.isFunction(a.startup))&&(a.startup(),a._started=!0)},this)},setHref:function(a){h.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",a)},_setHrefAttr:function(a){this.cancel();this.onLoadDeferred=new m(b.hitch(this,"cancel"));
this.onLoadDeferred.then(b.hitch(this,"onLoad"));this._set("href",a);this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(a){h.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",a)},_setContentAttr:function(a){this._set("href","");this.cancel();this.onLoadDeferred=new m(b.hitch(this,"cancel"));this._created&&this.onLoadDeferred.then(b.hitch(this,"onLoad"));
this._setContent(a||"");this._isDownloaded=!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},destroy:function(){this.cancel();this.inherited(arguments)},destroyRecursive:function(a){this._beingDestroyed||this.inherited(arguments)},_onShow:function(){this.inherited(arguments);if(this.href&&!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||
this.refreshOnShow))return this.refresh()},refresh:function(){this.cancel();this.onLoadDeferred=new m(b.hitch(this,"cancel"));this.onLoadDeferred.then(b.hitch(this,"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var a=this,c={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};b.isObject(this.ioArgs)&&b.mixin(c,this.ioArgs);var d=this._xhrDfd=(this.ioMethod||q.get)(c),f;d.then(function(b){f=b;try{return a._isDownloaded=
!0,a._setContent(b,!1)}catch(c){a._onError("Content",c)}},function(b){d.canceled||a._onError("Download",b);delete a._xhrDfd;return b}).then(function(){a.onDownloadEnd();delete a._xhrDfd;return f});delete this._hrefChanged},_onLoadHandler:function(a){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(a)}catch(b){console.error("Error "+this.widgetId+" running custom onLoad code: "+b.message)}},_onUnloadHandler:function(){this._set("isLoaded",!1);try{this.onUnload()}catch(a){console.error("Error "+
this.widgetId+" running custom onUnload code: "+a.message)}},destroyDescendants:function(a){this.isLoaded&&this._onUnloadHandler();var b=this._contentSetter;k.forEach(this.getChildren(),function(b){b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a);b._destroyed=!0});b&&(k.forEach(b.parseResults,function(b){b._destroyed||(b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a),b._destroyed=!0)}),delete b.parseResults);a||g._emptyNode(this.containerNode);delete this._singleChild},
_setContent:function(a,c){this.destroyDescendants();var d=this._contentSetter;d&&d instanceof g._ContentSetter||(d=this._contentSetter=new g._ContentSetter({node:this.containerNode,_onError:b.hitch(this,this._onError),onContentError:b.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(b){console.error("Fatal "+this.id+" could not change content due to "+b.message,b)}})}));var f=b.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!a.domNode&&
this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{}),f=d.set(b.isObject(a)&&a.domNode?a.domNode:a,f),e=this;return t(f&&f.then?f:d.parseDeferred,function(){delete e._contentSetterParams;c||(e._started&&(e._startChildren(),e._scheduleLayout()),e._onLoadHandler(a))})},_onError:function(a,b,c){this.onLoadDeferred.reject(b);a=this["on"+a+"Error"].call(this,b);c?console.error(c,b):a&&this._setContent(a,!0)},onLoad:function(){},
onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})})},"url:redfin/search/common/dialogs/templates/EmailVerificationDialogBody.html":'\x3cdiv class\x3d"EmailVerificationDialog grey-pattern"\x3e\n\t\x3cp\x3eBefore we can show you every last piece of listing information, \x3cb\x3eMLS rules require that we verify your email address.\x3c/b\x3e\x3c/p\x3e\n\t\n\t\x3cp data-dojo-attach-point\x3d"sendingNode"\x3eSending a verification email...\x3c/p\x3e\n\n\t\x3cdiv class\x3d"hidden" data-dojo-attach-point\x3d"successNode"\x3e\n\t\t\x3cp\x3eWe\'ve sent a verification email to \x3cspan class\x3d"verificationEmail"\x3e\x3c/span\x3e. You will be able to see all of our listing information once you \x3cb\x3eclick the link in that email.\x3c/b\x3e\x3c/p\x3e\n\t\t\x3cul\x3e\x3cli\x3e\x3cb\x3eIf you do not see the email from Redfin in your inbox\x3c/b\x3e, make sure you check your spam folder.\x3c/li\x3e\n\t\t\t\x3cli\x3e\x3cb\x3eIf \x3cspan class\x3d"verificationEmail"\x3e\x3c/span\x3e\x26nbsp; is not your email address\x3c/b\x3e, please change your email address on your \x3ca href\x3d"/myredfin/settings" target\x3d"_top"\x3eaccount settings page\x3c/a\x3e.\x3c/li\x3e\n\t\t\t\x3cli\x3e\x3cb\x3eIf all else fails\x3c/b\x3e, please email \x3ca href\x3d"mailto:customer-service@redfin.com"\x3ecustomer-service@redfin.com\x3c/a\x3e or call 877-973-3346 for assistance.\x3c/li\x3e\n\t\t\x3c/ul\x3e\x3c/div\x3e\n\n\t\x3cdiv class\x3d"hidden" data-dojo-attach-point\x3d"alreadySentNode"\x3e\n\t\t\x3cp\x3eWe sent a verification email to \x3cspan class\x3d"verificationEmail"\x3e\x3c/span\x3e\x26nbsp;\x3cspan data-dojo-attach-point\x3d"timeSentNode"\x3e\x3c/span\x3e. You will be able to see all of our listing information once you \x3cb\x3eclick the link in that email.\x3c/b\x3e\x3c/p\x3e\n\t\t\x3cul\x3e\x3cli\x3e\x3cb\x3eIf you do not see the email from Redfin in your inbox\x3c/b\x3e, make sure you check your spam folder.\x3c/li\x3e\n\t\t\t\x3cli\x3e\x3cb\x3eIf \x3cspan class\x3d"verificationEmail"\x3e\x3c/span\x3e is not your email address\x3c/b\x3e, please change your email address on your \x3ca href\x3d"/myredfin/settings" target\x3d"_top"\x3eaccount settings page\x3c/a\x3e.\x3c/li\x3e\n\t\t\t\x3cli\x3e\x3cb\x3eIf all else fails\x3c/b\x3e, please email \x3ca href\x3d"mailto:customer-service@redfin.com"\x3ecustomer-service@redfin.com\x3c/a\x3e or call 877-973-3346 for assistance.\x3c/li\x3e\n\t\t\x3c/ul\x3e\x3c/div\x3e\n\n\t\x3cdiv class\x3d"hidden" data-dojo-attach-point\x3d"errorMessageNode"\x3e\n\t\t\x3cp\x3eThere was an error sending an email to \x3cspan class\x3d"verificationEmail"\x3e\x3c/span\x3e.\x3c/p\x3e\n\t\t\x3cul\x3e\x3cli\x3e\x3cb\x3eIf \x3cspan class\x3d"verificationEmail"\x3e\x3c/span\x3e\x26nbsp;is not your email address\x3c/b\x3e, please change your email address on your \x3ca href\x3d"/myredfin/settings"\x3eaccount settings page\x3c/a\x3e.\x3c/li\x3e\n\t\t\t\x3cli\x3e\x3cb\x3eIf all else fails\x3c/b\x3e, please email \x3ca href\x3d"mailto:customer-service@redfin.com"\x3ecustomer-service@redfin.com\x3c/a\x3e or call 877-973-3346 for assistance.\x3c/li\x3e\n\t\t\x3c/ul\x3e\x3c/div\x3e\n\n\t\x3cp class\x3d"hidden" data-dojo-attach-point\x3d"notLoggedInNode"\x3eYou need to first log in order for us to verify your email address.\x3c/p\x3e\n\n\t\x3cp class\x3d"hidden" data-dojo-attach-point\x3d"alreadyVerifiedNode"\x3eYour email address has already been verified. You may need to \x3cb\x3erefresh this page\x3c/b\x3e to see all listing information.\x3c/p\x3e\n\n\t\x3cp class\x3d"hidden" data-dojo-attach-point\x3d"unknownErrorNode"\x3eThere was an unknown error sending to your email address. Please contact \x3ca href\x3d"mailto:customer-service@redfin.com"\x3ecustomer-service@redfin.com\x3c/a\x3e or call us at 877-973-3346 if this problem persists.\x3c/p\x3e\n\x3c/div\x3e',
"dijit/_WidgetsInTemplateMixin":function(){define("dijit/_WidgetsInTemplateMixin",["dojo/_base/array","dojo/_base/declare","dojo/parser"],function(h,b,e){return b("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,widgetsInTemplate:!0,_beforeFillContent:function(){if(this.widgetsInTemplate){var a=this._startupWidgets=e.parse(this.domNode,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,scope:"dojo"});if(!a.isFulfilled())throw Error(this.declaredClass+
": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");this._attachTemplateNodes(a,function(a,b){return a[b]})}},startup:function(){h.forEach(this._startupWidgets,function(a){a&&(!a._started&&a.startup)&&a.startup()});this.inherited(arguments)}})})},"redfin/common/CrossFrameTopic":function(){define("redfin/common/CrossFrameTopic",["dijit","dojo","dojox","dojo/require!dojo/cookie,redfin/common/util"],
function(h,b,e){b.provide("redfin.common.CrossFrameTopic");b.require("dojo.cookie");b.require("redfin.common.util");b.declare("redfin.common.CrossFrameTopic",null,{_topicName:"",_subscribeHandle:null,_lastCookieId:0,_lastNewCookieValue:null,constructor:function(a){if(!b.isString(a))throw Error("topicName must be a string.");this._topicName=a},publish:function(a){if(!a)throw Error("message must not be null.");a={id:(new Date).getTime(),msg:a};b.cookie(this._topicName,b.toJson(a),{path:"/"})},subscribe:function(a,
c){if(!b.isFunction(a))throw Error("callback has to be a function.");if(this._subscribeHandle)throw Error("Only one subscription per object at a time allowed.");if(redfin.util.areCookiesSupported()){var d=b.cookie(this._topicName);this._lastCookieId=d?b.fromJson(d).id:0}else this._lastCookieId=(new Date).getTime();this._lastNewCookieValue=null;this._subscribeHandle=setInterval(b.hitch(this,function(){var d=b.cookie(this._topicName);if(d&&this._lastNewCookieValue!=d){var f=b.fromJson(d);if(f&&f.id>
this._lastCookieId){try{b.hitch(c?c:this,a)(f.msg)}catch(e){}this._lastCookieId=f.id}}this._lastNewCookieValue=d}),100)},unsubscribe:function(){if(!this._subscribeHandle)throw Error("You must call subscribe before unsubscribe.");clearInterval(this._subscribeHandle);this._subscribeHandle=null;this._lastCookieValue=""}})})},"redfin/search/map/QuickMap":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/array dojo/_base/event dojo/window dojo/io-query dojo/dom-class dojo/dom-style dojo/dom-attr dojo/request dojo/text!./templates/QuickMap.html dijit/_WidgetBase dijit/_TemplatedMixin redfin/common/mixins/_Adopt redfin/search/map/_MapMixin redfin/search/util/NumberUtil redfin/search/util/StringUtil redfin/common/data/ObjectGraph redfin/search/data/DataLoaderWrapper redfin/common/data/DataObject".split(" "),
function(h,b,e,a,c,d,g,f,k,l,m,p,n,q,r,t,u,w){return b([p,n,q,r],{templateString:m,mapLoadingParams:{channel:"quick-map"},mapCreateParams:{scrollwheel:!0},mapSizePercentage:{width:0.8,height:0.7},parcelStreamEnabled:!0,parcelOutlineUrl:"/stingray/dataloader/property/{id}/parcelbounds",_setDirectionsAttr:function(a){(a&&""!==h.trim(a)?g.remove:g.add)(this.directionsContainer,"hidden");this.directionsLinkNode.href=a;this._set("directions",a)},_setDetailsLinkAttr:function(a){(a&&""!==h.trim(a)?g.remove:
g.add)(this.detailsLinkContainer,"hidden");this.detailsLinkNode.href=a;this._set("detailsLink",a)},_setBingAttr:function(a){if(a){var b=[u.defaultValue(t.dollars(a.price),""),u.defaultValue(a.beds,"--"),"beds",u.defaultValue(a.baths,"--"),"baths"].join(" "),b=[a.lat,a.lng,a.address,b].join("_");this.birdsEyeLinkNode.href="http://maps.live.com/default.aspx?"+d.objectToQuery({cp:a.lat+"~"+a.lng,style:"b",dir:0,sp:"Point."+b});g.remove(this.bingContainer,"hidden")}else g.add(this.bingContainer,"hidden");
this._set("bing",a)},_setHomeAttr:function(a){this._mapHitch(function(){a.latlng=a.latlng||new google.maps.LatLng(a.lat,a.lng);this.map.checkStreetView(a.latlng,h.hitch(this,function(b){b?(a.panoData=b,g.remove(this.streetviewLink,"unavail"),"streetview"!==this.get("mapType")&&g.add(this.streetviewLink,"link"),this.streetviewLink.innerHTML="Street View"):(g.remove(this.streetviewLink,"link"),g.add(this.streetviewLink,"unavail"),this.streetviewLink.innerHTML="Street View Unavailable","streetview"===
this.get("mapType")&&this.set("mapType","roadmap"));this.drawFastMarker(a);this.map.centerMap(a);this.getParcelOutline(a);this._set("home",a)}))})},_setHomeOutlineAttr:function(a){this._mapHitch(function(){this.drawOutline(a);this._set("homeOutline",a)})},buildRendering:function(){this._calculateSize();this.inherited(arguments)},postCreate:function(){this._bindEvents()},_bindEvents:function(){this.connect(this.centerMapLink,"onclick",function(){this._mapHitch(function(){this.map.centerMap(this.home)})})},
onClickMapType:function(a){var b=k.get(a.target,"data-dojo-attach-point");b&&g.contains(a.target,"link")&&(b=b.slice(0,b.indexOf("Link")),this.set.apply(this,["mapType"].concat(b)))},_setMapTypeAttr:function(a){var b=this.get("mapType");if(b){var c=this[b+"Link"];switch(b){case "roadmap":case "satellite":case "hybrid":case "terrain":c=this.roadmapLink}g.contains(c,"unavail")||g.add(c,"link")}switch(a){case "roadmap":case "satellite":case "hybrid":case "terrain":g.remove(this.roadmapLink,"link");break;
default:g.remove(this[a+"Link"],"link")}this.inherited(arguments)},resize:function(){this.inherited(arguments);this.resizeMap()},_calculateSize:function(){var a=c.getBox();this.mapSize.width=a.w*this.mapSizePercentage.width;this.mapSize.height=a.h*this.mapSizePercentage.height},resizeMap:function(){this._calculateSize();this.inherited(arguments);f.set(this.controlBarNode,{width:this.mapSize.width+"px"})},getParcelOutline:function(a){a&&a.id&&l(h.replace(this.parcelOutlineUrl,a),{handleAs:"json-squiggly"}).then(h.hitch(this,
function(a){try{var b=(new w(a.payload)).getRoot().getData();this.drawOutline(b.get("bounds"))}catch(c){}}))},onkeypress:function(b){this._mapHitch(function(){var c=b.charOrCode;if("+"==c||"\x3d"==c)this.map.setZoom(this.map.getZoom()+1),a.stop(b);else if("-"==c||"_"==c)this.map.setZoom(this.map.getZoom()-1),a.stop(b)})}})})},"dijit/_HasDropDown":function(){define("dijit/_HasDropDown","dojo/_base/declare dojo/_base/Deferred dojo/_base/event dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on dojo/window ./registry ./focus ./popup ./_FocusMixin".split(" "),
function(h,b,e,a,c,d,g,f,k,l,m,p,n,q,r,t,u){return h("dijit._HasDropDown",u,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:0,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(a){!this.disabled&&!this.readOnly&&(a.preventDefault(),this._docHandler=this.connect(this.ownerDocument,"mouseup","_onDropDownMouseUp"),this.toggleDropDown())},_onDropDownMouseUp:function(a){a&&this._docHandler&&
this.disconnect(this._docHandler);var b=this.dropDown,c=!1;if(a&&this._opened){var f=g.position(this._buttonNode,!0);if(!(a.pageX>=f.x&&a.pageX<=f.x+f.w)||!(a.pageY>=f.y&&a.pageY<=f.y+f.h)){for(f=a.target;f&&!c;)d.contains(f,"dijitPopup")?c=!0:f=f.parentNode;if(c){f=a.target;if(b.onItemClick){for(var e;f&&!(e=q.byNode(f));)f=f.parentNode;if(e&&e.onClick&&e.getParent)e.getParent().onItemClick(e,a)}return}}}this._opened?b.focus&&!1!==b.autoFocus&&(this._focusDropDownTimer=this.defer(function(){b.focus();
delete this._focusDropDownTimer})):this.defer("focus");k("ios")&&(this._justGotMouseUp=!0,this.defer(function(){this._justGotMouseUp=!1}))},_onDropDownClick:function(a){k("touch")&&!this._justGotMouseUp&&(this._onDropDownMouseDown(a),this._onDropDownMouseUp(a));this._stopClickEvents&&e.stop(a)},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var a={after:this.isLeftToRight()?
"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",left:"Left",right:"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";d.add(this._arrowWrapperNode||this._buttonNode,"dijit"+a+"ArrowButton")},postCreate:function(){this.inherited(arguments);this.own(p(this._buttonNode,"mousedown",m.hitch(this,"_onDropDownMouseDown")),p(this._buttonNode,"click",m.hitch(this,"_onDropDownClick")),p(this.focusNode,"keydown",m.hitch(this,"_onKey")),p(this.focusNode,"keyup",
m.hitch(this,"_onKeyUp")))},destroy:function(){this.dropDown&&(this.dropDown._destroyed||this.dropDown.destroyRecursive(),delete this.dropDown);this.inherited(arguments)},_onKey:function(a){if(!this.disabled&&!this.readOnly){var b=this.dropDown,c=a.target;if(b&&(this._opened&&b.handleKey)&&!1===b.handleKey(a))e.stop(a);else if(b&&this._opened&&a.keyCode==l.ESCAPE)this.closeDropDown(),e.stop(a);else if(!this._opened&&(a.keyCode==l.DOWN_ARROW||(a.keyCode==l.ENTER||a.keyCode==l.SPACE)&&("input"!==(c.tagName||
"").toLowerCase()||c.type&&"text"!==c.type.toLowerCase())))this._toggleOnKeyUp=!0,e.stop(a)}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var a=this.dropDown;a&&a.focus&&this.defer(m.hitch(a,"focus"),1)}},_onBlur:function(){var b=r.curNode&&this.dropDown&&a.isDescendant(r.curNode,this.dropDown.domNode);this.closeDropDown(b);this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(a){a()},loadAndOpenDropDown:function(){var a=new b,
c=m.hitch(this,function(){this.openDropDown();a.resolve(this.dropDown)});this.isLoaded()?c():this.loadDropDown(c);return a},toggleDropDown:function(){!this.disabled&&!this.readOnly&&(this._opened?this.closeDropDown():this.loadAndOpenDropDown())},openDropDown:function(){var a=this.dropDown,b=a.domNode,e=this._aroundNode||this.domNode,k=this;this._preparedNode||(this._preparedNode=!0,b.style.width&&(this._explicitDDWidth=!0),b.style.height&&(this._explicitDDHeight=!0));if(this.maxHeight||this.forceWidth||
this.autoWidth){var h={display:"",visibility:"hidden"};this._explicitDDWidth||(h.width="");this._explicitDDHeight||(h.height="");f.set(b,h);h=this.maxHeight;if(-1==h)var h=n.getBox(this.ownerDocument),l=g.position(e,!1),h=Math.floor(Math.max(l.y,h.h-(l.y+l.h)));t.moveOffScreen(a);a.startup&&!a._started&&a.startup();var l=g.getMarginSize(b),p=h&&l.h>h;f.set(b,{overflowX:"visible",overflowY:p?"auto":"visible"});p?(l.h=h,"w"in l&&(l.w+=16)):delete l.h;this.forceWidth?l.w=e.offsetWidth:this.autoWidth?
l.w=Math.max(l.w,e.offsetWidth):delete l.w;m.isFunction(a.resize)?a.resize(l):g.setMarginBox(b,l)}a=t.open({parent:this,popup:a,around:e,orient:this.dropDownPosition,onExecute:function(){k.closeDropDown(!0)},onCancel:function(){k.closeDropDown(!0)},onClose:function(){c.set(k._popupStateNode,"popupActive",!1);d.remove(k._popupStateNode,"dijitHasDropDownOpen");k._set("_opened",!1)}});c.set(this._popupStateNode,"popupActive","true");d.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",
!0);this.domNode.setAttribute("aria-expanded","true");return a},closeDropDown:function(a){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);this._opened&&(this.domNode.setAttribute("aria-expanded","false"),a&&this.focus(),t.close(this.dropDown),this._opened=!1)}})})},"redfin/common/elements/HomeInfoCard":function(){define(["dijit","dojo","dojox","dojo/require!redfin/search/common/_PhasedWidget,redfin/search/util/StringUtil,redfin/search/util/NumberUtil,redfin/search/util/LoginUtil,redfin/search/util/DateUtil,redfin/search/data/HomeBadgeDecorator,redfin/search/search_listings,redfin/search/details/media/MediaFlicker,redfin/search/details/ZoomToCropImageCard,redfin/search/details/Sash,redfin/search/common/mixins/xhr/_PersonalizeHome,redfin/search/common/SpinnerProgressAction,redfin/search/common/_Spinner,redfin/search/common/dialogs/EmailVerificationDialog,redfin/search/common/elements/HoverTooltip,redfin/search/data/mixins/_PropertyCssMixin,redfin/search/util/LocationUtil,dijit/form/CheckBox,dijit/form/RadioButton,redfin/common/util/strings,redfin/facebook/FacebookLoginHelper,redfin/common/HomeAddress,redfin/common/HomeStats,redfin/common/HomeSash,dojo/has"],
function(h,b,e){b.provide("redfin.common.elements.HomeInfoCard");b.require("redfin.search.common._PhasedWidget");b.require("redfin.search.util.StringUtil");b.require("redfin.search.util.NumberUtil");b.require("redfin.search.util.LoginUtil");b.require("redfin.search.util.DateUtil");b.require("redfin.search.data.HomeBadgeDecorator");b.require("redfin.search.search_listings");b.require("redfin.search.details.media.MediaFlicker");b.require("redfin.search.details.ZoomToCropImageCard");b.require("redfin.search.details.Sash");
b.require("redfin.search.common.mixins.xhr._PersonalizeHome");b.require("redfin.search.common.SpinnerProgressAction");b.require("redfin.search.common._Spinner");b.require("redfin.search.common.dialogs.EmailVerificationDialog");b.require("redfin.search.common.elements.HoverTooltip");b.require("redfin.search.data.mixins._PropertyCssMixin");b.require("redfin.search.util.LocationUtil");b.require("dijit.form.CheckBox");b.require("dijit.form.RadioButton");b.require("redfin.common.util.strings");b.require("redfin.facebook.FacebookLoginHelper");
b.require("redfin.common.HomeAddress");b.require("redfin.common.HomeStats");b.require("redfin.common.HomeSash");b.require("dojo.has");b.declare("redfin.common.elements.HomeInfoCard",[redfin.search.common._PhasedWidget,redfin.search.common._Spinner],{needSignin:!1,needEmailVerification:!1,badgeDecorator:null,propertyId:null,backgroundClass:"theme-bg",url:null,windowSize:{width:154,height:104},timeZone:null,clickable:!1,showExtraControls:!1,showBasicInfo:!0,showHeaderInfo:!0,showOutline:!0,showNotes:!0,
showAddressTooltip:!1,showRemoveButton:!1,selected:!1,openLinkInNewTab:!1,_addressTooltip:null,_imageLoading:!1,_spinner:null,_selectionCallbacks:[],_isCheckBoxEnabled:!0,higherSimilar:!1,lowerSimilar:!1,homepageExperiment:!1,GAEvent:!1,eventCategory:null,eventAction:null,eventLabel:null,eventValue:null,hideOuterSash:!0,loginFacebook:!0,templateString:b.cache("redfin.common.elements","templates/HomeInfoCard.html",'\x3cdiv class\x3d"home-info-card"\x3e\n\t\x3cdiv class\x3d"highlight" dojoAttachPoint\x3d"highlight"\x3e\t\n\t\t\x3cdiv class\x3d"card-header hidden" dojoAttachPoint\x3d"regularHeader"\x3e\n\t\t\t\x3cspan class\x3d"clickable float-right inline-block icon hidden" dojoAttachPoint\x3d"favoriteHome"\x3e\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"clickable float-right inline-block more-info-icon hidden whyThisListingRecommendationButton" dojoAttachPoint\x3d"whyThisListingRecommendationButtonNode"\x3e\n\t\t\t\t\x3cspan dojoAttachPoint\x3d"whyThisListingRecommendationNode"\x3e\x3c/span\x3e\n\t\t\t\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"clickable float-right inline-block icon select-icon hidden" dojoAttachPoint\x3d"selectHome"\x3e\n\t\t\t\t\x3cinput type\x3d"checkbox" class\x3d"checkbox" dojoAttachPoint\x3d"selectHomeCheckBox"/\x3e\n\t\t\t\x3c/span\x3e\t\n\t\t\t\x3cspan class\x3d"float-right inline-block icon hidden" dojoAttachPoint\x3d"warning"\x3e\n\t\t\t\t\x3cimg class\x3d"warning" dojoAttachPoint\x3d"warningIcon"/\x3e\n\t\t\t\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"float-right inline-block icon date hidden" dojoAttachPoint\x3d"soldDate"\x3e\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"float-right inline-block icon custom hidden" dojoAttachPoint\x3d"customIcon"\x3e\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"float-right inline-block remove icon-16-remove-x hidden" dojoAttachPoint\x3d"removeButtonNode"\x3e\x3c/span\x3e\n\n\t\t\t\x3cdiv data-dojo-attach-point\x3d\'_addressNode\' style\x3d"display:inline-block; text-align:left"\x3e\x3c/div\x3e\n\n\t\t\x3c/div\x3e\t\t\n\t\t\n\t\t\n\t\t\x3cspan dojoAttachPoint\x3d"homeLink" target\x3d"_top"\x3e\n\t\t\t\x3cdiv class\x3d"body " dojoAttachPoint\x3d"bodyNode"\x3e\t\t\n\t\t\t\t\x3cdiv class\x3d"body-window"\x3e\t\t\t\t\t\t\t\t\n\t\t\t\t\t\x3cdiv class\x3d"image-holder" dojoAttachPoint\x3d"imageHolder"\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"image-holder-overlay" dojoAttachPoint\x3d"imageNode"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"signin-block hidden" dojoAttachPoint\x3d"signinNode"\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"lock-icon" dojoAttachPoint\x3d"lockIcon"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d\'_sashNode\'\x3e\x3c/div\x3e\n\t\t\t\t\t\t\n\t\t\t\t\t\t\x3cspan dojoAttachPoint\x3d"sashBannerNode"\x3e\x3c/span\x3e\t\n\t\t\t\t\t\t\x3cdiv class\x3d"image-holder-overlay clickable hidden" dojoAttachPoint\x3d"singleImageOverlay"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"image-holder-overlay hidden" dojoAttachPoint\x3d"imageControls"\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"window-left-control clickable sprite-clear-bg no-print" dojoAttachPoint\x3d"imageHolderLeftControlButton"\x3e\n\t\t\t\t\t\t\t\t\x3cspan class\x3d"windowControlButton sprite-pagination-sm-l" \x3e\x3c/span\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"window-center clickable sprite-clear-bg" dojoAttachPoint\x3d"imageHolderCenterWindow"\x3e\x3cdiv class\x3d"load-spinner hidden" dojoAttachPoint\x3d"loadSpinner"\x3e\x3c/div\x3e\x3c/div\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"window-right-control clickable sprite-clear-bg no-print" dojoAttachPoint\x3d"imageHolderRightControlButton"\x3e\n\t\t\t\t\t\t\t\t\x3cspan class\x3d"windowControlButton sprite-pagination-sm-r"\x3e\x3c/span\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\x3c/div\x3e\t\n\t\t\t\t\t\x3c/div\x3e\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\x3cdiv class\x3d"notes-bar hidden" dojoAttachPoint\x3d"notesBar"\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"distance hidden" dojoAttachPoint\x3d"distance"\x3e\x26mdash; mi\x3c/div\x3e\t\t\t\t\t\t\t\n\t\t\t\t\t\t\x3cspan class\x3d"price" dojoAttachPoint\x3d"price"\x3e\x3c/span\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"price hidden" dojoAttachPoint\x3dvowNode\x3e\n\t\t\t\t\t\t\t\x3cspan class\x3d"sprite-similar-signin-lock inline-block" dojoAttachPoint\x3d"signinIcon"\x3e\x3c/span\x3e\t\t\t\t\n\t\t\t\t\t\t\t\x3cspan dojoAttachPoint\x3d"vowLabel"\x3eSign In for Info\x3c/span\x3e\n\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\t\n\t\t\t\t\t\x3c/div\x3e\t\t\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\n\t\t\t\x3cdiv data-dojo-attach-point\x3d\'_statsNode\'\x3e\x3c/div\x3e\n\n\t\t\t\x3cdiv class\x3d"extra-options top-divider hidden" dojoAttachPoint\x3d"extraOptions"\x3e\n\t\t\t\t\x3cdiv class\x3d"extra-item map-button" dojoAttachPoint\x3d"mapButton"\x3e\x3cspan class\x3d"inline-block map-icon" dojoAttachPoint\x3d"mapIcon"\x3e\x3c/span\x3eMap\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"extra-item delete-button inline-block left-divider clickable" dojoAttachPoint\x3d"deleteButton"\x3e\x3cspan class\x3d"inline-block delete-icon" dojoAttachPoint\x3d"deleteIcon"\x3e\x3c/span\x3eDelete\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"extra-options top-divider hidden" dojoAttachPoint\x3d"matchmakerOptions"\x3e\n\t\t\t\t\x3cdiv class\x3d"extra-item map-button clickable" dojoAttachPoint\x3d"whyThisListingRecommendationButtonNode"\x3e\x3cspan class\x3d"inline-block more-info-icon whyThisListingRecommendationButton"\x3e\x3cspan dojoAttachPoint\x3d"whyThisListingRecommendationNode"\x3e\x3c/span\x3e\x3c/span\x3eInfo\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"extra-item clickable" style\x3d"text-decoration:underline;" dojoAttachPoint\x3d"recommendButton" id\x3d"recButton"\x3e\x3cspan class\x3d"inline-block email-homes-icon" dojoAttachPoint\x3d"emailIcon"\x3e\x3c/span\x3e\x3cspan dojoAttachPoint\x3d"buttonLabel"\x3eAdd\x3c/span\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"extra-item sent-message hidden" dojoAttachPoint\x3d"sentMessage"\x3eRecommendation Sent!\x3c/div\x3e\t\n\t\t\t\x3c/div\x3e\n\t\t\x3c/span\x3e\t\t\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"logo float-left mobile-hidden" dojoAttachPoint\x3d"logoNode"\x3e\n\t\t\x3ca class\x3d"hidden" href\x3d"#" target\x3d\'_top\' dojoAttachPoint\x3d"logoLinkNode"\x3e\n\t\t\t\x3cimg  dojoAttachPoint\x3d"logoImgNode" /\x3e\n\t\t\x3c/a\x3e\x3cdiv class\x3d"logo-text" dojoAttachPoint\x3d"logoTextNode"\x3e\n\t\t\x3cdiv class\x3d"mlsid hidden" dojoAttachPoint\x3d"mlsId"\x3e\x3c/div\x3e\t\t\t\n\t\t\x3cdiv class\x3d"hidden" dojoAttachPoint\x3d"broker"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\t\t\t\t\t\n\t\x3c/div\x3e\n\t\n\x3c/div\x3e'),
buildRendering:function(){this.inherited(arguments);this._stats=new redfin.common.HomeStats({labels:["Beds","Baths","Sq. Ft."]},this._statsNode);this._address=new redfin.common.HomeAddress({openInNewTab:this.openLinkInNewTab},this._addressNode);this._sash=new redfin.common.HomeSash({hideOuterSash:this.hideOuterSash},this._sashNode)},postCreate:function(){this._spinner=this.singleSpinner({color:"#FFF"});this.favoriteAction=this.adopt(redfin.search.common.SpinnerProgressAction,{spinnerNode:this.favoriteHome}).connectOnClick(this.favoriteHome).wrapOnAction(this,
this.onToggleFavoriteAction);this.loginFacebook&&(null!==this.data?this.dataLoader("/stingray/dataloader/facebookMetaInfo").then(b.hitch(this,function(){this.facebookLoginHelper=new redfin.facebook.FacebookLoginHelper({regReason:"add-favorite",facebookAppId:this.data.get("facebookMetaInfo.facebookAppId")});this.connect(this.facebookLoginHelper,"doneLoggingIn",this.onToggleFavoriteAction)})):(this.facebookLoginHelper=new redfin.facebook.FacebookLoginHelper({regReason:"add-favorite"}),this.connect(this.facebookLoginHelper,
"doneLoggingIn",this.onToggleFavoriteAction)));this.connect(this.imageHolderCenterWindow,"click",this.onClickBodyAction);this.clickable?(b.addClass(this.notesBar,"clickable"),this.connect(this.notesBar,"click",this.onClickBodyAction),b.addClass(this._stats.domNode,"clickable"),this.connect(this._stats.domNode,"onclick",this.onClickBodyAction),b.addClass(this.soldDate,"clickable"),this.connect(this.soldDate,"click",this.onClickBodyAction),this._address.on("click",b.hitch(this,function(){if(!this.url)this.onClickBodyAction(event)}))):
b.removeClass(this.singleImageOverlay,"clickable");this.showExtraControls&&b.removeClass(this.extraOptions,"hidden");b.toggleClass(this._stats.domNode,"hidden",!this.showBasicInfo);this.showHeaderInfo&&(b.removeClass(this.regularHeader,"hidden"),this.connect(this.regularHeader,"onclick",this.onClickHeaderAction));this.showNotes&&b.removeClass(this.notesBar,"hidden");this.showOutline&&(this.clickable&&(this.connect(this.domNode,"onmouseenter",this.onMouseEnter),this.connect(this.domNode,"onmouseleave",
this.onMouseLeave)),b.addClass(this.highlight,"basic-border"),b.addClass(this.highlight,"basic-border-radius"));this.selected?(this._makeSelected(),this.selectHomeCheckBox.setAttribute("checked",this.selected)):this._makeUnselected();this.showRemoveButton&&(b.removeClass(this.removeButtonNode,"hidden"),this.connect(this.removeButtonNode,"onclick",this._onRemoveButtonClicked));this.inherited(arguments)},startup:function(){this.inherited(arguments);this._address.startup()},onClickAccessLevel:function(a){b.stopEvent(a);
this.needSignin?(new redfin.search.common.LoginAction({view:"signin",message:"display-censored-content"})).execute():this.needEmailVerification&&(new redfin.search.common.dialogs.EmailVerificationDialog).show()},onClickLinkAction:function(a){b.stopEvent(a);if(this.url)this.openLinkInNewTab||a.metaKey||a.ctrlKey?window.open(this.url,"_blank"):"undefined"!==typeof g_frameback?g_frameback.showUrl(this.url,null,"_top"):redfin.util.location.set(window.top,this.url);else if(b.has("mobile-enabled"))this.onClickAccessLevel(a)},
onClickBodyAction:function(a){this.GAEvent&&b.global._gaq&&b.global._gaq.push(["_trackEvent",this.eventCategory,this.eventAction,this.eventLabel,this.eventValue]);this.higherSimilar?b.publish("HigherSimilar_Clicked"):this.lowerSimilar&&b.publish("LowerSimilar_Clicked");this.homepageExperiment&&b.publish("HomepageHomeCard_Clicked");this.onClickLinkAction(a)},onClickHeaderAction:function(a){this.GAEvent&&b.global._gaq&&b.global._gaq.push(["_trackEvent",this.eventCategory,this.eventAction,this.eventLabel,
this.eventValue]);this.higherSimilar?b.publish("HigherSimilar_Clicked"):this.lowerSimilar&&b.publish("LowerSimilar_Clicked");this.homepageExperiment&&b.publish("HomepageHomeCard_Clicked")},onMouseEnter:function(){b.hasClass(this.highlight,"disabled")?b.addClass(this.highlight,"disabled-hover"):b.addClass(this.highlight,this.backgroundClass)},onMouseLeave:function(){b.hasClass(this.highlight,"select")||b.removeClass(this.highlight,this.backgroundClass);b.hasClass(this.highlight,"disabled")&&b.removeClass(this.highlight,
"disabled-hover")},onToggleFavoriteAction:function(){if(this.data.get("user.isTimeToRefreshFacebookAccessToken"))this.facebookLoginHelper.refreshAccessToken(),this.data.set("user.isTimeToRefreshFacebookAccessToken",!1);else if(null!=this.data.get("user")&&"undefined"!=typeof this.data.get("user.facebookPublishActions")&&!this.data.get("user.doNotBother")&&!this.data.get("user.facebookPublishActions"))this.facebookLoginHelper.getPublishActionsPermIfNeeded(),this.data.set("user.doNotBother",!0);else{var a;
a=this.favorite.isFavorite()?g_favoritePropertyType.NEUTRAL:g_favoritePropertyType.FAVORITE;return this.favorite.save("favoritePropertyType",a,{wait:!0,success:b.hitch(this,this.updateFavoriteButton),error:b.hitch(this,this.onToggleFavoriteError)})}},onToggleFavoriteError:function(a){console.warn(a)},updateFavoriteButton:function(){this.favorite.isFavorite()?(b.removeClass(this.favoriteHome,"sprite-similar-toggle-fav"),b.addClass(this.favoriteHome,"sprite-similar-toggle-fav-on")):(b.addClass(this.favoriteHome,
"sprite-similar-toggle-fav"),b.removeClass(this.favoriteHome,"sprite-similar-toggle-fav-on"))},setFavoriteProperty:function(a){a||(a=new redfin.common.data.Favorite({id:this.propertyId}));a.id||(a.id=this.propertyId);this.favorite=a;this._sash.set("favorite",a,!0);this.updateFavoriteButton()},_setAddressAttr:function(a,b){this.setAddress(a,b)},setAddress:function(a,b){this._address.set("street",a,!1);this._address.set("unit",b);return this},_setCityStateAttr:function(a){this.setCityState(a)},setCityState:function(a){this._address.set("cityStateZip",
a);return this},_setPriceAttr:function(a,b){this.setPrice(a,b)},setPrice:function(a,b){a?redfin.util.num.isNumeric(a)&&(this.price.innerHTML="undefined"===typeof b||!b?redfin.util.num.dollars(a):redfin.common.util.strings.formatPriceInK(a)):this.price.innerHTML="Unknown";return this},setPriceAsString:function(a){a&&(this.price.innerHTML=a);return this},_setDistanceAttr:function(a,b){this.setDistance(a,b)},setDistance:function(a,c){c=void 0===c?!0:c;if(redfin.util.num.isNumeric(a)){b.removeClass(this.distance,
"hidden");var d=c?redfin.util.num.feetToMiles(a):a;this.distance.innerHTML=redfin.util.num.format(d,2)+" mi"}return this},_setPropertyClassAttr:function(a){this.setPropertyClass(a)},setPropertyClass:function(a){this._sash.set("propertyTypeClass",a,!0);return this},setPropertyType:function(a){this._sash.set("propertyType",a,!0);return this},setSearchStatus:function(a){this._sash.set("searchStatus",a,!0);return this},setMlsStatus:function(a){this._sash.set("mlsStatus",a,!0);return this},setListingType:function(a){this._sash.set("listingType",
a,!0);return this},setHasOpenHouse:function(a){this._sash.set("hasOpenHouse",a,!0);return this},setIsShortSale:function(a){this._sash.set("isShortSale",a,!0);return this},setClassFromHome:function(a){var b={};b.searchStatus=a.getSearchStatus();b.listingType=a.getListingType();b.propertyType=a.getPropertyType();var d=redfin.search.data.mixins._PropertyCssMixin;this.setPropertyClass(d._getPropertyTypeCssName(b));this.setHomeTypeClass(d._getHomeTypeCssName(b));this.hideOuterSash||(this.setPropertyType(b.propertyType),
this.setSearchStatus(b.searchStatus),this.setListingType(b.listingType),a.get("listing.mlsStatus")&&this.setMlsStatus(a.get("listing.mlsStatus")));return this},setHomeTypeClass:function(a){this.backgroundClass="theme-bg-"+a;b.addClass(this.bodyNode,"theme-bg-color-"+a);b.addClass(this.signinNode,"theme-inner-bg-"+a);this._sash.set("homeTypeClass",a,!0);b.addClass(this.lockIcon,"sprite-similar-lock-"+a);return this},setSash:function(a){b.addClass(this.sashBannerNode,"sprite-sash-"+a.replace(" ","-").toLowerCase()+
"-sm");b.removeClass(this.sashBannerNode,"hidden");return this},_setBedsAttr:function(a){this.setBeds(a)},setBeds:function(a){this.beds=a;this._stats.set("Beds",this.beds);return this},_setBathsAttr:function(a){this.setBaths(a)},setBaths:function(a){this.baths=a;this._stats.set("Baths",this.baths);return this},_setSquareFeetAttr:function(a){this.setSquareFeet(a)},setSquareFeet:function(a){this.squareFeet=a;this._stats.set("Sq. Ft.",this.squareFeet);return this},setSquareFeetAsString:function(a){this.setSquareFeet(a);
return this},setSquareFeetAsLink:function(a){a||(a=this.url);this.setSquareFeet('\x3ca href\x3d"'+a+'"\x3eView\x3c/a\x3e');return this},_setUrlAttr:function(a){this.setUrl(a)},setUrl:function(a){a?(this._address.set("url",a),this.url=a):(this._address.set("url",null),this.url=null);return this},setLogo:function(a,c,d){a&&(b.attr(this.logoImgNode,"src",g_imageServerUrl+"/images/logos/"+a),b.removeClass(this.logoLinkNode,"hidden"),b.style(this.logoTextNode,"width",this.windowSize.width-this.logoImgNode.width-
4+"px"));c&&b.attr(this.logoLinkNode,"href","/about/terms-of-use#"+c);d&&b.attr(this.logoImgNode,"alt","Listing provided courtesy of "+d);(a||c||d)&&b.removeClass(this.logoNode,"mobile-hidden");return this},setBrokerName:function(a){a&&1<a.length&&(this.broker.innerHTML=a,b.removeClass(this.broker,"hidden"));return this},setMlsId:function(a){a&&0<a.length&&(this.mlsId.innerHTML="#"+a,b.removeClass(this.mlsId,"hidden"));return this},setAgc:function(a){this._sash.set("hasAgc",a,!0);return this},setIsRedfinListing:function(a){this._sash.set("hasRedfinListingBroker",
a);return this},setIsNew:function(a){this._sash.set("isNew",a);return this},_setSoldDateAttr:function(a,b,d){this.setSoldDate(a,b,d)},setSoldDate:function(a,c,d){try{"undefined"===typeof d&&(d="M/d"),b.removeClass(this.soldDate,"hidden"),this.soldDate.innerHTML="Sold "+redfin.util.date.format(a,{includeYear:!1,timeZone:c,format:d})}catch(e){console.warn("HomeInfoCard: Error while setting date for similar solds."),console.warn(e)}return this},loadPhoto:function(a,c){c||(c="");if(a){var d=new redfin.search.details.ZoomToCropImageCard({photoId:null,
imageUrl:a,imageAlt:c,windowSize:this.windowSize});b.place(d.domNode,this.imageNode,"only");d.load();this.url&&d.setLinkAttribute("href",this.url);b.removeClass(this.singleImageOverlay,"hidden");this.connect(this.singleImageOverlay,"onclick",this.onClickBodyAction);this.connect(this.imageNode,"onclick",this.onClickBodyAction)}else b.addClass(this.imageHolder,"sprite-no-photos-m"),b.addClass(this.imageHolder,"no-photos");return this},loadPhotos:function(a){var c=this;if(a&&0<a.length){var d=[];b.forEach(a,
function(a,e){var g;g=b.isString(a)?a:a.getMidUrl();g=new redfin.search.details.ZoomToCropImageCard({photoId:e,imageUrl:g,windowSize:c.windowSize});d.push(g)});var e=this.adopt(redfin.search.details.media.MediaFlicker,{mediaItems:d,itemsPerPage:1,itemSize:this.windowSize,swipeable:!0,animationDuration:0}).placeAt(this.imageNode);e.getMediaItem(e.currentPage()).load();1<d.length?(this.connect(this.imageHolder,"onmouseenter",this.showPhotoControls),this.connect(this.imageHolder,"onmouseleave",this.hidePhotoControls),
this.connect(this.imageHolderRightControlButton,"click",function(){var a;if(!c._imageLoading){a=e.canPageNext()?e.currentPage()+1:0;var d=e.getMediaItem(a);d&&(d.isLoaded()?e.moveToItem(a):(c._imageLoading=!0,setTimeout(function(){c._imageLoading&&(b.removeClass(c.loadSpinner,"hidden"),c._spinner.spin(c.loadSpinner))},350),d.onImageLoadHandler=function(){c._imageLoading=!1;b.addClass(c.loadSpinner,"hidden");c._spinner.stop(c.loadSpinner);e.moveToItem(this.photoId)},d.onErrorHandler=function(){c._imageLoading=
!1;b.addClass(c.loadSpinner,"hidden");c._spinner.stop(c.loadSpinner);e.moveToItem(this.photoId)},d.load()))}}),this.connect(this.imageHolderLeftControlButton,"click",function(){var a;if(!c._imageLoading){a=e.canPagePrevious()?e.currentPage()-1:e.getLastPage();var d=e.getMediaItem(a);d&&(d.isLoaded()?e.moveToItem(a):(c._imageLoading=!0,setTimeout(function(){c._imageLoading&&(b.removeClass(c.loadSpinner,"hidden"),c._spinner.spin(c.loadSpinner))},350),d.onImageLoadHandler=function(){b.addClass(c.loadSpinner,
"hidden");c._spinner.stop(c.loadSpinner);e.moveToItem(this.photoId);c._imageLoading=!1},d.onErrorHandler=function(){c._imageLoading=!1;b.addClass(c.loadSpinner,"hidden");c._spinner.stop(c.loadSpinner);e.moveToItem(this.photoId)},d.load()))}})):(b.removeClass(this.singleImageOverlay,"hidden"),this.connect(this.singleImageOverlay,"onclick",this.onClickBodyAction),this.connect(this.imageNode,"onclick",this.onClickBodyAction))}else a=new redfin.search.details.ZoomToCropImageCard({photoId:null,imageUrl:g_imageServerUrl+
"/images/no_photo_available_mid.png",windowSize:this.windowSize}),b.place(a.domNode,this.imageNode),a.load(),b.removeClass(this.singleImageOverlay,"hidden"),this.connect(this.singleImageOverlay,"onclick",this.onClickBodyAction),this.connect(this.imageNode,"onclick",this.onClickBodyAction);return this},showPhotoControls:function(){b.removeClass(this.imageControls,"hidden")},hidePhotoControls:function(){b.addClass(this.imageControls,"hidden")},showFavoriteButton:function(){b.removeClass(this.favoriteHome,
"hidden");return this},showPhotosLocked:function(){b.removeClass(this.signinNode,"hidden");b.addClass(this.imageNode,"hidden");return this},showSignin:function(){this.needSignin=!0;this.vowLabel.innerHTML="Sign In for Info";b.removeClass(this.vowNode,"hidden");b.addClass(this.price,"hidden");b.addClass(this.soldDate,"hidden");b.addClass(this.vowNode,"clickable");b.addClass(this.homeLink,"clickable");this.connect(this.homeLink,"onclick",this.onClickAccessLevel);this.connect(this.vowNode,"onclick",
this.onClickAccessLevel);b.removeClass(this.notesBar,"hidden")},showVerifyEmail:function(){this.needEmailVerification=!0;this.vowLabel.innerHTML="Verify Email";b.removeClass(this.vowNode,"hidden");b.addClass(this.price,"hidden");b.addClass(this.soldDate,"hidden");b.addClass(this.vowNode,"clickable");b.addClass(this.homeLink,"clickable");this.connect(this.homeLink,"onclick",this.onClickAccessLevel);this.connect(this.vowNode,"onclick",this.onClickAccessLevel);b.removeClass(this.notesBar,"hidden")},
showNextRequiredAccessLevel:function(a){a==g_accessLevel.EMAIL_VERIFIED?this.showVerifyEmail():a==g_accessLevel.REGISTERED&&this.showSignin();return this},showLastListPrice:function(a){redfin.util.num.isNumeric(a)&&(a=redfin.util.num.dollars(a));a=b.create("a",{innerHTML:a+'\x3cspan class\x3d"inline-block info-icon sprite-more-info-sm"\x3e\x3c/span\x3e',href:"https://support.redfin.com/entries/22538156-Search-for-Sold-Homes#reg-requirements",target:"_top"},this.price);this.adopt(redfin.search.common.elements.HoverTooltip,
{text:"Last List Price: this is the last price the home was listed at before being sold. Local MLS rules prohibit us from displaying the sold price.",xBuffer:20},b.query(".sprite-more-info-sm",a)[0])},enableQuickMap:function(a){a&&(this.home=a);this.home?(b.addClass(this.mapButton,"clickable"),this._showQuickMap=this.connect(this.mapButton,"click",this.showCloseUpMap)):b.removeClass(this.mapButton,"clickable");return this},disableQuickMap:function(){b.disconnect(this._showQuickMap);b.removeClass(this.mapButton,
"clickable");return this},showCloseUpMap:function(a){redfin.search.displayCloseUpMap(this.home,null,!0);b.stopEvent(a)},hideDelete:function(){b.addClass(this.deleteButton,"hidden");b.addClass(this.mapButton,"full-width");return this},addOnDelete:function(a){return this.connect(this.deleteButton,"click",a)},isSelected:function(){return this.selected?!0:!1},addOnSelectChange:function(a,b){this._selectionCallbacks.push(a?[a,b]:[null,b]);return this._selectionCallbacks.length-1},removeOnSelectChange:function(a){this._selectionCallbacks.splice(a,
1)},setSelected:function(a){this.selectHomeCheckBox.getAttribute("disabled")||(a?(this.selectHomeCheckBox.checked=a,this._makeSelected()):(this.selectHomeCheckBox.checked=a,this._makeUnselected()));return this},_makeSelected:function(){b.addClass(this.highlight,"select");b.addClass(this.highlight,this.backgroundClass);this.selected=!0;this._invokeSelectionCallbacks()},_makeUnselected:function(){b.removeClass(this.highlight,"select");this.selected=!1;this._invokeSelectionCallbacks()},_invokeSelectionCallbacks:function(){b.forEach(this._selectionCallbacks,
function(a){if(null!==a[0])a[1].call(a[0]);else a[1]()})},showCheckBox:function(){b.removeClass(this.selectHome,"hidden");b.connect(this.selectHomeCheckBox,"click",this,function(a){this.setSelected(a.currentTarget.checked)});return this},hideCheckBox:function(){b.addclass(this.selectHome,"hidden");return this},isCheckBoxEnabled:function(){return this._isCheckBoxEnabled},enableCheckBox:function(){this._isCheckBoxEnabled=!0;this.selectHomeCheckBox.removeAttribute("disabled");b.removeClass(this.highlight,
"disabled");this._warnHandle&&(b.removeClass(this.selectHome,"hidden"),b.addClass(this.warning,"hidden"),this.orphan(this._warnHandle,!0))},disableCheckBox:function(a,c){this._isCheckBoxEnabled=!1;this.selectHomeCheckBox.setAttribute("disabled",!0);b.addClass(this.highlight,"disabled");b.addClass(this.favoriteHome,"hidden");b.addClass(this.selectHome,"hidden");this.warningIcon.src=c?g_imageServerUrl+"/images/login/warning_icon.gif":g_imageServerUrl+"/images/search/details/similars/icons-similars-more-info.png";
b.removeClass(this.warning,"hidden");this._warnHandle&&this.orphan(this._warnHandle,!0);a&&(this._warnHandle=this.adopt(redfin.search.common.elements.HoverTooltip,{text:a,connectIds:[this.warningIcon],xBuffer:-2,yBuffer:-5,showPosition:["below"]}))},showCustomIconNode:function(a){b.removeClass(this.customIcon,"hidden");b.place(a,this.customIcon)},onRemoveButtonClicked:function(){},_onRemoveButtonClicked:function(){this.onRemoveButtonClicked()}});b.mixin(redfin.common.elements.HomeInfoCard,{WINDOW_SIZE_MEDIUM:{width:154,
height:104},WINDOW_SIZE_SMALL:{width:124,height:83},WINDOW_SIZE_SMALL_MOBILE:{width:106,height:71}});b.mixin(redfin.common.elements.HomeInfoCard.prototype,redfin.search.data.mixins._PropertyCssMixin);b.mixin(redfin.common.elements.HomeInfoCard.prototype,redfin.search.common.mixins.xhr._PersonalizeHome)})},"url:dijit/form/templates/DropDownBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}"\n\trole\x3d"combobox"\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\n\t\tdata-dojo-attach-point\x3d"_buttonNode, _popupStateNode" role\x3d"presentation"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t${_buttonInputDisabled}\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d\'dijitReset dijitInputInner\' ${!nameAttrSetting} type\x3d"text" autocomplete\x3d"off"\n\t\t\tdata-dojo-attach-point\x3d"textbox,focusNode" role\x3d"textbox" aria-haspopup\x3d"true"\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"redfin/common/HomeStats":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-class dojo/dom-style dojo/dom-construct dojo/html dojo/string dojo/number dojo/aspect dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container dojo/text!./templates/HomeStats.html".split(" "),function(h,b,e,a,c,d,g,f,k,l,m,p,n,q){var r=h("redfin.common.HomeStats._HomeStatsLabel",[m,p],{templateString:"\x3cdiv class\x3d'_HomeStatsLabel inline-block'\x3e\x3cdiv class\x3d'value' data-dojo-attach-point\x3d'_valueNode'\x3e\x3c/div\x3e\x3cdiv class\x3d'label' data-dojo-attach-point\x3d'_labelNode'\x3e\x3c/div\x3e\x3c/div\x3e",
_setLabelAttr:function(a){this.label=a;this._updateDisplayedData()},_setValueAttr:function(a){this.value=a;this._updateDisplayedData()},hasDisplayData:function(){return this._label&&this._isNonNull(this._value)},_isNonNull:function(a){return"undefined"!==typeof a&&null!==a},_updateDisplayedData:function(){var a;this._isNonNull(this.value)?(a=this.value,"number"===typeof this.value&&(a=k.format(a))):a="\u2013";g.set(this._valueNode,""+a);this._isNonNull(this.label)?g.set(this._labelNode,""+this.label):
g.set(this._labelNode,"\x26nbsp")}});return h("redfin.common.HomeStats",[m,p,n],{templateString:q,_labelMap:null,_compressedLabelMap:null,postMixInProperties:function(){this._labelMap={};this._compressedLabelMap={};this.inherited(arguments)},_setLabelsAttr:function(a){e.forEach(a,b.hitch(this,function(a){this.addLabel(a,null,!1)}))},set:function(a,b){var c=this._labelMap[a];c||(c=this._compressedLabelMap[a]);c?(c.set("value",b),this._updateDisplayedData()):this.inherited(arguments)},addLabel:function(a,
b,c){c=!1!==c;var d=this._getCompressedName(a);c&&this.compressedLabelMap[d]?b&&this.set(a,b):(b=new r({label:a,value:b}),this._labelMap[a]=b,this._compressedLabelMap[d]=b,this.addChild(b),this._updateDisplayedData())},_getCompressedName:function(a){a=a.replace(/[\.,-\/#!$%\^&\*;:{}=\-_`~()\[\]\\]/g,"");a=f.trim(a);a=a.split(/\s+/);for(var b="",c=0;c<a.length;c++)a[c]=0==c?a[c].charAt(0).toLowerCase()+a[c].slice(1):a[c].charAt(0).toUpperCase()+a[c].slice(1),b+=a[c];return b},_updateDisplayedData:function(){var d=
this.getChildren();e.forEach(d,b.hitch(this,function(b){a.remove(b.domNode,"first");a.remove(b.domNode,"last");c.set(b.domNode,"width",99/d.length+"%")}));0<d.length&&(a.add(d[0].domNode,"first"),a.add(d[d.length-1].domNode,"last"))},_attachDebugs:function(){l.before(this,"_updateDisplayedData",function(){})}})})},"redfin/search/map/GisHashState":function(){define("dojo/Stateful dojo/_base/declare dojo/_base/lang dojo/has redfin/common/util redfin/search/util/NameValueUtil".split(" "),function(h,
b,e,a,c,d){var g=null,f=b([h],{searchStorage:null,allMarkets:null,state:null,activeMarket:null,isCenterZoomSearch:!1,isLocationSearch:!1,isRegionSearch:!1,isProximitySearch:!1,constructor:function(a){e.mixin(this,a)},updateAndGetState:function(){this.update();return this.state},hasAnyPropertyInfo:function(){return this.state.dslisting_id||this.state.listing_id||this.state.property_id||this.state.parcel_by_property_id||this.state.parcel_id},update:function(b){b=this.state=b?b:this.getLastSearchState();
var c=!1;b&&(redfin.search.SearchBootstrap.PROTOCOL_VERSION==b.v&&this.getLatLong()&&b.zoomLevel&&!b.search_location&&!this.hasAnyPropertyInfo())&&(c=!0);var d=!1;!c&&(b&&b.search_location&&!this.hasAnyPropertyInfo())&&(d=!0);var e=!1;!c&&(!d&&b&&b.region_id&&b.region_type&&!this.hasAnyPropertyInfo()&&!b.min_lat&&!b.min_long&&!b.max_lat&&!b.max_long)&&(e=!0);var f=b?b.market:null;if(f&&this.allMarkets){var g;for(g=0;g<this.allMarkets.length;++g){var h=this.allMarkets[g];if(h.name==f&&h.isActive){this.activeMarket=
h;break}}}this.isRegionSearch=e;this.isLocationSearch=d;this.isCenterZoomSearch=c;a("mobile-enabled")&&this.isCenterZoomSearch?this.isProximitySearch=!0:b&&a("mobile-enabled")&&this.getLatLong()&&!b.search_location&&!this.hasAnyPropertyInfo()?this.isProximitySearch=!0:this.isProximitySearch=!1;return this},getLocation:function(){return this.state.search_location},getRegion:function(){var a=this.state;if(a&&a.region_id&&a.region_type)return{tableId:a.region_id,regionType:a.region_type}},getLastSearchState:function(){var a=
top.window.location.hash.substring(1);a||(a=this.searchStorage.lastSearch());a&&(0<a.length&&"!"==a.charAt(0))&&(a=a.substring(1));return!a||0>=a.length?null:redfin.util.NameValue.deconstructQueryString(a)},getLatLong:function(){if(this.state.lat&&this.state["long"])return{lat:this.state.lat,"long":this.state["long"]}}});h=function(a){g||(g=new f);a&&g.set(a);return g};e.mixin(h,{reset:function(){g=null},GisHashState:f});return h})},"redfin/clicktracker":function(){define(["dojo/_base/lang","redfin/common/clicktracker"],
function(h,b){h.setObject("redfin.clicktracker",b);return b})},"url:redfin/common/widgets/templates/TopBanner.html":'\x3cdiv class\x3d"TopBanner"\x3e\n\t\x3ca class\x3d"saveButton clickable" data-dojo-attach-point\x3d"buttonNode"\x3e\x3c/a\x3e\n\t\x3cbutton class\x3d"dismissButton clickable" title\x3d"Hide this banner" data-dojo-attach-point\x3d"dismissNode"\x3eX\x3c/button\x3e\n\t\n\t\x3ca class\x3d"icon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/a\x3e\n\t\x3cdiv class\x3d"text"\x3e\n\t\t\x3ca class\x3d"appName" data-dojo-attach-point\x3d"appNameNode"\x3e\x3c/a\x3e\n\t\t\x3cdiv class\x3d"minorText" data-dojo-attach-point\x3d"minorNode"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"dijit/form/_CheckBoxMixin":function(){define("dijit/form/_CheckBoxMixin",["dojo/_base/declare","dojo/dom-attr","dojo/_base/event"],function(h,b,e){return h("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:!1,_aria_attr:"aria-checked",_setReadOnlyAttr:function(a){this._set("readOnly",a);b.set(this.focusNode,"readOnly",a);this.focusNode.setAttribute("aria-readonly",a)},_setLabelAttr:void 0,_getSubmitValue:function(a){return!a&&0!==a?"on":a},_setValueAttr:function(a){a=this._getSubmitValue(a);
this._set("value",a);b.set(this.focusNode,"value",a)},reset:function(){this.inherited(arguments);this._set("value",this.params.value||"on");b.set(this.focusNode,"value",this.value)},_onClick:function(a){return this.readOnly?(e.stop(a),!1):this.inherited(arguments)}})})},"dojo/html":function(){define("./_base/kernel ./_base/lang ./_base/array ./_base/declare ./dom ./dom-construct ./parser".split(" "),function(h,b,e,a,c,d,g){var f={};b.setObject("dojo.html",f);var k=0;f._secureForInnerHtml=function(a){return a.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,
"")};f._emptyNode=d.empty;f._setNodeContent=function(a,c){d.empty(a);if(c)if("string"==typeof c&&(c=d.toDom(c,a.ownerDocument)),!c.nodeType&&b.isArrayLike(c))for(var e=c.length,f=0;f<c.length;f=e==c.length?f+1:0)d.place(c[f],a,"last");else d.place(c,a,"last");return a};f._ContentSetter=a("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:h._scopeName,startup:!0,constructor:function(a,d){b.mixin(this,a||{});d=this.node=c.byId(this.node||
d);this.id||(this.id=["Setter",d?d.id||d.tagName:"",k++].join("_"))},set:function(a,b){void 0!==a&&(this.content=a);b&&this._mixin(b);this.onBegin();this.setContent();var c=this.onEnd();return c&&c.then?c:this.node},setContent:function(){var a=this.node;if(!a)throw Error(this.declaredClass+": setContent given no node");try{a=f._setNodeContent(a,this.content)}catch(b){var c=this.onContentError(b);try{a.innerHTML=c}catch(d){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+
d.message,d)}}this.node=a},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred);this.parseResults&&this.parseResults.length&&(e.forEach(this.parseResults,function(a){a.destroy&&a.destroy()}),delete this.parseResults);f._emptyNode(this.node)},onBegin:function(){var a=this.content;if(b.isString(a)&&(this.cleanContent&&(a=f._secureForInnerHtml(a)),this.extractContent)){var c=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);c&&(a=
c[1])}this.empty();this.content=a;return this.node},onEnd:function(){this.parseContent&&this._parse();return this.node},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content},onContentError:function(a){return"Error occurred setting content: "+a},onExecError:function(a){return"Error occurred executing scripts: "+a},_mixin:function(a){var b={},c;for(c in a)c in b||(this[c]=a[c])},_parse:function(){var a=this.node;try{var b={};e.forEach(["dir","lang",
"textDir"],function(a){this[a]&&(b[a]=this[a])},this);var c=this;this.parseDeferred=g.parse({rootNode:a,noStart:!this.startup,inherited:b,scope:this.parserScope}).then(function(a){return c.parseResults=a})}catch(d){this._onError("Content",d,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(a,b,c){a=this["on"+a+"Error"].call(this,b);c?console.error(c,b):a&&f._setNodeContent(this.node,a,!0)}});f.set=function(a,c,d){void 0==c&&(console.warn("dojo.html.set: no cont argument provided, using empty string"),
c="");return d?(new f._ContentSetter(b.mixin(d,{content:c,node:a}))).set():f._setNodeContent(a,c,!0)};return f})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","dojo/when"],function(h,b,e,a){return h("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;return b[a]?b[a]:b[a]={s:"_"+a+"Setter",g:"_"+a+"Getter"}},postscript:function(a){a&&this.set(a)},_get:function(a,b){return"function"===typeof this[b.g]?this[b.g]():this[a]},
get:function(a){return this._get(a,this._getAttrNames(a))},set:function(b,d){if("object"===typeof b){for(var e in b)b.hasOwnProperty(e)&&"_watchCallbacks"!=e&&this.set(e,b[e]);return this}e=this._getAttrNames(b);var f=this._get(b,e);e=this[e.s];var h;"function"===typeof e?h=e.apply(this,Array.prototype.slice.call(arguments,1)):this[b]=d;if(this._watchCallbacks){var l=this;a(h,function(){l._watchCallbacks(b,f,d)})}return this},_changeAttrValue:function(a,b){var e=this.get(a);this[a]=b;this._watchCallbacks&&
this._watchCallbacks(a,e,b);return this},watch:function(a,b){var g=this._watchCallbacks;if(!g)var f=this,g=this._watchCallbacks=function(a,b,c,d){var e=function(d){if(d){d=d.slice();for(var e=0,g=d.length;e<g;e++)d[e].call(f,a,b,c)}};e(g["_"+a]);d||e(g["*"])};!b&&"function"===typeof a?(b=a,a="*"):a="_"+a;var h=g[a];"object"!==typeof h&&(h=g[a]=[]);h.push(b);var l={};l.unwatch=l.remove=function(){var a=e.indexOf(h,b);-1<a&&h.splice(a,1)};return l}})})},"redfin/search/map/util":function(){define(["dijit",
"dojo","dojox","dojo/require!dojo/window,dojo/cache,dojo/has"],function(h,b,e){b.provide("redfin.search.map.util");b.require("dojo.window");b.require("dojo.cache");b.require("dojo.has");b.setObject("redfin.search.map.util",{DISPLAY_MODE_MAPLIST:"B",DISPLAY_MODE_MAP_ONLY:"M",DISPLAY_MODE_LIST_ONLY:"L",DISPLAY_MODE_PHOTO:"P",DISPLAY_MODE_DEFAULT:"B",ROUND_LAT_LONG_DECIMALS:5,UI_LOCKER:"ui_locker",CSRF_ERROR_HTML:b.cache("redfin.search.map","templates/CSRFError.html","\x3cspan style\x3d'font-size: 150%'\x3eYour browser isn't sending us everything we need.\x3c/span\x3e\n\x3cbr\x3e\n\x3cbr\x3e\nYou probably have a security extension installed on your computer or in\nyour browser. It is preventing us from verifying your identity. Common\nculprits include:\n\x3cbr\x3e\n\x3cul\x3e\n\t\x3cli\x3eNorton Internet Security / Personal Firewall\x3c/li\x3e\n\t\x3cli\x3eRefControl for Firefox\x3c/li\x3e\n\t\x3cli\x3eZone Alarm Pro\x3c/li\x3e\n\t\x3cli\x3eMcAfee Internet Security\x3c/li\x3e\n\t\x3cli\x3eComputer Associates eTrust EZ Firewall/EZ Armor\x3c/li\x3e\n\t\x3cli\x3eOther software that blocks the \"referer\" header\x3c/li\x3e\n\x3c/ul\x3e\n\x3cbr\x3e\n\x3cbr\x3e\nIf you have any software like this, please disable it for redfin.com.\n\x3cbr\x3e\nOtherwise, please \x3ca href\x3d'/help/unblock-referrers' target\x3d\"_top\"\x3evisit our security page\x3c/a\x3e to learn more. If that still doesn't work, please accept our apologies, and contact \x3ca href\x3d'mailto:techsupport@redfin.com'\x3etechsupport@redfin.com\x3c/a\x3e.\n"),
lockUI:function(){if(!b.has("mobile-enabled")){var a=b.byId(redfin.search.map.util.UI_LOCKER);a||(a=document.createElement("div"),a.id=redfin.search.map.util.UI_LOCKER,b.body().appendChild(a));var c=b.window.getBox();a.style.height=c.h+"px";a.style.width=b.isIE&&9<=b.isIE?c.w-5+"px":c.w+"px";b.removeClass(a,"hidden")}},unlockUI:function(){if(!b.has("mobile-enabled")){var a=b.byId(redfin.search.map.util.UI_LOCKER);a.style.height=0;a.style.width=0;b.addClass(a,"hidden")}},calculateClusterBbox:function(a,
b,d){a!=redfin.search.map.util.DISPLAY_MODE_MAP_ONLY&&(a=d.fromDivPixelToLatLng(new google.maps.Point(0,0)),d=d.fromDivPixelToLatLng(new google.maps.Point(0,167)),b={minlat:b.minlat-(a.lat()-d.lat()),minlong:b.minlong,maxlat:b.maxlat,maxlong:b.maxlong});b.minlat=Math.max(Math.min(b.minlat-0.1*(b.maxlat-b.minlat),90),-90);b.maxlat=Math.max(Math.min(b.maxlat+0.1*(b.maxlat-b.minlat),90),-90);b.minlong=Math.max(Math.min(b.minlong-0.1*(b.maxlong-b.minlong),180),-180);b.maxlong=Math.max(Math.min(b.maxlong+
0.1*(b.maxlong-b.minlong),180),-180);return b},getBoundingBox:function(a){if(a){var b=a.getBounds();a=b.getSouthWest().lat();var d=b.getSouthWest().lng(),e=b.getNorthEast().lat(),b=b.getNorthEast().lng();return redfin.search.map.util.roundBoundingBox({minlat:a,minlong:d,maxlat:e,maxlong:b})}},roundBoundingBox:function(a){var b=redfin.search.map.util.ROUND_LAT_LONG_DECIMALS;a.minlat=redfin.util.roundDecimals(a.minlat,b);a.minlong=redfin.util.roundDecimals(a.minlong,b);a.maxlat=redfin.util.roundDecimals(a.maxlat,
b);a.maxlong=redfin.util.roundDecimals(a.maxlong,b);return a}})})},"redfin/search/common/dialogs/FixedDialogUnderlay":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/has","dojo/text!./templates/FixedDialogUnderlay.html","dijit/DialogUnderlay"],function(h,b,e,a,c){return h("redfin.search.common.dialogs.FixedDialogUnderlay",c,{templateString:a,_setClassAttr:function(a){this.node.className="FixedDialogUnderlay "+a;this._set("class",a)},layout:function(){7>e("ie")&&this.inherited(arguments)},
show:function(){b.remove(this.domNode,"hidden");this.layout()},hide:function(){b.add(this.domNode,"hidden")}})})},"dojo/dnd/autoscroll":function(){define("../_base/lang ../sniff ../_base/window ../dom-geometry ../dom-style ../window".split(" "),function(h,b,e,a,c,d){var g={};h.setObject("dojo.dnd.autoscroll",g);g.getViewport=d.getBox;g.V_TRIGGER_AUTOSCROLL=32;g.H_TRIGGER_AUTOSCROLL=32;g.V_AUTOSCROLL_VALUE=16;g.H_AUTOSCROLL_VALUE=16;var f,k=e.doc,l=Infinity,m=Infinity;g.autoScrollStart=function(a){k=
a;f=d.getBox(k);a=e.body(k).parentNode;l=Math.max(a.scrollHeight-f.h,0);m=Math.max(a.scrollWidth-f.w,0)};g.autoScroll=function(a){var b=f||d.getBox(k),c=e.body(k).parentNode,h=0,t=0;a.clientX<g.H_TRIGGER_AUTOSCROLL?h=-g.H_AUTOSCROLL_VALUE:a.clientX>b.w-g.H_TRIGGER_AUTOSCROLL&&(h=Math.min(g.H_AUTOSCROLL_VALUE,m-c.scrollLeft));a.clientY<g.V_TRIGGER_AUTOSCROLL?t=-g.V_AUTOSCROLL_VALUE:a.clientY>b.h-g.V_TRIGGER_AUTOSCROLL&&(t=Math.min(g.V_AUTOSCROLL_VALUE,l-c.scrollTop));window.scrollBy(h,t)};g._validNodes=
{div:1,p:1,td:1};g._validOverflow={auto:1,scroll:1};g.autoScrollNodes=function(d){for(var f,h,k,l,m,w,v=0,x=0,s=d.target;s;){if(1==s.nodeType&&s.tagName.toLowerCase()in g._validNodes){k=c.getComputedStyle(s);l=k.overflow.toLowerCase()in g._validOverflow;m=k.overflowX.toLowerCase()in g._validOverflow;w=k.overflowY.toLowerCase()in g._validOverflow;if(l||m||w)f=a.getContentBox(s,k),h=a.position(s,!0);if(l||m){k=Math.min(g.H_TRIGGER_AUTOSCROLL,f.w/2);m=d.pageX-h.x;if(b("webkit")||b("opera"))m+=e.body().scrollLeft;
v=0;0<m&&m<f.w&&(m<k?v=-k:m>f.w-k&&(v=k),s.scrollLeft+=v)}if(l||w){l=Math.min(g.V_TRIGGER_AUTOSCROLL,f.h/2);w=d.pageY-h.y;if(b("webkit")||b("opera"))w+=e.body().scrollTop;x=0;0<w&&w<f.h&&(w<l?x=-l:w>f.h-l&&(x=l),s.scrollTop+=x)}if(v||x)return}try{s=s.parentNode}catch(y){s=null}}g.autoScroll(d)};return g})},"dijit/layout/utils":function(){define("dijit/layout/utils","dojo/_base/array dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang ../main".split(" "),function(h,b,e,a,c,d){function g(a,
b){var d=a.resize?a.resize(b):e.setMarginBox(a.domNode,b);d?c.mixin(a,d):(c.mixin(a,e.getMarginBox(a.domNode)),c.mixin(a,b))}d=c.getObject("layout",!0,d);d.marginBox2contentBox=function(b,c){var d=a.getComputedStyle(b),g=e.getMarginExtents(b,d),h=e.getPadBorderExtents(b,d);return{l:a.toPixelValue(b,d.paddingLeft),t:a.toPixelValue(b,d.paddingTop),w:c.w-(g.w+h.w),h:c.h-(g.h+h.h)}};d.layoutChildren=function(a,d,e,m,p){d=c.mixin({},d);b.add(a,"dijitLayoutContainer");e=h.filter(e,function(a){return"center"!=
a.region&&"client"!=a.layoutAlign}).concat(h.filter(e,function(a){return"center"==a.region||"client"==a.layoutAlign}));h.forEach(e,function(a){var c=a.domNode,e=a.region||a.layoutAlign;if(!e)throw Error("No region setting for "+a.id);var f=c.style;f.left=d.l+"px";f.top=d.t+"px";f.position="absolute";b.add(c,"dijitAlign"+(e.substring(0,1).toUpperCase()+e.substring(1)));c={};m&&m==a.id&&(c["top"==a.region||"bottom"==a.region?"h":"w"]=p);"top"==e||"bottom"==e?(c.w=d.w,g(a,c),d.h-=a.h,"top"==e?d.t+=a.h:
f.top=d.t+d.h+"px"):"left"==e||"right"==e?(c.h=d.h,g(a,c),d.w-=a.w,"left"==e?d.l+=a.w:f.left=d.l+d.w+"px"):("client"==e||"center"==e)&&g(a,d)})};return{marginBox2contentBox:d.marginBox2contentBox,layoutChildren:d.layoutChildren}})},"url:redfin/common/widgets/templates/ContactBox.html":'\x3cdiv class\x3d"contactBox" dojoAttachPoint\x3d"box"\x3e\n\x3c/div\x3e\n',"dijit/form/nls/ComboBox":function(){define("dijit/form/nls/ComboBox",{root:{previousMessage:"Previous choices",nextMessage:"More choices"},
zh:!0,"zh-tw":!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,hu:!0,hr:!0,he:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,cs:!0,ca:!0,az:!0,ar:!0})},"redfin/search/data/mixins/_PropertyCssMixin":function(){define("redfin/search/data/mixins/_PropertyCssMixin",["dojo/_base/lang","redfin/bouncer/Bouncer"],function(h,b){var e={_getPropertyTypeCssName:function(a){var c;c=void 0!==a.propertyType?a.propertyType:void 0!==a.get&&"function"==typeof a.get&&a.get("propertyType")?
a.get("propertyType"):a;if(b.isOn(g_feature.BRANDED_LISTINGS)&&a&&a.isRedfinListing)return"redfin-sign";switch(c){case g_propertyTypes.TOWNHOUSE:return"townhouse";case g_propertyType.CONDO_COOP:return"condo";case g_propertyType.MULTI_FAMILY_2_TO_4:return"multi-family";case g_propertyType.MULTI_FAMILY_5_PLUS:return"multi-family";case g_propertyType.VACANT_LAND:return"land";default:return"single"}},_getHomeTypeCssName:function(a,c){var d=null,e=null;a&&(void 0!==a.listingType&&void 0!==a.searchStatus?
(d=a.listingType,e=a.searchStatus):"number"===typeof a&&(c&&"number"===typeof c)&&(d=a,e=c));if(b.isOn(g_feature.BRANDED_LISTINGS)&&a&&a.isRedfinListing)return"redfin";if(null!==d)switch(d){case g_listingTypes.MLS:if(e===g_searchStatuses.CONTINGENT||e===g_searchStatuses.PENDING||e===g_searchStatuses.ACTIVE)return"for-sale";break;case g_listingTypes.FSBO:return"owner";case g_listingTypes.FORECLOSURE:return"foreclosed"}return"sold"},_getIconCssName:function(a){a=h.mixin({delim:"-"},a);return this._getHomeTypeCssName(a)+
a.delim+this._getPropertyTypeCssName(a)}};h.setObject("redfin.search.data.mixins._PropertyCssMixin",e);return e})},"redfin/common/data/RegionView":function(){define(["dijit","dojo","dojox","dojo/require!redfin/common/data/DataObject,redfin/common/data/MethodGenerator"],function(h,b,e){b.provide("redfin.common.data.RegionView");b.require("redfin.common.data.DataObject");b.require("redfin.common.data.MethodGenerator");b.declare("redfin.common.data.RegionView",[redfin.common.data.DataObject],{});b.forEach("regionId displayName cleanedName url isBoundingBox polygonData school".split(" "),
function(a){redfin.common.data.MethodGenerator.generateMethods(redfin.common.data.RegionView,a)})})},"url:redfin/search/map/templates/SearchPageMobile.html":'\x3cdiv class\x3d"mobile-search"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"searchSummary" data-dojo-type\x3d"redfin/search/map/SearchSummary"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"homeCardResults" data-dojo-type\x3d"redfin/search/map/HomeCardResults"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"footerNavigation" data-dojo-type\x3d"redfin/search/common/widgets/footer/Navigation"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"footer" data-dojo-type\x3d"redfin/search/common/widgets/footer/Footer"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"redfin/search/common/mixins/xhr/_PersonalizeHome":function(){define(["dijit","dojo","dojox","dojo/require!redfin/search/common/mixins/xhr/_BaseXHRMixin,redfin/search/util/LoginUtil"],function(h,b,e){b.provide("redfin.search.common.mixins.xhr._PersonalizeHome");b.require("redfin.search.common.mixins.xhr._BaseXHRMixin");b.require("redfin.search.util.LoginUtil");redfin.search.common.mixins.xhr._PersonalizeHome={checkFavorites:function(a,c,d){if(redfin.util.login.isLoggedIn())return this.xhrPost({url:"/stingray/dataloader/user/check-favorites",
content:{properties:b.toJson(a)},load:c,error:d});c()}};b.mixin(redfin.search.common.mixins.xhr._PersonalizeHome,redfin.search.common.mixins.xhr._BaseXHRMixin)})},"dijit/_FocusMixin":function(){define("dijit/_FocusMixin",["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(h,b,e,a){a.extend(b,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return e("dijit._FocusMixin",null,{_focusManager:h})})},"dijit/form/ValidationTextBox":function(){require({cache:{"url:dijit/form/templates/ValidationTextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n'}});
define("dijit/form/ValidationTextBox","dojo/_base/declare dojo/_base/kernel dojo/i18n ./TextBox ../Tooltip dojo/text!./templates/ValidationTextBox.html dojo/i18n!./nls/validate".split(" "),function(h,b,e,a,c,d){var g;return g=h("dijit.form.ValidationTextBox",a,{templateString:d,required:!1,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(a,c){c!=g.prototype[a]&&
(b.deprecated("ValidationTextBox id\x3d"+this.id+", set('"+a+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0"),this.set("pattern",c))},_setRegExpGenAttr:function(a){this._deprecateRegExp("regExpGen",a);this.regExpGen=this._getPatternAttr},_setRegExpAttr:function(a){this._deprecateRegExp("regExp",a)},_setValueAttr:function(){this.inherited(arguments);this.validate(this.focused)},validator:function(a,b){return RegExp("^(?:"+this._getPatternAttr(b)+")"+(this.required?"":"?")+"$").test(a)&&
(!this.required||!this._isEmpty(a))&&(this._isEmpty(a)||void 0!==this.parse(a,b))},_isValidSubset:function(){return 0==this.textbox.value.search(this._partialre)},isValid:function(){return this.validator(this.textbox.value,this.constraints)},_isEmpty:function(a){return(this.trim?/^\s*$/:/^$/).test(a)},getErrorMessage:function(){var a="$_unset_$"==this.invalidMessage?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage,b="$_unset_$"==this.missingMessage?this.messages.missingMessage:
!this.missingMessage?a:this.missingMessage;return this.required&&this._isEmpty(this.textbox.value)?b:a},getPromptMessage:function(){return this.promptMessage},_maskValidSubsetError:!0,validate:function(a){var b="",c=this.disabled||this.isValid(a);c&&(this._maskValidSubsetError=!0);var d=this._isEmpty(this.textbox.value),e=!c&&a&&this._isValidSubset();this._set("state",c?"":((!this._hasBeenBlurred||a)&&d||e)&&this._maskValidSubsetError?"Incomplete":"Error");this.focusNode.setAttribute("aria-invalid",
c?"false":"true");"Error"==this.state?(this._maskValidSubsetError=a&&e,b=this.getErrorMessage(a)):"Incomplete"==this.state?(b=this.getPromptMessage(a),this._maskValidSubsetError=!this._hasBeenBlurred||a):d&&(b=this.getPromptMessage(a));this.set("message",b);return c},displayMessage:function(a){a&&this.focused?c.show(a,this.domNode,this.tooltipPosition,!this.isLeftToRight()):c.hide(this.domNode)},_refreshState:function(){this._created&&this.validate(this.focused);this.inherited(arguments)},constructor:function(a){this.constraints=
{};this.baseClass+=" dijitValidationTextBox"},startup:function(){this.inherited(arguments);this._refreshState()},_setConstraintsAttr:function(a){!a.locale&&this.lang&&(a.locale=this.lang);this._set("constraints",a);this._refreshState()},_setPatternAttr:function(a){this._set("pattern",a)},_getPatternAttr:function(a){var b=this.pattern;"function"==(typeof b).toLowerCase()&&(b=this.pattern(a||this.constraints));if(b!=this._lastRegExp){var c="";this._lastRegExp=b;".*"!=b&&b.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,
function(a){switch(a.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":c+=a;break;case ")":c+="|$)";break;default:c+="(?:"+a+"|$)"}});try{"".search(c)}catch(d){c=this.pattern,console.warn("RegExp error in "+this.declaredClass+": "+this.pattern)}this._partialre="^(?:"+c+")$"}return b},postMixInProperties:function(){this.inherited(arguments);this.messages=e.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints)},_setDisabledAttr:function(a){this.inherited(arguments);
this._refreshState()},_setRequiredAttr:function(a){this._set("required",a);this.focusNode.setAttribute("aria-required",a);this._refreshState()},_setMessageAttr:function(a){this._set("message",a);this.displayMessage(a)},reset:function(){this._maskValidSubsetError=!0;this.inherited(arguments)},_onBlur:function(){this.displayMessage("");this.inherited(arguments)}})})},"url:redfin/search/map/templates/HomeCardResults.html":'\x3cdiv class\x3d"HomeCardResults"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"homeCardsNode" class\x3d"row-type"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"paginationNode" class\x3d"results-pagination hidden"\x3e\n\t\t\x3cdiv class\x3d"page-num"\x3e Viewing \n\t\t\t\x3cspan data-dojo-attach-point\x3d"pageNumberNode"\x3e\x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"button-container"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"prevButtonContainer" class\x3d"prev-button-container"\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"prevButton"\n\t\t\t\tdata-dojo-type\x3d"redfin/common/elements/Button"\n\t\t\t\tdata-dojo-props\x3d"label: \'Previous\'"\n\t\t\t\tclass\x3d"prev-button"\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"nextButtonContainer" class\x3d"next-button-container"\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"nextButton"\n\t\t\t\t\tdata-dojo-type\x3d"redfin/common/elements/Button"\n\t\t\t\t\tdata-dojo-props\x3d"label: \'Next\'"\n\t\t\t\t\tclass\x3d"next-button"\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"redfin/common/elements/form/TextArea":function(){define(["dijit","dojo","dojox","dojo/require!redfin/common/elements/form/_FormElement,dijit/form/Textarea"],function(h,b,e){b.provide("redfin.common.elements.form.TextArea");b.require("redfin.common.elements.form._FormElement");b.require("dijit.form.Textarea");b.declare("redfin.common.elements.form.TextArea",[redfin.common.elements.form._FormElement],{templateString:b.cache("redfin.common.elements.form","templates/TextArea.html",'\x3cspan class\x3d"field textarea ${name}"\x3e\n\t\x3cspan class\x3d"label" dojoAttachPoint\x3d"labelNode"\x3e\x3c/span\x3e\n\t\x3cspan class\x3d"input"\x3e\x3cspan dojoAttachPoint\x3d"inputNode"\x3e\x3c/span\x3e\x3c/span\x3e\n\t\x3cspan class\x3d"error hidden" dojoAttachPoint\x3d"_errorNode"\x3e\x3c/span\x3e\n\x3c/span\x3e'),
hint:"",warnLength:null,warnMessage:"Content is too long",maxLength:null,tabIndex:"-1",resizeTimeout:null,_focused:!1,buildRendering:function(){this.inherited(arguments);this.inputNode=new h.form.Textarea({name:this.name,"class":this.name+" value"},this.inputNode);this._bindEvents();this._updateHint()},postCreate:function(){this.inherited(arguments);this._validateLength();this.resizeTimeout=setTimeout(b.hitch(this,function(){this.resizeTimeout=null;"undefined"!==typeof this.inputNode?this.inputNode.resize():
console.error("Tried to call resize on an undefined inputNode!")}),100)},destroy:function(){this.resizeTimeout&&clearTimeout(this.resizeTimeout);this.inherited(arguments)},select:function(){this.inputNode.domNode.select()},resize:function(){this.inputNode.resize()},reset:function(){this.inherited(arguments);this._updateHint()},_bindEvents:function(){this.connect(this.labelNode,"onclick",this._onLabelClick);this.connect(this.inputNode,"onChange",this._onInputChange);this.connect(this.inputNode,"onKeyPress",
this._onInputKeyPress);this.connect(this.inputNode,"onKeyUp",this._onKeyUp);this.connect(this.inputNode,"resize",this._onInputResize)},_onLabelClick:function(a){this._hideAndFocus()},_hideAndFocus:function(){this.inputNode.focus();this._updateHint()},_onInputChange:function(a){this.onChange(a)},_onInputKeyPress:function(a){this.onKeyPress(a)},_onKeyUp:function(a){this._validateLength();this.onKeyUp(a)},_onInputResize:function(){if(this.inputNode&&this.inputNode.textbox){var a=this.inputNode.textbox.scrollHeight;
this._inputScrollHeight!==a&&(this.onResize(),this._inputScrollHeight=a)}},onChange:function(a){},onKeyPress:function(a){},onKeyUp:function(a){},onResize:function(){},_validateLength:function(){var a=this.inputNode.get("value");this.maxLength&&a.length>this.maxLength&&this.set("value",a.substring(0,this.maxLength));this._warnLength()},_warnLength:function(){var a=this.attr("value");this.warnLength&&(a.length>this.warnLength?this.set("error",this.warnMessage):this.set("error",!1))},_getValueAttr:function(){return this.inputNode.attr("value")===
this.hint?"":this.inputNode.attr("value")},_setValueAttr:function(a){this.inputNode.attr("value",a);this._updateHint()},_setDisabledAttr:function(a){this.inherited(arguments);this.inputNode.attr("disabled",a);this._updateHint()},_updateHint:function(){this.hint&&(""===this.inputNode.attr("value")||this.inputNode.attr("value")===this.hint)&&!this.inputNode.textbox.disabled&&!this.disabled&&!this._focused?(this.inputNode.attr("value",this.hint,null),b.addClass(this.domNode,"hint")):(this.inputNode.attr("value")===
this.hint&&this.inputNode.attr("value","",null),b.removeClass(this.domNode,"hint"));this.inputNode.resize()},_onBlur:function(a){this._focused=!1;this.inherited(arguments);this._updateHint()},_onFocus:function(a){this._focused=!0;this.inherited(arguments);this._updateHint()}})})},"dojo/_base/url":function(){define(["./kernel"],function(h){var b=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,e=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,a=function(){for(var c=arguments,
d=[c[0]],g=1;g<c.length;g++)if(c[g]){var f=new a(c[g]+""),d=new a(d[0]+"");if(""==f.path&&!f.scheme&&!f.authority&&!f.query)null!=f.fragment&&(d.fragment=f.fragment),f=d;else if(!f.scheme&&(f.scheme=d.scheme,!f.authority&&(f.authority=d.authority,"/"!=f.path.charAt(0)))){for(var d=(d.path.substring(0,d.path.lastIndexOf("/")+1)+f.path).split("/"),h=0;h<d.length;h++)"."==d[h]?h==d.length-1?d[h]="":(d.splice(h,1),h--):0<h&&(!(1==h&&""==d[0])&&".."==d[h]&&".."!=d[h-1])&&(h==d.length-1?(d.splice(h,1),
d[h-1]=""):(d.splice(h-1,2),h-=2));f.path=d.join("/")}d=[];f.scheme&&d.push(f.scheme,":");f.authority&&d.push("//",f.authority);d.push(f.path);f.query&&d.push("?",f.query);f.fragment&&d.push("#",f.fragment)}this.uri=d.join("");c=this.uri.match(b);this.scheme=c[2]||(c[1]?"":null);this.authority=c[4]||(c[3]?"":null);this.path=c[5];this.query=c[7]||(c[6]?"":null);this.fragment=c[9]||(c[8]?"":null);null!=this.authority&&(c=this.authority.match(e),this.user=c[3]||null,this.password=c[4]||null,this.host=
c[6]||c[7],this.port=c[9]||null)};a.prototype.toString=function(){return this.uri};return h._Url=a})},"dojox/collections/_base":function(){define("dojox/collections/_base",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array"],function(h,b,e){h=b.getObject("dojox.collections",!0);h.DictionaryEntry=function(a,b){this.key=a;this.value=b;this.valueOf=function(){return this.value};this.toString=function(){return String(this.value)}};h.Iterator=function(a){var b=0;this.element=a[b]||null;this.atEnd=
function(){return b>=a.length};this.get=function(){return this.atEnd()?null:this.element=a[b++]};this.map=function(b,c){return e.map(a,b,c)};this.reset=function(){b=0;this.element=a[b]}};h.DictionaryIterator=function(a){var b=[],d={},g;for(g in a)d[g]||b.push(a[g]);var f=0;this.element=b[f]||null;this.atEnd=function(){return f>=b.length};this.get=function(){return this.atEnd()?null:this.element=b[f++]};this.map=function(a,d){return e.map(b,a,d)};this.reset=function(){f=0;this.element=b[f]}};return h})},
"dijit/form/_ComboBoxMenuMixin":function(){define("dijit/form/_ComboBoxMenuMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/i18n","dojo/i18n!./nls/ComboBox"],function(h,b,e,a){return b("dijit.form._ComboBoxMenuMixin",null,{_messages:null,postMixInProperties:function(){this.inherited(arguments);this._messages=a.getLocalization("dijit.form","ComboBox",this.lang)},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages.previousMessage;this.nextButton.innerHTML=
this._messages.nextMessage},_setValueAttr:function(a){this.value=a;this.onChange(a)},onClick:function(a){if(a==this.previousButton)this._setSelectedAttr(null),this.onPage(-1);else if(a==this.nextButton)this._setSelectedAttr(null),this.onPage(1);else this.onChange(a)},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null)},_createOption:function(a,b){var e=this._createMenuItem(),f=b(a);f.html?e.innerHTML=f.label:e.appendChild(e.ownerDocument.createTextNode(f.label));
""==e.innerHTML&&(e.innerHTML="\x26#160;");this.applyTextDir(e,e.innerText||e.textContent||"");return e},createOptions:function(a,b,g){this.items=a;this.previousButton.style.display=0==b.start?"none":"";e.set(this.previousButton,"id",this.id+"_prev");h.forEach(a,function(a,b){var c=this._createOption(a,g);c.setAttribute("item",b);e.set(c,"id",this.id+b);this.nextButton.parentNode.insertBefore(c,this.nextButton)},this);var f=!1;a.total&&!a.total.then&&-1!=a.total?b.start+b.count<a.total?f=!0:b.start+
b.count>a.total&&b.count==a.length&&(f=!0):b.count==a.length&&(f=!0);this.nextButton.style.display=f?"":"none";e.set(this.nextButton,"id",this.id+"_next")},clearResultList:function(){for(var a=this.containerNode;2<a.childNodes.length;)a.removeChild(a.childNodes[a.childNodes.length-2]);this._setSelectedAttr(null)},highlightFirstOption:function(){this.selectFirstNode()},highlightLastOption:function(){this.selectLastNode()},selectFirstNode:function(){this.inherited(arguments);this.getHighlightedOption()==
this.previousButton&&this.selectNextNode()},selectLastNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.nextButton&&this.selectPreviousNode()},getHighlightedOption:function(){return this.selected}})})},"url:redfin/homepage/widgets/templates/PriceYourHomeWidget.html":'\x3cform dojoAttachPoint\x3d"formNode" name\x3d"priceYourHome" id\x3d"priceYourHome" class\x3d"PriceYourHomeWidget" action\x3d"/what-is-my-home-worth" method\x3d"get" \x3e\n\t\t\x3cinput type\x3d"text" dojoAttachPoint\x3d"addressInput"  name\x3d"estAddress" class\x3d"nihilo dijitTextBox" class\x3d"estimateAddress"  tabindex\x3d"1"/\x3e\n\n\t\t\x3cinput type\x3d"submit" value\x3d"" title\x3d"Find homes" tabindex\x3d"2" class\x3d"Button primary large basic-border-radius clickable" /\x3e\n\t\t\x3cinput type\x3d"hidden" name\x3d"src" value\x3d"homepage"\x3e\n\x3c/form\x3e',
"dijit/form/Button":function(){require({cache:{"url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\n\t\tdata-dojo-attach-event\x3d"ondijitclick:_onClick" role\x3d"presentation"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\x3e\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\n\t\ttabIndex\x3d"-1" role\x3d"presentation" data-dojo-attach-point\x3d"valueNode"\n/\x3e\x3c/span\x3e\n'}});
define("dijit/form/Button","require dojo/_base/declare dojo/dom-class dojo/has dojo/_base/kernel dojo/_base/lang dojo/ready ./_FormWidget ./_ButtonMixin dojo/text!./templates/Button.html".split(" "),function(h,b,e,a,c,d,g,f,k,l){a("dijit-legacy-requires")&&g(0,function(){h(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])});return b("dijit.form.Button",[f,k],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",
templateString:l,_setValueAttr:"valueNode",_onClick:function(a){var b=this.inherited(arguments);b&&this.valueNode&&(this.valueNode.click(),a.preventDefault(),a.stopPropagation());return b},_fillContent:function(a){if(a&&(!this.params||!("label"in this.params)))if(a=d.trim(a.innerHTML))this.label=a},_setShowLabelAttr:function(a){this.containerNode&&e.toggle(this.containerNode,"dijitDisplayNone",!a);this._set("showLabel",a)},setLabel:function(a){c.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.",
"","2.0");this.set("label",a)},_setLabelAttr:function(a){this.inherited(arguments);!this.showLabel&&!("title"in this.params)&&(this.titleNode.title=d.trim(this.containerNode.innerText||this.containerNode.textContent||""))}})})},"dijit/form/_ExpandingTextAreaMixin":function(){define("dijit/form/_ExpandingTextAreaMixin","dojo/_base/declare dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/_base/window ../Viewport".split(" "),function(h,b,e,a,c,d,g){e.add("textarea-needs-help-shrinking",function(){var a=
d.body(),c=b.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,overflow:"hidden",visibility:"hidden",position:"absolute",border:"0px solid black",padding:"0px"}},a,"last"),e=c.scrollHeight>=c.clientHeight;a.removeChild(c);return e});return h("dijit.form._ExpandingTextAreaMixin",null,{_setValueAttr:function(){this.inherited(arguments);this.resize()},postCreate:function(){this.inherited(arguments);var b=this.textbox;this.own(c(b,"scroll, focus",a.hitch(this,"_resizeLater")));b.style.overflowY=
"hidden";this._estimateHeight()},startup:function(){this.inherited(arguments);this.own(g.on("resize",a.hitch(this,"_resizeLater")));this._resizeLater()},_onInput:function(a){this.inherited(arguments);this.resize()},_estimateHeight:function(){var a=this.textbox;a.style.height="auto";a.rows=(a.value.match(/\n/g)||[]).length+2},_resizeLater:function(){this.defer("resize")},resize:function(){function a(){var c=!1;""===b.value&&(b.value=" ",c=!0);var d=b.scrollHeight;c&&(b.value="");return d}var b=this.textbox;
"hidden"==b.style.overflowY&&(b.scrollTop=0);if(!this.busyResizing){this.busyResizing=!0;if(a()||b.offsetHeight){var c=b.style.height;/px/.test(c)||(c=a(),b.rows=1,b.style.height=c+"px");var c=Math.max(Math.max(b.offsetHeight,parseInt(c))-b.clientHeight,0)+a(),d=c+"px";d!=b.style.height&&(b.rows=1,b.style.height=d);if(e("textarea-needs-help-shrinking")){var g=a(),h=b.style.minHeight,q=4;b.style.minHeight=d;for(b.style.height="auto";0<c;){b.style.minHeight=Math.max(c-q,4)+"px";d=a();g-=d;c-=g;if(g<
q)break;g=d;q<<=1}b.style.height=c+"px";b.style.minHeight=h}b.style.overflowY=a()>b.clientHeight?"auto":"hidden"}else this._estimateHeight();this.busyResizing=!1}}})})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./_base/html ./_base/window ./_base/url ./_base/json ./aspect ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),function(h,b,e,a,c,d,g,f,k,l,m,p,n,q,r,t){function u(a){var b=a._nameCaseMap,c=a.prototype;if(!b||b._extendCnt<
v){var b=a._nameCaseMap={},d;for(d in c)"_"!==d.charAt(0)&&(b[d.toLowerCase()]=d);b._extendCnt=v}return b}function w(a){var b=a.join();if(!x[b]){for(var c=[],d=0,f=a.length;d<f;d++){var g=a[d];c[c.length]=x[g]=x[g]||e.getObject(g)||~g.indexOf("/")&&h(g)}a=c.shift();x[b]=c.length?a.createSubclass?a.createSubclass(c):a.extend.apply(a,c):a}return x[b]}new Date("X");var v=0;l.after(e,"extend",function(){v++},!0);var x={},s={_clearCache:function(){v++;x={}},_functionFromScript:function(b,c){var d="",e=
"",f=b.getAttribute(c+"args")||b.getAttribute("args"),g=b.getAttribute("with"),f=(f||"").split(/\s*,\s*/);g&&g.length&&a.forEach(g.split(/\s*,\s*/),function(a){d+="with("+a+"){";e+="}"});return new Function(f,d+b.innerHTML+e)},instantiate:function(c,d,e){d=d||{};e=e||{};var f=(e.scope||b._scopeName)+"Type",g="data-"+(e.scope||b._scopeName)+"-",h=g+"type",k=g+"mixins",l=[];a.forEach(c,function(a){var b=f in d?d[f]:a.getAttribute(h)||a.getAttribute(f);if(b){var c=a.getAttribute(k),b=c?[b].concat(c.split(/\s*,\s*/)):
[b];l.push({node:a,types:b})}});return this._instantiate(l,d,e)},_instantiate:function(b,c,d){b=a.map(b,function(a){var b=a.ctor||w(a.types);if(!b)throw Error("Unable to resolve constructor for: '"+a.types.join()+"'");return this.construct(b,a.node,c,d,a.scripts,a.inherited)},this);!c._started&&!d.noStart&&a.forEach(b,function(a){"function"===typeof a.startup&&!a._started&&a.startup()});return b},construct:function(c,d,g,h,p,v){var w=c&&c.prototype;h=h||{};var t={};h.defaults&&e.mixin(t,h.defaults);
v&&e.mixin(t,v);var x;n("dom-attributes-explicit")?x=d.attributes:n("dom-attributes-specified-flag")?x=a.filter(d.attributes,function(a){return a.specified}):(v=(/^input$|^img$/i.test(d.nodeName)?d:d.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),x=a.map(v.split(/\s+/),function(a){var b=a.toLowerCase();return{name:a,value:"LI"==d.nodeName&&"value"==a||"enctype"==b?d.getAttribute(b):d.getAttributeNode(b).value}}));var s=
h.scope||b._scopeName;v="data-"+s+"-";var J={};"dojo"!==s&&(J[v+"props"]="data-dojo-props",J[v+"type"]="data-dojo-type",J[v+"mixins"]="data-dojo-mixins",J[s+"type"]="dojoType",J[v+"id"]="data-dojo-id");for(var s=0,E,H=[],Q,O;E=x[s++];){var I=E.name,L=I.toLowerCase();E=E.value;switch(J[L]||L){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":O=E;break;case "data-dojo-id":case "jsid":Q=E;break;case "data-dojo-attach-point":case "dojoattachpoint":t.dojoAttachPoint=
E;break;case "data-dojo-attach-event":case "dojoattachevent":t.dojoAttachEvent=E;break;case "class":t["class"]=d.className;break;case "style":t.style=d.style&&d.style.cssText;break;default:if(I in w||(I=u(c)[L]||I),I in w)switch(typeof w[I]){case "string":t[I]=E;break;case "number":t[I]=E.length?Number(E):NaN;break;case "boolean":t[I]="false"!=E.toLowerCase();break;case "function":""===E||-1!=E.search(/[^\w\.]+/i)?t[I]=new Function(E):t[I]=e.getObject(E,!1)||new Function(E);H.push(I);break;default:L=
w[I],t[I]=L&&"length"in L?E?E.split(/\s*,\s*/):[]:L instanceof Date?""==E?new Date(""):"now"==E?new Date:m.fromISOString(E):L instanceof f?b.baseUrl+E:k.fromJson(E)}else t[I]=E}}for(s=0;s<H.length;s++)x=H[s].toLowerCase(),d.removeAttribute(x),d[x]=null;if(O)try{O=k.fromJson.call(h.propsThis,"{"+O+"}"),e.mixin(t,O)}catch(P){throw Error(P.toString()+" in data-dojo-props\x3d'"+O+"'");}e.mixin(t,g);p||(p=c&&(c._noScript||w._noScript)?[]:q("\x3e script[type^\x3d'dojo/']",d));g=[];h=[];O=[];H=[];if(p)for(s=
0;s<p.length;s++){var N=p[s];d.removeChild(N);x=N.getAttribute(v+"event")||N.getAttribute("event");J=N.getAttribute(v+"prop");I=N.getAttribute(v+"method");L=N.getAttribute(v+"advice");E=N.getAttribute("type");N=this._functionFromScript(N,v);x?"dojo/connect"==E?g.push({method:x,func:N}):"dojo/on"==E?H.push({event:x,func:N}):t[x]=N:"dojo/aspect"==E?g.push({method:I,advice:L,func:N}):"dojo/watch"==E?O.push({prop:J,func:N}):h.push(N)}c=(p=c.markupFactory||w.markupFactory)?p(t,d,c):new c(t,d);Q&&e.setObject(Q,
c);for(s=0;s<g.length;s++)l[g[s].advice||"after"](c,g[s].method,e.hitch(c,g[s].func),!0);for(s=0;s<h.length;s++)h[s].call(c);for(s=0;s<O.length;s++)c.watch(O[s].prop,O[s].func);for(s=0;s<H.length;s++)r(c,H[s].event,H[s].func);return c},scan:function(c,d){function e(a){if(!a.inherited){a.inherited={};var b=a.node,c=e(a.parent),b={dir:b.getAttribute("dir")||c.dir,lang:b.getAttribute("lang")||c.lang,textDir:b.getAttribute(r)||c.textDir},d;for(d in b)b[d]&&(a.inherited[d]=b[d])}return a.inherited}var f=
[],g=[],k={},l=(d.scope||b._scopeName)+"Type",m="data-"+(d.scope||b._scopeName)+"-",q=m+"type",r=m+"textdir",m=m+"mixins",v=c.firstChild,s=d.inherited;if(!s){var t=function(a,b){return a.getAttribute&&a.getAttribute(b)||a.parentNode&&t(a.parentNode,b)},s={dir:t(c,"dir"),lang:t(c,"lang"),textDir:t(c,r)},u;for(u in s)s[u]||delete s[u]}for(var s={inherited:s},x,I;;)if(v)if(1!=v.nodeType)v=v.nextSibling;else if(x&&"script"==v.nodeName.toLowerCase())(L=v.getAttribute("type"))&&/^dojo\/\w/i.test(L)&&x.push(v),
v=v.nextSibling;else if(I)v=v.nextSibling;else{var L=v.getAttribute(q)||v.getAttribute(l);u=v.firstChild;if(!L&&(!u||3==u.nodeType&&!u.nextSibling))v=v.nextSibling;else{I=null;if(L){var P=v.getAttribute(m);x=P?[L].concat(P.split(/\s*,\s*/)):[L];try{I=w(x)}catch(N){}I||a.forEach(x,function(a){~a.indexOf("/")&&!k[a]&&(k[a]=!0,g[g.length]=a)});P=I&&!I.prototype._noScript?[]:null;s={types:x,ctor:I,parent:s,node:v,scripts:P};s.inherited=e(s);f.push(s)}else s={node:v,scripts:x,parent:s};v=u;x=P;I=I&&I.prototype.stopParser&&
!d.template}}else{if(!s||!s.node)break;v=s.node.nextSibling;I=!1;s=s.parent;x=s.scripts}var R=new p;g.length?(n("dojo-debug-messages")&&console.warn("WARNING: Modules being Auto-Required: "+g.join(", ")),h(g,function(){R.resolve(a.filter(f,function(a){if(!a.ctor)try{a.ctor=w(a.types)}catch(b){}for(var c=a.parent;c&&!c.types;)c=c.parent;var e=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(e&&e.stopParser&&!d.template);a.instantiate=!c||c.instantiate&&c.instantiateChildren;return a.instantiate}))})):
R.resolve(f);return R.promise},_require:function(a){a=k.fromJson("{"+a.innerHTML+"}");var b=[],c=[],d=new p,f;for(f in a)b.push(f),c.push(a[f]);h(c,function(){for(var a=0;a<b.length;a++)e.setObject(b[a],arguments[a]);d.resolve(arguments)});return d.promise},_scanAmd:function(a){var b=new p,c=b.promise;b.resolve(!0);var d=this;q("script[type\x3d'dojo/require']",a).forEach(function(a){c=c.then(function(){return d._require(a)});a.parentNode.removeChild(a)});return c},parse:function(a,b){var c;!b&&a&&
a.rootNode?(b=a,c=b.rootNode):a&&e.isObject(a)&&!("nodeType"in a)?b=a:c=a;c=c?d.byId(c):g.body();b=b||{};var f=b.template?{template:!0}:{},h=[],k=this,l=this._scanAmd(c,b).then(function(){return k.scan(c,b)}).then(function(a){return h=h.concat(k._instantiate(a,f,b))}).otherwise(function(a){console.error("dojo/parser::parse() error",a);throw a;});e.mixin(h,l);return h}};b.parser=s;c.parseOnLoad&&t(100,s,"parse");return s})},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],
function(h,b,e){var a=h.some;return function(c){var d,g;c instanceof Array?g=c:c&&"object"===typeof c&&(d=c);var f,h=[];if(d){g=[];for(var l in d)Object.hasOwnProperty.call(d,l)&&(h.push(l),g.push(d[l]));f={}}else g&&(f=[]);if(!g||!g.length)return(new b).resolve(f);var m=new b;m.promise.always(function(){f=h=null});var p=g.length;a(g,function(a,b){d||h.push(b);e(a,function(a){m.isFulfilled()||(f[h[b]]=a,0===--p&&m.resolve(f))},m.reject);return m.isFulfilled()});return m.promise}})},"url:redfin/homepage/widgets/templates/LastSearchWidget.html":'\x3cdiv class\x3d"lastSearchWidget"\x3e\n\t\x3cdiv dojoAttachPoint\x3d"lastSearchErrorMessageNode" class\x3d"errorNode collapsed"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"lastSearchItem clear-fix" dojoAttachPoint\x3d"lastSearchItem"\x3e\n\t\t\x3cspan class\x3d"search_item_icon"\x3e\x3c/span\x3e\n\t\t\x3ca class\x3d"lastSearchName" dojoAttachPoint\x3d"lastSearchNameNode"\x3e\x3c/a\x3e\n\t\t\x3cspan class\x3d"reminder hidden" dojoAttachPoint\x3d"reminderNode"\x3e(already saved)\x3c/span\x3e\n\t\t\x3cdiv dojoType\x3d"redfin.widget.Button" buttonType\x3d"tertiary" size\x3d"small" label\x3d"Save" class\x3d"saveButton hidden" dojoAttachPoint\x3d"saveButton"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"redfin/common/util":function(){define(["dijit","dojo","dojox","dojo/require!dojox/string/Builder,dojox/collections/ArrayList,redfin/common/namespace,dojox/date/timezone,dojox/date/zoneinfo/ext/northamerica,dojox/date/zoneinfo/ext/backward,dojo/number,redfin/common/util/prefetch"],function(h,b,e){b.provide("redfin.common.util");b.require("dojox.string.Builder");b.require("dojox.collections.ArrayList");b.require("redfin.common.namespace");b.require("dojox.date.timezone");b.require("dojox.date.zoneinfo.ext.northamerica");
b.require("dojox.date.zoneinfo.ext.backward");b.require("dojo.number");b.require("redfin.common.util.prefetch");redfin.util.formatCommas=function(a){var b=/(-?\d+)(\d{3})/;for(a=a.toString();b.test(a);)a=a.replace(b,"$1,$2");return a};redfin.util.formatDollars=function(a,b){return null==a||Infinity==a||""===a||isNaN(a)?b?b:"":"$"+redfin.util.formatNumber(a,0)};redfin.util.formatPct=function(a){return null==a?"":redfin.util.formatNumber(100*a,1)+"%"};redfin.util.minimumPrecisionNumber=function(a,c){c=
c||2;var d=null,e=a+"";e.indexOf(".")&&(d=e.substr(e.indexOf(".")));return null!=d&&(d+"").length>c+1?b.number.format(a,{places:c}):a+""};redfin.util.formatNumber=function(a,c){return null==a?"":b.number.format(a,{places:c?c:0})};redfin.util.abbreviateNumber=function(a,c){if("number"!=typeof a)return null;c=!0===c;var d=a;1E12<=d||-1E12>=d?(d=b.number.format(d/1E12,{places:1}),d+="T"):1E9<=d||-1E9>=d?(d/=1E9,d=b.number.format(d,{places:1}),d+="B"):1E8<=d||-1E8>=d?(d/=1E6,d=b.number.format(d,{places:0}),
d+="M"):1E6<=d||-1E6>=d?(d/=1E6,d=b.number.format(d,{places:1}),d+="M"):1E5<=a||-1E5>=a||(1E4<=a||-1E4>=a)&&c?(d/=1E3,d=b.number.format(d,{places:0}),d+="K"):d=b.number.format(d,{places:0});return d};redfin.util.isNumeric=function(a){return!isNaN(parseFloat(a))&&isFinite(a)};redfin.util.avg=function(a){if(0>=a.length)return null;for(var b=0,d=0;d<a.length;++d)b+=a[d];return b/a.length};redfin.util.median=function(a){if(0>=a.length)return 0;a.sort(function(a,b){return a-b});if(0==a.length%2){var b=
a.length/2;return(a[b-1]+a[b])/2}return a[Math.floor(a.length/2)]};redfin.util.formatCityState=function(a,b,d){var e="";a&&(e=a+", ");b&&(e=e+b+" ");d&&(e+=d);return e};redfin.util.formatDate=function(a){if(a&&("string"==typeof a&&10==a.length)&&/\d{4}-\d{2}-\d{2}$/.test(a)){var b=a.substr(0,4),d=a.substr(5,2);a=a.substr(8,2);return d+"/"+a+"/"+b}return null};redfin.util.formatDateFriendly=function(a){if(a&&("string"==typeof a&&10==a.length)&&/\d{4}-\d{2}-\d{2}$/.test(a)){var b=a.substr(5,2);switch(b){case "01":b=
"Jan";break;case "02":b="Feb";break;case "03":b="Mar";break;case "04":b="Apr";break;case "05":b="May";break;case "06":b="Jun";break;case "07":b="Jul";break;case "08":b="Aug";break;case "09":b="Sep";break;case "10":b="Oct";break;case "11":b="Nov";break;case "12":b="Dec"}a=a.substr(8,2);"0"==a.substr(0,1)&&(a=a.substr(1));return b+" "+a}return null};redfin.util.toTitleCase=function(a){return null==a?null:a.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})};redfin.util.getPageAnchorInfo=
function(a){if(!a||redfin.datamodel.hometypes.LISTING!=a.getType()&&redfin.datamodel.hometypes.PROPERTY!=a.getType())throw Error("Home passed into redfin.util.getPageAnchorInfo is neither a listing nor a property.  The type is "+a.getType()+".");return{href:redfin.util.generateUrl(a),target:"_blank"}};redfin.util.htmlEscape=function(a){return null==a||void 0==a?"":redfin.util.escapeXml(a.toString())};redfin.util.htmlUnescape=function(a){return null==a||void 0==a?"":redfin.util.unescapeXml(a.toString())};
redfin.util.addNoWrap=function(a){return null==a||void 0==a?"":"\x3cspan style\x3d'white-space:nowrap'\x3e"+a+"\x3c/span\x3e"};redfin.util.unknown="Unknown";redfin.util.escapeForUrl=function(a){if(!a)return"";a=b.trim(a);a=a.replace(/[\/\\\(\)\:\\"\.\&\@\,\'\s]/g,"-");a=a.replace(/[^a-zA-Z0-9-]/g,"");a=a.replace(/-{2,}/g,"-");return a=a.replace(/(^-)|(-$)/g,"")};redfin.util.validUrl=function(a){var b=a.match(/^(\w+):\/\//);if(null==b||2>b.length)a="http://"+a;return a};redfin.util.displayUrl=function(a){return a.replace(/^(\w+:\/\/)/,
"")};redfin.util.generateUrl=function(a){return a.getUrl()};redfin.util.escapeXml=function(a){a=a.replace(/&/gm,"\x26amp;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").replace(/"/gm,"\x26quot;");return a=a.replace(/'/gm,"\x26#39;")};redfin.util.unescapeXml=function(a){a=a.replace(/&amp;/gm,"\x26").replace(/&lt;/gm,"\x3c").replace(/&gt;/gm,"\x3e").replace(/&quot;/gm,'"');return a=a.replace(/&#39;/gm,"'")};redfin.util.getGPolylineStyles=function(){return[{color:"#E60000",width:3,opacity:1},{color:"#FFFFFF",
width:5,opacity:1}]};redfin.util.parseMultiPoly=function(a){ret=[];a=a.split(/[\(\)]/);for(var b=0;b<a.length;b++){var d=a[b];if(""!=d&&","!=d){for(var d=d.split(","),e=0;e<d.length;e++){var f=d[e].split(" ");d[e]=new GLatLng(parseFloat(f[1]),parseFloat(f[0]))}ret.push(d)}}return ret};redfin.util.parseMultiPoly3=function(a){ret=[];a=a.split(/[\(\)]/);for(var b=0;b<a.length;b++){var d=a[b];if(""!=d&&","!=d){for(var d=d.split(","),e=0;e<d.length;e++){var f=d[e].split(" ");d[e]=new google.maps.LatLng(parseFloat(f[1]),
parseFloat(f[0]))}ret.push(d)}}return ret};redfin.util.drawMultiPolygon=function(a,b,d){var e=redfin.util.getGPolylineStyles(),f=1;d&&(f=0);for(d=[];0<=f;f--)for(var h=e[f],l=0;l<b.length;l++){var m=new GPolyline(b[l],h.color,h.width,h.opacity);a.addOverlay(m);d.push(m)}return d};redfin.util.drawMultiPolygon3=function(a,b,d){var e=[];if(!d)for(d=0;d<b.length;d++){var f={strokeColor:"#FFFFFF",strokeWeight:5,strokeOpacity:1,path:b[d],zIndex:10},f=new google.maps.Polyline(f);f.setMap(a);e.push(f)}for(d=
0;d<b.length;d++)f={strokeColor:"#E60000",strokeWeight:3,strokeOpacity:1,path:b[d],zIndex:20},f=new google.maps.Polyline(f),f.setMap(a),e.push(f);return e};redfin.util.getMultiPolyBounds=function(a){for(var b=null,d=0;d<a.length;d++){var e=(new GPolygon(a[d])).getBounds();null==b?b=e:(b.extend(e.getSouthWest()),b.extend(e.getNorthEast()))}return b};redfin.util.getMultiPolyBounds3=function(a){for(var b=null,d=0;d<a.length;d++)for(var e=a[d],f=0;f<e.length;f++)null==b?b=new google.maps.LatLngBounds(e[f],
e[f]):b.extend(e[f]);return b};redfin.util.multiPolyCentroid=function(a){for(var b,d=0,e=0;e<a.length;e++){for(var f=a[e],h=0,l=0;l<f.length-1;l++)h+=f[l].lat()*f[l+1].lng()-f[l+1].lat()*f[l].lng();h*=0.5;h>d&&(d=h,b=f)}for(e=f=a=0;e<b.length-1;e++)a+=(b[e].lat()+b[e+1].lat())*(b[e].lat()*b[e+1].lng()-b[e+1].lat()*b[e].lng());for(e=0;e<b.length-1;e++)f+=(b[e].lng()+b[e+1].lng())*(b[e].lat()*b[e+1].lng()-b[e+1].lat()*b[e].lng());return new google.maps.LatLng(a/(6*d),f/(6*d))};redfin.util.calculateBoundingBox=
function(a){for(var b=a[0].lat(),d=a[0].lng(),e=a[0].lat(),f=a[0].lng(),h=1;h<a.length;h++)b=Math.min(b,a[h].lat()),d=Math.min(d,a[h].lng()),e=Math.max(e,a[h].lat()),f=Math.max(f,a[h].lng());return new GLatLngBounds(new GLatLng(b,d),new GLatLng(e,f))};redfin.util.calculateBoundingBox3=function(a){for(var b=new google.maps.LatLngBounds(a[0],a[0]),d=1;d<a.length;d++)b.extend(a[d]);return b};redfin.util.getGPolygonBounds3=function(a){var b=new google.maps.LatLngBounds;a=a.getPaths();for(var d=0;d<a.getLength();d++)for(var e=
a.getAt(d),f=0;f<e.getLength();f++)b.extend(e.getAt(f));return b};redfin.util.getPolyBoundsFromLatLongs=function(a){var c=[];b.forEach(a,b.hitch(this,function(a){c.push(new google.maps.LatLng(a.latitude,a.longitude))}));a=new google.maps.Polygon({paths:[c]});return redfin.util.getGPolygonBounds3(a)};redfin.util.bboxToGLatLngBounds=function(a){return new GLatLngBounds(new GLatLng(a.minlat,a.minlong),new GLatLng(a.maxlat,a.maxlong))};redfin.util.bboxToLatLngBounds3=function(a){return new google.maps.LatLngBounds(new google.maps.LatLng(a.minlat,
a.minlong),new google.maps.LatLng(a.maxlat,a.maxlong))};redfin.util.gLatLngBoundsToBbox=function(a){return{minlat:a.getSouthWest().lat(),minlong:a.getSouthWest().lng(),maxlat:a.getNorthEast().lat(),maxlong:a.getNorthEast().lng()}};redfin.util.latLngBoundsToBbox3=function(a){return{minlat:a.getSouthWest().lat(),minlong:a.getSouthWest().lng(),maxlat:a.getNorthEast().lat(),maxlong:a.getNorthEast().lng()}};redfin.util.defaultForZero=function(a){return null==a||""==a||0==a?"-":a};redfin.util.defaultForEmptyNum=
function(a){return null==a?"-":a};redfin.util.truncateString=function(a,b,d){"undefined"==typeof b&&(b=12);"undefined"==typeof d&&(d="...");return null===a||void 0===a||null===a.length||void 0===a.length?null:a.length<=b?a:a.substr(0,b)+d};redfin.util.truncateAndFitString=function(a,b,d){"undefined"==typeof b&&(b=12);"undefined"==typeof d&&(d="...");return null===a||void 0===a||null===a.length||void 0===a.length?null:a.length<=b?a:a.substr(0,b-d.length)+d};redfin.util.formatCommaSeparatedList=function(a,
b){if(null==a||1>a.length)return"";var d=new e.string.Builder(a[0]);if(2==a.length)d.append(" "+b+" "+a[1]);else if(2<a.length){d.append(", ");var g=new e.collections.ArrayList(a),f=g.item(g.count-1);g.removeAt(g.count-1);g.removeAt(0);d.append(g.toString(", "));d.append(" "+b+" "+f)}return d.toString()};redfin.util.dateFromMillis=function(a){var b=new Date;b.setTime(a);return b};redfin.util.dateInTimezone=function(a,b,d,g,f,h,l,m){"undefined"==typeof l&&(l=0);"undefined"==typeof m&&(m=0);b=new Date(Date.UTC(b,
d,g,f,h,l,m));d=0;try{d=e.date.timezone.getTzInfo(b,a).tzOffset}catch(p){}g=new Date(b.getTime()+6E4*d);try{d=e.date.timezone.getTzInfo(g,a).tzOffset}catch(n){}return new Date(b.getTime()+6E4*d)};redfin.util.isValidEmail=function(a){return/^[-\w~!$%^&*=+}{\'?]+(\.[-\w~!$%^&*=+}{\'?]+)*@([a-z0-9][-a-z0-9]*(\.[-a-z0-9]+)*\.(aero|asia|arpa|biz|cat|com|coop|edu|gov|info|int|jobs|mil|museum|name|net|org|post|pro|tel|travel|mobi|xxx|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i.test(a)};
redfin.util.phoneNumberIsValid=function(a){return!redfin.util.phoneNumberHasInvalidCharacters(a)&&redfin.util.phoneNumberHasValidLength(a)};redfin.util.phoneNumberHasInvalidCharacters=function(a){return/[^-0-9\.() ]/.test(a)};redfin.util.phoneNumberHasValidLength=function(a){a=a.replace(/[^0-9]/g,"");return 10==a.length||11==a.length&&"1"==a.charAt(0)};redfin.util.numberToOrdinal=function(a){return a+(1==a%10&&11!=a%100?"st":2==a%10&&12!=a%100?"nd":3==a%10&&13!=a%100?"rd":"th")};redfin.util.endsWith=
function(a,b,d){d&&(a=a.toLowerCase(),b=b.toLowerCase());return 0>a.length-b.length?!1:a.lastIndexOf(b)==a.length-b.length};redfin.util.startsWith=function(a,b,d){d&&(a=a.toLowerCase(),b=b.toLowerCase());return 0==a.indexOf(b)};redfin.util.trimFromEnd=function(a,b,d){return redfin.util.endsWith(a,b,d)?a.substr(0,a.length-b.length):a};redfin.util.ellipsisAfterIndex=function(a,b,d,e){e||(e=/\s+/g);d||(d="...");e.lastIndex=0;for(var f=e.exec(a);null!==f;)if(f.index<=b)f=e.exec(a);else return{value:a.substring(0,
f.index)+d,trimmed:!0};return{value:a,trimmed:!1}};redfin.util.forceRedraw=function(a){"string"==typeof a&&(a=b.byId(a));b.style(a,"outline","0px solid black");setTimeout(function(){b.style(a,"outline","")},50)};redfin.util.showElement=function(a){var c=a;b.isString(a)?c=b.byId(a):a&&a.domNode&&(c=a.domNode);c?(c.style.visibility="inherit",c.style.display="inline"):console.warn("Error in redfin.util.showElement: "+(b.isString(a)?'cannot find node named "'+a+'".':"empty node passed in as an argument."))};
redfin.util.hideElement=function(a){var c=a;b.isString(a)?c=b.byId(a):a&&a.domNode&&(c=a.domNode);c?(c.style.visibility="hidden",c.style.display="none"):console.warn("Error in redfin.util.hideElement: "+(b.isString(a)?'cannot find node named "'+a+'".':"empty node passed in as an argument."))};redfin.util.showOrHideElement=function(a,b){b?redfin.util.showElement(a):redfin.util.hideElement(a)};redfin.util.roundDecimals=function(a,b){if("number"!==typeof a||isNaN(a)||"number"!==typeof b||isNaN(b))return null;
var d=Math.pow(10,b);return Math.round(a*d)/d};redfin.util.isEmptyObject=function(a){if(null===a||!b.isObject(a))return!1;for(var c in a)if(a.hasOwnProperty(c))return!1;return!0};redfin.util.arrayContains=function(a,b){var d=0;for(d;d<a.length;d++)if(a[d]==b)return!0;return!1};redfin.util.findGreatestInArray=function(a){for(var b=a[0],d=1;d<a.length;d++)a[d]>b&&(b=a[d]);return b};redfin.util.capitaliseFirstLetter=function(a){return null==a?null:a.charAt(0).toUpperCase()+a.slice(1)};redfin.util.reduceFraction=
function(a,b){if(isNaN(a)||isNaN(b))return NaN;var d=function f(a,b){return b?f(b,a%b):a},d=d(a,b);return[a/d,b/d]};redfin.util.areCookiesSupported=function(){if(b.isIE){b.cookie("testCookies","enabled",{path:"/"});var a=b.cookie("testCookies");b.cookie("testCookies",null,{expires:-1});return"enabled"==a}return b.cookie.isSupported()};redfin.util.distance=function(a,b,d,e){try{var f=(d-a)*Math.PI/180,h=(e-b)*Math.PI/180,l=Math.sin(f/2)*Math.sin(f/2)+Math.sin(h/2)*Math.sin(h/2)*Math.cos(a*Math.PI/
180)*Math.cos(d*Math.PI/180);return 3958*2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}catch(m){}return null}})},"redfin/search/common/dialogs/OldFixedDialog":function(){define("dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/on dojo/keys dojo/topic dojo/window dojo/dnd/Moveable dijit/Dialog dijit/DialogUnderlay dijit/focus dojo/text!./templates/FixedDialog.html ./FixedDialogUnderlay".split(" "),function(h,b,
e,a,c,d,g,f,k,l,m,p,n,q,r,t,u,w){return e([q],{headerSpriteIcon:"",destroyOnHide:!1,hideOnUnderlayClick:!1,hideTitleBar:!1,fitToContents:!1,closable:!1,contentClass:"pad",_setContentClassAttr:{node:"containerNode",type:"class"},"class":"fix-width",autofocus:!1,templateString:u,cssStateNodes:{},_setDialogContentAttr:function(a){this.set("content",a)},baseClass:"FixedDialog",postCreate:function(){this.inherited(arguments);this.headerSpriteIcon&&(d.remove(this.headerIconNode,"hidden"),d.add(this.headerIconNode,
this.headerSpriteIcon));this.closable&&d.remove(this.closeButton,"hidden");this.hideTitleBar&&d.add(this.titleBar,"hidden");f.set(this.domNode,{display:"",position:"fixed"})},_setup:function(){var a=this.domNode;this.titleBar&&this.draggable&&(this._moveable=new n(a,{handle:this.titleBar}),this.connect(this._moveable,"onMoveStop","_endDrag"));this.underlayAttrs={dialogId:this.id,"class":"darken",ownerDocument:this.ownerDocument};a=r._singleton;if(!a||a._destroyed||"redfin.search.common.dialogs.FixedDialogUnderlay"!=
a.declaredClass)r._singleton=new w(this.underlayAttrs)},_size:function(){this.fitToContents&&this.inherited(arguments)},_position:function(){if(!d.contains(this.ownerDocumentBody,"dojoMove")){var a=this.domNode,b=p.getBox(this.ownerDocument),c=this._relativePosition,e=c?null:g.position(a);f.set(a,{left:Math.floor(c?c.x:(b.w-e.w)/2)+"px",top:Math.floor(c?c.y:(b.h-e.h)/2)+"px"})}},_onKey:function(a){if(a.charOrCode){var b=a.target;a.charOrCode===l.TAB&&this._getFocusItems(this.domNode);var d=this._firstFocusItem==
this._lastFocusItem;if(this.closable&&a.charOrCode===l.ESCAPE)this.onCancel();else b==this._firstFocusItem&&a.shiftKey&&a.charOrCode===l.TAB?(d||t.focus(this._lastFocusItem),c.stop(a)):b==this._lastFocusItem&&a.charOrCode===l.TAB&&!a.shiftKey?(d||t.focus(this._firstFocusItem),c.stop(a)):h.forEach(this.getChildren(),function(b){k.emit(b,"keypress",a)})}},show:function(){if(!this.open){this._started||this.startup();this._alreadyInitialized||(this._setup(),this._alreadyInitialized=!0);var c=p.get(this.ownerDocument);
this._modalconnects.push(k(c,"scroll",a.hitch(this,"resize")));this._modalconnects.push(k(this.ownerDocument,b._keypress,a.hitch(this,"_onKey")));this._set("open",!0);this._onShow();this._size();this._position();c=q._DialogLevelManager;c.show(this,this.underlayAttrs);this.autofocus&&c.isTop(this)&&(this._getFocusItems(this.domNode),t.focus(this._firstFocusItem));c=r._singleton;this.hideOnUnderlayClick&&this._modalconnects.push(k(c.domNode,"click",a.hitch(this,"hide")));this.closable&&this._modalconnects.push(k(this.closeButton,
"click",a.hitch(this,"hide")));f.set(this.domNode,{opacity:1})}},hide:function(){if(this._alreadyInitialized&&this.open){q._DialogLevelManager.hide(this);f.set(this.domNode,{opacity:null,top:null,left:null});this._scrollConnected&&(this._scrollConnected=!1);for(var a;a=this._modalconnects.pop();)a.remove();this._relativePosition&&delete this._relativePosition;this._set("open",!1);this.destroyOnHide&&this.destroyRecursive()}},resize:function(){this.open&&(r._singleton&&r._singleton.layout(),this._position(),
this._size())}})})},"redfin/common/widgets/contactBox/ContactBoxOutOfAreaForm":function(){require({cache:{"url:redfin/common/widgets/contactBox/templates/ContactBoxOutOfAreaForm.html":'\x3cdiv class\x3d"contactBoxOutOfAreaForm" dojoAttachPoint\x3d"content"\x3e\n\t\x3ch3\x3eHow Do I See This Home?\x3c/h3\x3e\n\t\x3cdiv class\x3d"content"\x3e\n\t\t\x3cp dojoAttachPoint\x3d"outOfAreaMessageText"\x3eSorry, Redfin\'s agents and partners don\'t yet serve this area. Should we email you when we have agents here?\x3c/p\x3e\n\t\t\x3cform dojoAttachPoint\x3d"outOfAreaForm" method\x3d"POST"\x3e\n\t\t\t\x3cinput type\x3d"hidden" name\x3d"outOfAreaZipCode" dojoAttachPoint\x3d\'outOfAreaZipCode\' /\x3e\n\t\t\t\x3cdiv name\x3d"outOfAreaEmail" dojoAttachPoint\x3d"emailField" dojoType\x3d"redfin.common.elements.form.Text" label\x3d"Email:"\x3e\x3c/div\x3e\n\t\t\x3c/form\x3e\n\t\t\x3cdiv dojoAttachPoint\x3d"emailMeButton" class\x3d"Button basic-border-radius clickable primary small emailMeButton"\x3eEmail Me\x3c/div\x3e\t\t\n\t\t\x3cbr /\x3e\n\t\t\x3cp\x3e\x3ca href\x3d\'/out-of-area-signup\' target\x3d\'_top\'\x3eSee Where Redfin Has Agents\x3c/a\x3e\x3c/p\x3e\n\t\t\x3cp\x3e\x3ca href\x3d\'/buy-a-home/redfin-partner-agent-info\' target\x3d\'_top\'\x3eI\'d Like to Be a Partner Agent Here\x3c/a\x3e\x3c/p\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e'}});
define("redfin/common/widgets/contactBox/ContactBoxOutOfAreaForm","dojo dojo/on dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-class dojo/has dojo/text!redfin/common/widgets/contactBox/templates/ContactBoxOutOfAreaForm.html dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin redfin/common/widgets/contactBox/ContactBoxComponentMixin redfin/common/elements/form/Text redfin/common/mixins/_Adopt redfin/common/widgets/contactBox/ContactBoxButton".split(" "),function(h,b,e,a,
c,d,g,f,k,l,m,p,n,q,r){return e("redfin.common.widgets.contactBox.ContactBoxOutOfAreaForm",[k,l,m,p,q],{templateString:f,data:null,postCreate:function(){this.data&&(a.forEach(this.data.classes,c.hitch(this,function(a){h.addClass(this.content,a)})),this.outOfAreaForm.action=g_secureWebServerUrl+"/out-of-area-signup",this.data.email&&this.emailField.set("value",this.data.email),buttonHandle=b(this.emailMeButton,"click",c.hitch(this,function(){this.outOfAreaForm.submit()})),this.data.zipCode&&(this.outOfAreaZipCode.value=
this.data.zipCode))}})})},"redfin/search/map/GoogleMaps":function(){define("redfin/search/map/GoogleMaps","dojo/_base/array dojo/_base/lang dojo/_base/html dojo/Deferred dojo/request/script ./MapStyles ./overlays/FastMarkerOverlay ./overlays/markers/FastMarker redfin/bouncer/Bouncer".split(" "),function(h,b,e,a,c,d,g,f,k){function l(){p(google.maps.Map.prototype);n(google.maps.Polygon.prototype);google.maps.Map.create=m;q.resolve(google.maps.Map)}function m(a,c){k.isOn(g_feature.GMAPS_VISUAL_REFRESH)&&
(google.maps.visualRefresh=!0);var f={zoom:18,maxZoom:20,minZoom:7,tilt:0,center:new google.maps.LatLng(47.611416,-122.34268),keyboardShortcuts:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!0,mapTypeControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT,mapTypeIds:[google.maps.MapTypeId.ROADMAP,google.maps.MapTypeId.SATELLITE,google.maps.MapTypeId.HYBRID]},zoomControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT},panControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT},
scrollwheel:!1,streetViewControl:!1,streetViewPanoramaOptions:{enableCloseButton:!1,visible:!1,panControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP},zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP}},styles:d};k.isOn(g_feature.HTML5_STREETVIEW)&&(f.streetViewPanoramaOptions.mode="html5");a=b.mixin(f,a||{});f=new google.maps.Map(e.byId(c),a);f.params=a;f.setStreetView(new google.maps.StreetViewPanorama(f.getDiv(),a.streetViewPanoramaOptions));return f}function p(a){a.config=
t;a.drawFastMarker=function(a){a=b.isArray(a)?a:[a];var c=[];h.forEach(a,function(a){c.push(new f(a))});return this.drawFastMarkerOverlay(c)};a.drawFastMarkerOverlay=function(a,b){b=b||new g;b.addMarkers(a);b.setMap(this);return b};a.drawOutline=function(a,c){c=b.mixin({strokeColor:"#FF2F2F",strokeOpacity:0.8,strokeWeight:2.5,fillColor:"#FFFFFF",fillOpacity:0,clickable:!1,paths:[],map:this},c);return a?(h.forEach(a,function(a){a=b.isArray(a)?a:a.split(",");2===a.length&&(""!==a[0]&&""!==a[1])&&c.paths.push(new google.maps.LatLng(a[0],
a[1]))}),new google.maps.Polygon(c)):null};a.centerMap=function(a){var b=a.latlng||new google.maps.LatLng(a.lat,a.lng);this.setCenter(b);this.setZoom(a.zoom||this.params.zoom);if(a.panoData){var c=this.getStreetView();a=a.panoData.location;c.setPosition(a.latLng);c.setPano(a.pano);c.setPov({heading:90-180*Math.atan2(b.lat()-a.latLng.lat(),b.lng()-a.latLng.lng())/Math.PI,pitch:0})}};a.checkStreetView=function(a,c){this.streetViewService||(this.streetViewService=new google.maps.StreetViewService);this.streetViewService.getPanoramaByLocation(a,
50,b.hitch(this,function(a,b){b===google.maps.StreetViewStatus.OK?c(a):c(null)}))}}function n(a){a.getBounds=function(){for(var a=new google.maps.LatLngBounds,b=this.getPaths(),c,d=b.getLength(),e;d--;){c=b.getAt(d);for(e=c.getLength();e--;)a.extend(c.getAt(e))}return a}}var q=new a,r=!1,t={version:"3.13",channel:"not-set",client:"gme-redfin",sensor:!1};k.isOn(g_feature.USE_LATEST_NIGHTLY_GMAPS)&&(t.version="3.exp");k.isOn(g_feature.USE_NEXT_VERSION_GMAPS)&&(t.version="3.14");return function(a){t=
b.mixin(t,a);r||(r=!0,b.exists("google.maps.Map")?l():c(window.location.protocol+"//maps.googleapis.com/maps/api/js",{query:{client:t.client,channel:t.channel,v:t.version,sensor:t.sensor},jsonp:"callback"}).then(b.hitch(this,l),b.hitch(this,function(a){q.reject("Unable to load google maps: "+a)})));return q}})},"redfin/homepage/widgets/MyFavoritesWidget":function(){require({cache:{"url:redfin/homepage/widgets/templates/MyFavoritesWidget.html":'\x3cdiv class\x3d"MyFavoritesWidget whiteBox"\x3e\n\t\x3ca class\x3d"title" href\x3d"${WEB_SERVER}/myredfin/favorites" dojoAttachPoint\x3d"favoritesHeaderNode"\x3e\n\t\t\x3cdiv class\x3d"iconWrap"\x3e\n\t\t\t\x3cspan class\x3d"fav_icon icon"\x3e\x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\t\x3ch2 class\x3d"text"\x3eFavorites\x3c/h2\x3e\n\t\x3c/a\x3e\n\t\x3cdiv class\x3d"loading" dojoAttachPoint\x3d"loadSpinner"\x3e\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"favoriteHomes"\x3e\n\t\t\x3cdiv class\x3d"ghostTown hidden" dojoAttachPoint\x3d"favoritesGhostTownNode"\x3e\n\t\t\t\x3cdiv class\x3d"ghostTownContents"\x3e\n\t\t\t\t\x3cspan class\x3d"iconWrap"\x3e\n\t\t\t\t\t\x3cspan class\x3d"icon favoritesGhostTown"\x3e\x3c/span\x3e\n\t\t\t\t\x3c/span\x3e\n\t\t\t\t\x3cp class\x3d"ghostTownText"\x3eKeep track of the homes you\'re interested in by adding them to your favorites.\x3c/p\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv dojoAttachPoint\x3d"myFavoritesInlineNode" class\x3d"inline-block homepage row-type myFavoritesInlineNode hidden hic-grid"\x3e\x3c/div\x3e\n\t\t\x3cdiv dojoAttachPoint\x3d"favoritesControlsNode" class\x3d"favoritesControl desktop hidden"\x3e\n\t\t\t\x3cdiv dojoType\x3d"redfin.widget.Button" buttonType\x3d"tertiary" size\x3d"large" label\x3d"Tour These Homes" class\x3d"tourButton hidden" dojoAttachPoint\x3d"tourButton"\x3e\x3c/div\x3e\n\t\t\t\x3ca href\x3d"${WEB_SERVER}/myredfin/favorites" dojoAttachPoint\x3d"moreFavoritesNode" class\x3d"moreFavoritesNode"\x3eMore Favorites\x3c/a\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e'}});
define("redfin/homepage/widgets/MyFavoritesWidget","dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/MyFavoritesWidget.html dojo/dom-class dojo/_base/lang dojo/when dojo/promise/all dojo/request dojo/has dojo/on dojo/_base/event redfin/bouncer/Bouncer redfin/search/service_endpoints redfin/homepage/widgets/HomeInfoCardGrid redfin/common/data/ObjectGraph redfin/search/common/_Spinner".split(" "),function(h,b,e,a,c,d,g,f,k,l,m,p,n,q,r,t,
u,w){return h("redfin.homepage.widgets.MyFavoritesWidget",[b,e,a,w],{templateString:c,WEB_SERVER:g_webServerUrl,favoriteHomesData:null,rehydratedFavoriteHomes:null,tourableHomeIds:null,_spinner:null,postCreate:function(){this.inherited(arguments);this._spinner=this.singleSpinner({width:6,radius:20,color:"#000"});this._spinner.spin(this.loadSpinner);p(this.favoritesHeaderNode,"click",g.hitch(this,this.onClickFavoritesHeader,this.favoritesHeaderNode));f(this.favoriteHomesData,g.hitch(this,this.checkFavoriteHomes),
g.hitch(this,this.showErrorState))},checkFavoriteHomes:function(a){this.rehydratedFavoriteHomes=a&&(new u(a.payload)).getRoot().activeFavorites||[];if(0===this.rehydratedFavoriteHomes.length)this.showGhostTown();else{var b=new t({homeData:this.rehydratedFavoriteHomes,attachNode:this.myFavoritesInlineNode,GAEvent:!0,eventAction:"Favorites_Item_Clicked"});this._spinner.stop(this.loadSpinner);b.loadHomeInfoCards();d.remove(this.favoritesControlsNode,"hidden");q.isOn(g_feature.HOMEPAGE_TOUR_BUTTON)&&
(1===this.rehydratedFavoriteHomes.length&&(this.tourButton.domNode.firstElementChild.innerHTML="Tour This Home"),d.remove(this.tourButton.domNode,"hidden"),this.tourableHomeIds=a&&(new u(a.payload)).getRoot().tourable||[],0!==this.tourableHomeIds.length?p(this.tourButton,"click",g.hitch(this,this.onClickTourCart)):d.add(this.tourButton.domNode,"disabled"));p(this.moreFavoritesNode,"click",g.hitch(this,this.onClickMoreFavorites,this.moreFavoritesNode))}},showGhostTown:function(){this._spinner.stop(this.loadSpinner);
d.add(this.myFavoritesInlineNode,"hidden");d.remove(this.favoritesGhostTownNode,"hidden")},showErrorState:function(a){a.resultCode==g_apiResultCode.NOT_LOGGED_IN?this.showGhostTown():(this._spinner.stop(this.loadSpinner),this.myFavoritesInlineNode.innerHTML="We're sorry, there was an error getting your favorites.\x3cbr/\x3ePlease try again later.")},onClickFavoritesHeader:function(a,b){n.stop(b);dojo.global._gaq&&dojo.global._gaq.push(["_trackEvent","Homepage","Favorites_Header_Clicked",null,null]);
if("_blank"==a.target)return!0;setTimeout(function(){window.location=a.href},250);return!1},onClickTourCart:function(){for(var a=[],b=[],c=[],d=!0,e,f=0,g=0,h=0;h<this.rehydratedFavoriteHomes.length;h++){var k=this.rehydratedFavoriteHomes[h].getListing().getId();-1!=dojo.indexOf(this.tourableHomeIds,k)&&c.push(this.rehydratedFavoriteHomes[h])}for(h=0;h<c.length;h++)k=c[h],k.isTourableWithRedfin()&&(f++,a.push("listingId\x3d"+k.get("listing.id"))),k.isTourableWithConnect()&&(g++,b.push(k.getDataSource().id+
":"+k.get("listing.mlsId"))),k.getCorgiSearchResultDisplayType()==g_searchResultDisplayType.LISTING&&(d=k.isTourableWithConnect()&&d);dojo.global._gaq&&dojo.global._gaq.push(["_trackEvent","Homepage","Favorites_Tour_Clicked",null,0==f?g:f]);e=d?"/myredfin/choose-an-agent/chooser?dslisting_id\x3d"+b.join("\x26")+"\x26service\x3d2\x26serviceType\x3d"+g_customerActions.TOUR+"\x26referringURL\x3d"+encodeURIComponent(window.top.location):"/myredfin/next-tour/add?"+a.join("\x26")+"\x26referringURL\x3d"+
encodeURIComponent(window.top.location);setTimeout(function(){window.top.location=e},250)},onClickMoreFavorites:function(a,b){n.stop(b);dojo.global._gaq&&dojo.global._gaq.push(["_trackEvent","Homepage","Favorites_More_Clicked",null,null]);if("_blank"==a.target)return!0;setTimeout(function(){window.location=a.href},250);return!1},favoritesHeaderNode:null,myFavoritesInlineNode:null,favoritesGhostTownNode:null,favoritesControlsNode:null,tourButton:null,moreFavoritesNode:null,loadSpinner:null})})},"url:redfin/common/widgets/contactBox/templates/ContactBoxButton.html":'\x3cdiv dojoattachpoint\x3d"buttonNode" class\x3d"contactBoxButton Button basic-border-radius clickable"\x3e\n\t\x3cspan class\x3d"buttonIcon" dojoattachpoint\x3d"buttonNodeIcon"\x3e\x3c/span\x3e\n\t\x3cspan class\x3d"buttonText" dojoattachpoint\x3d"buttonNodeText"\x3e\x3c/span\x3e\n\x3c/div\x3e\n',
"dijit/nls/loading":function(){define("dijit/nls/loading",{root:{loadingState:"Loading...",errorState:"Sorry, an error occurred"},zh:!0,"zh-tw":!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,hu:!0,hr:!0,he:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,cs:!0,ca:!0,az:!0,ar:!0})},"redfin/common/HomeAddress":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-attr dojo/dom-style dojo/on dojo/mouse dojo/html dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/HomeAddress.html".split(" "),
function(h,b,e,a,c,d,g,f,k,l){return h("redfin.common.HomeAddress",[f,k],{templateString:l,openInNewTab:!1,postCreate:function(){this.inherited(arguments);!0===this._updateDisplayPostCreate&&this._updateDisplay();this._attachUserEvents()},startup:function(){this.inherited(arguments);this.resize()},_setOpenInNewTabAttr:function(a){this._set("openInNewTab",!0===a);this.openInNewTab?e.set(this.domNode,"target","_blank"):e.remove(this.domNode,"target")},_setPropertyAttr:function(a,b){if("redfin.common.data.Property"!==
a.declaredClass)return console.error('Error: HomeAddress._setPropertyAttr requires data object of type "redfin.common.data.Property"'),!1;this.set("street",a.get("streetString"),!1);this.set("unit",a.get("unitDisplayString"),!1);this.set("city",a.get("city"),!1);this.set("state",a.get("stateCode"),!1);this.set("zip",a.get("zip"),!1);!1!==b&&this._updateDisplay()},_setStreetAttr:function(a,b){this._set("street",a);!1!==b&&this._updateDisplay()},_setCityAttr:function(a,b){this._set("city",a);!1!==b&&
this._updateDisplay()},_setStateAttr:function(a,b){this._set("state",a);!1!==b&&this._updateDisplay()},_setZipAttr:function(a,b){this._set("zip",a);!1!==b&&this._updateDisplay()},_setUnitAttr:function(a,b){this._set("unit",a);!1!==b&&this._updateDisplay()},_setCityStateZipAttr:function(a,b){this._set("cityStateZip",a);!1!==b&&this._updateDisplay()},_setUrlAttr:function(a,b){"string"===typeof a&&1<a.length?this._set("url",a):this._set("url",null);!1!==b&&this._updateDisplay()},_setShowTooltipAttr:function(a){this._set("showTooltip",
!0===a)},resize:function(){var b=this._addressNode.offsetWidth;if(0>=b)return!1;var c=this._unitNode.offsetWidth,d=c/b;this.unit&&0<c&&(0.75<d?(a.set(this._unitNode,"maxWidth",Math.floor(0.75*b)+"px"),a.set(this._streetNode,"maxWidth",Math.floor(0.25*b)+"px")):0.75>d&&0<d&&(a.set(this._unitNode,"maxWidth",null),a.set(this._streetNode,"maxWidth",Math.floor(b-c-5)+"px")))},_attachUserEvents:function(){c(this.domNode,d.enter,dojo.hitch(this,this._addAddressOverflowTooltip))},_updateDisplay:function(){if(!0!==
this._created)return this._updateDisplayPostCreate=!0,!1;g.set(this._streetNode,this.street||"");g.set(this._unitNode,this.unit||"");var a;this.city||this.state||this.zip?(a="",this.city&&this.state||this.city&&this.zip?a+=this.city+", ":this.city&&(a+=this.city),this.state&&(a+=this.state),this.state&&this.zip&&(a+=" "),this.zip&&(a+=this.zip)):a=this.cityStateZip?this.cityStateZip:"\x26nbsp";g.set(this._regionNode,a);b.toggle(this._streetNode,"noUnit",!this.unit);b.toggle(this._unitNode,"hidden",
!this.unit);this.url?e.set(this.domNode,"href",this.url):e.remove(this.domNode,"href");this._started&&this.resize()},_addAddressOverflowTooltip:function(a){if(void 0===this._addressTooltip&&(this._addressNode.offsetWidth<this._addressNode.scrollWidth||this._regionNode.offsetWidth<this._regionNode.scrollWidth))msg=this._streetNode.innerHTML+" "+this._unitNode.innerHTML+"\x3cbr/\x3e"+this._regionNode.innerHTML,this._addressTooltip=new redfin.search.common.elements.HoverTooltip({text:msg,connectIds:[this.domNode]}),
this._addressTooltip.show(a)}})})},"redfin/common/testing/ABTestController":function(){define("dojo/_base/declare dojo/_base/lang dojo/when redfin/bouncer/Bouncer redfin/common/testing/BaseABTestController redfin/clicktracker".split(" "),function(h,b,e,a,c,d){return h("redfin.common.testing.ABTestController",[c],{bouncerExperiment:null,bouncerVariant:null,finishedSendingGoal:!1,initialize:function(b){if(null===this.loaded&&(this.inherited(arguments),!this.loaded.isRejected())){("undefined"===typeof b.experimentId||
null===b.experimentId)&&this.loaded.reject("No experiment Id");("undefined"===typeof b.experimentInstanceId||null===b.experimentInstanceId)&&this.loaded.reject("No experiment Instance Id");if("undefined"===typeof b.recordStart||null===b.recordStart)b.recordStart=!0;if(this.bouncerExperiment=a.isOn(b.experimentId)){var c=g_feature.idToObj[b.experimentId].name;this.defaultClicktrackerParams.testingPlatform="RedfinBouncer";this.defaultClicktrackerParams.experimentId=b.experimentId;this.defaultClicktrackerParams.experimentName=
c;"undefined"!==typeof b.experimentInstanceId&&null!==b.experimentInstanceId&&(this.defaultClicktrackerParams.experimentInstanceId=b.experimentInstanceId);"undefined"!==typeof b.experimentGroupId&&null!==b.experimentGroupId&&(this.defaultClicktrackerParams.experimentGroupId=b.experimentGroupId);this.variant=a.getVariant(b.experimentId);this.defaultClicktrackerParams.cohortId=this.variant;b.recordStart&&this.recordClicktrackerInitSuccess();this.loaded.resolve(this.variant)}else this.loaded.reject("Error! Experiment is not on! Make sure it is turned on in Bouncer!")}},
completedGoal:function(a,b,c){var d=!0;"undefined"!==typeof c&&null!==c&&(d=c);null===this.variant?this._completedGoalErrorFn("Experiment not initialized properly!",a,b):this._completedGoalSuccessFn(a,b,d)},_completedGoalSuccessFn:function(a,c,d){if("undefined"===typeof c||null===c)c={};this.finishedSendingGoal=!0;c=this.recordClicktrackerSuccess(c,d);null!==a&&e(c,b.hitch(this,function(b){a()}),b.hitch(this,function(b){a()}))},_completedGoalErrorFn:function(a,c,d){this.finishedSendingGoal=!0;a=this.recordClicktrackerError("Error! Cannot record Success. Continue to execute.");
null!==c&&e(a,b.hitch(this,function(a){c()}),b.hitch(this,function(a){c()}))}})})},"dijit/TooltipDialog":function(){require({cache:{"url:dijit/templates/TooltipDialog.html":'\x3cdiv role\x3d"presentation" tabIndex\x3d"-1"\x3e\n\t\x3cdiv class\x3d"dijitTooltipContainer" role\x3d"presentation"\x3e\n\t\t\x3cdiv class \x3d"dijitTooltipContents dijitTooltipFocusNode" data-dojo-attach-point\x3d"containerNode" role\x3d"dialog"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTooltipConnector" role\x3d"presentation" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n'}});
define("dijit/TooltipDialog","dojo/_base/declare dojo/dom-class dojo/_base/event dojo/keys dojo/_base/lang ./focus ./layout/ContentPane ./_DialogMixin ./form/_FormMixin ./_TemplatedMixin dojo/text!./templates/TooltipDialog.html ./main".split(" "),function(h,b,e,a,c,d,g,f,k,l,m,p){return h("dijit.TooltipDialog",[g,l,k,f],{title:"",doLayout:!1,autofocus:!0,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:m,_setTitleAttr:function(a){this.containerNode.title=a;this._set("title",
a)},postCreate:function(){this.inherited(arguments);this.connect(this.containerNode,"onkeypress","_onKey")},orient:function(a,c,d){a={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[c+"-"+d];b.replace(this.domNode,
a,this._currentOrientClass||"");this._currentOrientClass=a},focus:function(){this._getFocusItems(this.containerNode);d.focus(this._firstFocusItem)},onOpen:function(a){this.orient(this.domNode,a.aroundCorner,a.corner);var b=a.aroundNodePos;"M"==a.corner.charAt(0)&&"M"==a.aroundCorner.charAt(0)?(this.connectorNode.style.top=b.y+(b.h-this.connectorNode.offsetHeight>>1)-a.y+"px",this.connectorNode.style.left=""):"M"==a.corner.charAt(1)&&"M"==a.aroundCorner.charAt(1)&&(this.connectorNode.style.left=b.x+
(b.w-this.connectorNode.offsetWidth>>1)-a.x+"px");this._onShow()},onClose:function(){this.onHide()},_onKey:function(b){var c=b.target;b.charOrCode===a.TAB&&this._getFocusItems(this.containerNode);var f=this._firstFocusItem==this._lastFocusItem;b.charOrCode==a.ESCAPE?(this.defer("onCancel"),e.stop(b)):c==this._firstFocusItem&&b.shiftKey&&b.charOrCode===a.TAB?(f||d.focus(this._lastFocusItem),e.stop(b)):c==this._lastFocusItem&&b.charOrCode===a.TAB&&!b.shiftKey?(f||d.focus(this._firstFocusItem),e.stop(b)):
b.charOrCode===a.TAB&&b.stopPropagation()}})})},"*now":function(h){h(["dojo/i18n!*preload*redfin/profile/nls/NewHomePage*[]"])}}});
define("redfin/profile/NewHomePage",["dijit","dojo","dojox","dojo/require!redfin/request/xhr,redfin/common/page_analytics,redfin/homepage/controllers/HomePageController,redfin/common/CurrentUserInfo,redfin/header/TopMenus,redfin/header/UserMenu"],function(h,b,e){b.provide("redfin.profile.NewHomePage");b.require("redfin.request.xhr");b.require("redfin.common.page_analytics");b.require("redfin.homepage.controllers.HomePageController");b.require("redfin.common.CurrentUserInfo");b.require("redfin.header.TopMenus");
b.require("redfin.header.UserMenu")});